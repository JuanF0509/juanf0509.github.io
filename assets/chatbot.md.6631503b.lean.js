var Iu=Object.defineProperty;var ku=(r,e,t)=>e in r?Iu(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var et=(r,e,t)=>(ku(r,typeof e!="symbol"?e+"":e,t),t);import{a2 as Oe,h as ne,j as Ru,o as at,c as st,k as Q,a3 as Cu,a4 as Nu,n as Wa,l as Et,e as Er,F as Lu,G as Du,t as Tn,U as fa,J as Mu}from"./chunks/framework.65f1bd78.js";const Fu="/assets/P2P_Logo.9747f7ab.svg",br="/assets/favicon.0ca187ef.ico",Bu="/assets/OpenAI_Logo.03c6937a.svg",$u="/assets/clipboard1.730016c0.svg",Uu="/assets/clipboard2.9485ebf1.svg",Vu="/assets/clipboard3.7130bc87.svg",mi="/assets/user-icon.c254f7fb.svg";function yi(r,e){return function(){return r.apply(e,arguments)}}const{toString:zu}=Object.prototype,{getPrototypeOf:ma}=Object,Hr=(r=>e=>{const t=zu.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Ke=r=>(r=r.toLowerCase(),e=>Hr(e)===r),Yr=r=>e=>typeof e===r,{isArray:zt}=Array,or=Yr("undefined");function qu(r){return r!==null&&!or(r)&&r.constructor!==null&&!or(r.constructor)&&ke(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const gi=Ke("ArrayBuffer");function Zu(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&gi(r.buffer),e}const Ku=Yr("string"),ke=Yr("function"),bi=Yr("number"),Jr=r=>r!==null&&typeof r=="object",Hu=r=>r===!0||r===!1,kr=r=>{if(Hr(r)!=="object")return!1;const e=ma(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Yu=Ke("Date"),Ju=Ke("File"),Wu=Ke("Blob"),Gu=Ke("FileList"),Qu=r=>Jr(r)&&ke(r.pipe),Xu=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||ke(r.append)&&((e=Hr(r))==="formdata"||e==="object"&&ke(r.toString)&&r.toString()==="[object FormData]"))},ec=Ke("URLSearchParams"),tc=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _r(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,a;if(typeof r!="object"&&(r=[r]),zt(r))for(n=0,a=r.length;n<a;n++)e.call(null,r[n],n,r);else{const s=t?Object.getOwnPropertyNames(r):Object.keys(r),i=s.length;let o;for(n=0;n<i;n++)o=s[n],e.call(null,r[o],o,r)}}function _i(r,e){e=e.toLowerCase();const t=Object.keys(r);let n=t.length,a;for(;n-- >0;)if(a=t[n],e===a.toLowerCase())return a;return null}const vi=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),wi=r=>!or(r)&&r!==vi;function ra(){const{caseless:r}=wi(this)&&this||{},e={},t=(n,a)=>{const s=r&&_i(e,a)||a;kr(e[s])&&kr(n)?e[s]=ra(e[s],n):kr(n)?e[s]=ra({},n):zt(n)?e[s]=n.slice():e[s]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&_r(arguments[n],t);return e}const rc=(r,e,t,{allOwnKeys:n}={})=>(_r(e,(a,s)=>{t&&ke(a)?r[s]=yi(a,t):r[s]=a},{allOwnKeys:n}),r),nc=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),ac=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},sc=(r,e,t,n)=>{let a,s,i;const o={};if(e=e||{},r==null)return e;do{for(a=Object.getOwnPropertyNames(r),s=a.length;s-- >0;)i=a[s],(!n||n(i,r,e))&&!o[i]&&(e[i]=r[i],o[i]=!0);r=t!==!1&&ma(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},ic=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},oc=r=>{if(!r)return null;if(zt(r))return r;let e=r.length;if(!bi(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},uc=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&ma(Uint8Array)),cc=(r,e)=>{const n=(r&&r[Symbol.iterator]).call(r);let a;for(;(a=n.next())&&!a.done;){const s=a.value;e.call(r,s[0],s[1])}},lc=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},dc=Ke("HTMLFormElement"),hc=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,a){return n.toUpperCase()+a}),Ga=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),pc=Ke("RegExp"),Oi=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};_r(t,(a,s)=>{e(a,s,r)!==!1&&(n[s]=a)}),Object.defineProperties(r,n)},fc=r=>{Oi(r,(e,t)=>{if(ke(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(ke(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},mc=(r,e)=>{const t={},n=a=>{a.forEach(s=>{t[s]=!0})};return zt(r)?n(r):n(String(r).split(e)),t},yc=()=>{},gc=(r,e)=>(r=+r,Number.isFinite(r)?r:e),Sn="abcdefghijklmnopqrstuvwxyz",Qa="0123456789",Ai={DIGIT:Qa,ALPHA:Sn,ALPHA_DIGIT:Sn+Sn.toUpperCase()+Qa},bc=(r=16,e=Ai.ALPHA_DIGIT)=>{let t="";const{length:n}=e;for(;r--;)t+=e[Math.random()*n|0];return t};function _c(r){return!!(r&&ke(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const vc=r=>{const e=new Array(10),t=(n,a)=>{if(Jr(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[a]=n;const s=zt(n)?[]:{};return _r(n,(i,o)=>{const u=t(i,a+1);!or(u)&&(s[o]=u)}),e[a]=void 0,s}}return n};return t(r,0)},wc=Ke("AsyncFunction"),Oc=r=>r&&(Jr(r)||ke(r))&&ke(r.then)&&ke(r.catch),k={isArray:zt,isArrayBuffer:gi,isBuffer:qu,isFormData:Xu,isArrayBufferView:Zu,isString:Ku,isNumber:bi,isBoolean:Hu,isObject:Jr,isPlainObject:kr,isUndefined:or,isDate:Yu,isFile:Ju,isBlob:Wu,isRegExp:pc,isFunction:ke,isStream:Qu,isURLSearchParams:ec,isTypedArray:uc,isFileList:Gu,forEach:_r,merge:ra,extend:rc,trim:tc,stripBOM:nc,inherits:ac,toFlatObject:sc,kindOf:Hr,kindOfTest:Ke,endsWith:ic,toArray:oc,forEachEntry:cc,matchAll:lc,isHTMLForm:dc,hasOwnProperty:Ga,hasOwnProp:Ga,reduceDescriptors:Oi,freezeMethods:fc,toObjectSet:mc,toCamelCase:hc,noop:yc,toFiniteNumber:gc,findKey:_i,global:vi,isContextDefined:wi,ALPHABET:Ai,generateString:bc,isSpecCompliantForm:_c,toJSONObject:vc,isAsyncFn:wc,isThenable:Oc};function te(r,e,t,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),a&&(this.response=a)}k.inherits(te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:k.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Ei=te.prototype,Pi={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Pi[r]={value:r}});Object.defineProperties(te,Pi);Object.defineProperty(Ei,"isAxiosError",{value:!0});te.from=(r,e,t,n,a,s)=>{const i=Object.create(Ei);return k.toFlatObject(r,i,function(u){return u!==Error.prototype},o=>o!=="isAxiosError"),te.call(i,r.message,e,t,n,a),i.cause=r,i.name=r.name,s&&Object.assign(i,s),i};const Ac=null;function na(r){return k.isPlainObject(r)||k.isArray(r)}function xi(r){return k.endsWith(r,"[]")?r.slice(0,-2):r}function Xa(r,e,t){return r?r.concat(e).map(function(a,s){return a=xi(a),!t&&s?"["+a+"]":a}).join(t?".":""):e}function Ec(r){return k.isArray(r)&&!r.some(na)}const Pc=k.toFlatObject(k,{},null,function(e){return/^is[A-Z]/.test(e)});function Wr(r,e,t){if(!k.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=k.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,g){return!k.isUndefined(g[w])});const n=t.metaTokens,a=t.visitor||l,s=t.dots,i=t.indexes,u=(t.Blob||typeof Blob<"u"&&Blob)&&k.isSpecCompliantForm(e);if(!k.isFunction(a))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(k.isDate(m))return m.toISOString();if(!u&&k.isBlob(m))throw new te("Blob is not supported. Use a Buffer instead.");return k.isArrayBuffer(m)||k.isTypedArray(m)?u&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function l(m,w,g){let x=m;if(m&&!g&&typeof m=="object"){if(k.endsWith(w,"{}"))w=n?w:w.slice(0,-2),m=JSON.stringify(m);else if(k.isArray(m)&&Ec(m)||(k.isFileList(m)||k.endsWith(w,"[]"))&&(x=k.toArray(m)))return w=xi(w),x.forEach(function(T,P){!(k.isUndefined(T)||T===null)&&e.append(i===!0?Xa([w],P,s):i===null?w:w+"[]",c(T))}),!1}return na(m)?!0:(e.append(Xa(g,w,s),c(m)),!1)}const d=[],p=Object.assign(Pc,{defaultVisitor:l,convertValue:c,isVisitable:na});function v(m,w){if(!k.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+w.join("."));d.push(m),k.forEach(m,function(x,I){(!(k.isUndefined(x)||x===null)&&a.call(e,x,k.isString(I)?I.trim():I,w,p))===!0&&v(x,w?w.concat(I):[I])}),d.pop()}}if(!k.isObject(r))throw new TypeError("data must be an object");return v(r),e}function es(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function ya(r,e){this._pairs=[],r&&Wr(r,this,e)}const Ti=ya.prototype;Ti.append=function(e,t){this._pairs.push([e,t])};Ti.toString=function(e){const t=e?function(n){return e.call(this,n,es)}:es;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function xc(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Si(r,e,t){if(!e)return r;const n=t&&t.encode||xc,a=t&&t.serialize;let s;if(a?s=a(e,t):s=k.isURLSearchParams(e)?e.toString():new ya(e,t).toString(n),s){const i=r.indexOf("#");i!==-1&&(r=r.slice(0,i)),r+=(r.indexOf("?")===-1?"?":"&")+s}return r}let Tc=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){k.forEach(this.handlers,function(n){n!==null&&e(n)})}};const ts=Tc,ji={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Sc=typeof URLSearchParams<"u"?URLSearchParams:ya,jc=typeof FormData<"u"?FormData:null,Ic=typeof Blob<"u"?Blob:null,kc=(()=>{let r;return typeof navigator<"u"&&((r=navigator.product)==="ReactNative"||r==="NativeScript"||r==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Rc=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),$e={isBrowser:!0,classes:{URLSearchParams:Sc,FormData:jc,Blob:Ic},isStandardBrowserEnv:kc,isStandardBrowserWebWorkerEnv:Rc,protocols:["http","https","file","blob","url","data"]};function Cc(r,e){return Wr(r,new $e.classes.URLSearchParams,Object.assign({visitor:function(t,n,a,s){return $e.isNode&&k.isBuffer(t)?(this.append(n,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Nc(r){return k.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Lc(r){const e={},t=Object.keys(r);let n;const a=t.length;let s;for(n=0;n<a;n++)s=t[n],e[s]=r[s];return e}function Ii(r){function e(t,n,a,s){let i=t[s++];const o=Number.isFinite(+i),u=s>=t.length;return i=!i&&k.isArray(a)?a.length:i,u?(k.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!o):((!a[i]||!k.isObject(a[i]))&&(a[i]=[]),e(t,n,a[i],s)&&k.isArray(a[i])&&(a[i]=Lc(a[i])),!o)}if(k.isFormData(r)&&k.isFunction(r.entries)){const t={};return k.forEachEntry(r,(n,a)=>{e(Nc(n),a,t,0)}),t}return null}const Dc={"Content-Type":void 0};function Mc(r,e,t){if(k.isString(r))try{return(e||JSON.parse)(r),k.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}const Gr={transitional:ji,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",a=n.indexOf("application/json")>-1,s=k.isObject(e);if(s&&k.isHTMLForm(e)&&(e=new FormData(e)),k.isFormData(e))return a&&a?JSON.stringify(Ii(e)):e;if(k.isArrayBuffer(e)||k.isBuffer(e)||k.isStream(e)||k.isFile(e)||k.isBlob(e))return e;if(k.isArrayBufferView(e))return e.buffer;if(k.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Cc(e,this.formSerializer).toString();if((o=k.isFileList(e))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Wr(o?{"files[]":e}:e,u&&new u,this.formSerializer)}}return s||a?(t.setContentType("application/json",!1),Mc(e)):e}],transformResponse:[function(e){const t=this.transitional||Gr.transitional,n=t&&t.forcedJSONParsing,a=this.responseType==="json";if(e&&k.isString(e)&&(n&&!this.responseType||a)){const i=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(o){if(i)throw o.name==="SyntaxError"?te.from(o,te.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$e.classes.FormData,Blob:$e.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};k.forEach(["delete","get","head"],function(e){Gr.headers[e]={}});k.forEach(["post","put","patch"],function(e){Gr.headers[e]=k.merge(Dc)});const ga=Gr,Fc=k.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Bc=r=>{const e={};let t,n,a;return r&&r.split(`
`).forEach(function(i){a=i.indexOf(":"),t=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!t||e[t]&&Fc[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},rs=Symbol("internals");function Zt(r){return r&&String(r).trim().toLowerCase()}function Rr(r){return r===!1||r==null?r:k.isArray(r)?r.map(Rr):String(r)}function $c(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const Uc=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function jn(r,e,t,n,a){if(k.isFunction(n))return n.call(this,e,t);if(a&&(e=t),!!k.isString(e)){if(k.isString(n))return e.indexOf(n)!==-1;if(k.isRegExp(n))return n.test(e)}}function Vc(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function zc(r,e){const t=k.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(a,s,i){return this[n].call(this,e,a,s,i)},configurable:!0})})}class Qr{constructor(e){e&&this.set(e)}set(e,t,n){const a=this;function s(o,u,c){const l=Zt(u);if(!l)throw new Error("header name must be a non-empty string");const d=k.findKey(a,l);(!d||a[d]===void 0||c===!0||c===void 0&&a[d]!==!1)&&(a[d||u]=Rr(o))}const i=(o,u)=>k.forEach(o,(c,l)=>s(c,l,u));return k.isPlainObject(e)||e instanceof this.constructor?i(e,t):k.isString(e)&&(e=e.trim())&&!Uc(e)?i(Bc(e),t):e!=null&&s(t,e,n),this}get(e,t){if(e=Zt(e),e){const n=k.findKey(this,e);if(n){const a=this[n];if(!t)return a;if(t===!0)return $c(a);if(k.isFunction(t))return t.call(this,a,n);if(k.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Zt(e),e){const n=k.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||jn(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let a=!1;function s(i){if(i=Zt(i),i){const o=k.findKey(n,i);o&&(!t||jn(n,n[o],o,t))&&(delete n[o],a=!0)}}return k.isArray(e)?e.forEach(s):s(e),a}clear(e){const t=Object.keys(this);let n=t.length,a=!1;for(;n--;){const s=t[n];(!e||jn(this,this[s],s,e,!0))&&(delete this[s],a=!0)}return a}normalize(e){const t=this,n={};return k.forEach(this,(a,s)=>{const i=k.findKey(n,s);if(i){t[i]=Rr(a),delete t[s];return}const o=e?Vc(s):String(s).trim();o!==s&&delete t[s],t[o]=Rr(a),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return k.forEach(this,(n,a)=>{n!=null&&n!==!1&&(t[a]=e&&k.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[rs]=this[rs]={accessors:{}}).accessors,a=this.prototype;function s(i){const o=Zt(i);n[o]||(zc(a,i),n[o]=!0)}return k.isArray(e)?e.forEach(s):s(e),this}}Qr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);k.freezeMethods(Qr.prototype);k.freezeMethods(Qr);const Je=Qr;function In(r,e){const t=this||ga,n=e||t,a=Je.from(n.headers);let s=n.data;return k.forEach(r,function(o){s=o.call(t,s,a.normalize(),e?e.status:void 0)}),a.normalize(),s}function ki(r){return!!(r&&r.__CANCEL__)}function vr(r,e,t){te.call(this,r??"canceled",te.ERR_CANCELED,e,t),this.name="CanceledError"}k.inherits(vr,te,{__CANCEL__:!0});function qc(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new te("Request failed with status code "+t.status,[te.ERR_BAD_REQUEST,te.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}const Zc=$e.isStandardBrowserEnv?function(){return{write:function(t,n,a,s,i,o){const u=[];u.push(t+"="+encodeURIComponent(n)),k.isNumber(a)&&u.push("expires="+new Date(a).toGMTString()),k.isString(s)&&u.push("path="+s),k.isString(i)&&u.push("domain="+i),o===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(t){const n=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Kc(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function Hc(r,e){return e?r.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):r}function Ri(r,e){return r&&!Kc(e)?Hc(r,e):e}const Yc=$e.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function a(s){let i=s;return e&&(t.setAttribute("href",i),i=t.href),t.setAttribute("href",i),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return n=a(window.location.href),function(i){const o=k.isString(i)?a(i):i;return o.protocol===n.protocol&&o.host===n.host}}():function(){return function(){return!0}}();function Jc(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function Wc(r,e){r=r||10;const t=new Array(r),n=new Array(r);let a=0,s=0,i;return e=e!==void 0?e:1e3,function(u){const c=Date.now(),l=n[s];i||(i=c),t[a]=u,n[a]=c;let d=s,p=0;for(;d!==a;)p+=t[d++],d=d%r;if(a=(a+1)%r,a===s&&(s=(s+1)%r),c-i<e)return;const v=l&&c-l;return v?Math.round(p*1e3/v):void 0}}function ns(r,e){let t=0;const n=Wc(50,250);return a=>{const s=a.loaded,i=a.lengthComputable?a.total:void 0,o=s-t,u=n(o),c=s<=i;t=s;const l={loaded:s,total:i,progress:i?s/i:void 0,bytes:o,rate:u||void 0,estimated:u&&i&&c?(i-s)/u:void 0,event:a};l[e?"download":"upload"]=!0,r(l)}}const Gc=typeof XMLHttpRequest<"u",Qc=Gc&&function(r){return new Promise(function(t,n){let a=r.data;const s=Je.from(r.headers).normalize(),i=r.responseType;let o;function u(){r.cancelToken&&r.cancelToken.unsubscribe(o),r.signal&&r.signal.removeEventListener("abort",o)}k.isFormData(a)&&($e.isStandardBrowserEnv||$e.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(r.auth){const v=r.auth.username||"",m=r.auth.password?unescape(encodeURIComponent(r.auth.password)):"";s.set("Authorization","Basic "+btoa(v+":"+m))}const l=Ri(r.baseURL,r.url);c.open(r.method.toUpperCase(),Si(l,r.params,r.paramsSerializer),!0),c.timeout=r.timeout;function d(){if(!c)return;const v=Je.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),w={data:!i||i==="text"||i==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:v,config:r,request:c};qc(function(x){t(x),u()},function(x){n(x),u()},w),c=null}if("onloadend"in c?c.onloadend=d:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(d)},c.onabort=function(){c&&(n(new te("Request aborted",te.ECONNABORTED,r,c)),c=null)},c.onerror=function(){n(new te("Network Error",te.ERR_NETWORK,r,c)),c=null},c.ontimeout=function(){let m=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const w=r.transitional||ji;r.timeoutErrorMessage&&(m=r.timeoutErrorMessage),n(new te(m,w.clarifyTimeoutError?te.ETIMEDOUT:te.ECONNABORTED,r,c)),c=null},$e.isStandardBrowserEnv){const v=(r.withCredentials||Yc(l))&&r.xsrfCookieName&&Zc.read(r.xsrfCookieName);v&&s.set(r.xsrfHeaderName,v)}a===void 0&&s.setContentType(null),"setRequestHeader"in c&&k.forEach(s.toJSON(),function(m,w){c.setRequestHeader(w,m)}),k.isUndefined(r.withCredentials)||(c.withCredentials=!!r.withCredentials),i&&i!=="json"&&(c.responseType=r.responseType),typeof r.onDownloadProgress=="function"&&c.addEventListener("progress",ns(r.onDownloadProgress,!0)),typeof r.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",ns(r.onUploadProgress)),(r.cancelToken||r.signal)&&(o=v=>{c&&(n(!v||v.type?new vr(null,r,c):v),c.abort(),c=null)},r.cancelToken&&r.cancelToken.subscribe(o),r.signal&&(r.signal.aborted?o():r.signal.addEventListener("abort",o)));const p=Jc(l);if(p&&$e.protocols.indexOf(p)===-1){n(new te("Unsupported protocol "+p+":",te.ERR_BAD_REQUEST,r));return}c.send(a||null)})},Cr={http:Ac,xhr:Qc};k.forEach(Cr,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const Xc={getAdapter:r=>{r=k.isArray(r)?r:[r];const{length:e}=r;let t,n;for(let a=0;a<e&&(t=r[a],!(n=k.isString(t)?Cr[t.toLowerCase()]:t));a++);if(!n)throw n===!1?new te(`Adapter ${t} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(k.hasOwnProp(Cr,t)?`Adapter '${t}' is not available in the build`:`Unknown adapter '${t}'`);if(!k.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:Cr};function kn(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new vr(null,r)}function as(r){return kn(r),r.headers=Je.from(r.headers),r.data=In.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),Xc.getAdapter(r.adapter||ga.adapter)(r).then(function(n){return kn(r),n.data=In.call(r,r.transformResponse,n),n.headers=Je.from(n.headers),n},function(n){return ki(n)||(kn(r),n&&n.response&&(n.response.data=In.call(r,r.transformResponse,n.response),n.response.headers=Je.from(n.response.headers))),Promise.reject(n)})}const ss=r=>r instanceof Je?r.toJSON():r;function kt(r,e){e=e||{};const t={};function n(c,l,d){return k.isPlainObject(c)&&k.isPlainObject(l)?k.merge.call({caseless:d},c,l):k.isPlainObject(l)?k.merge({},l):k.isArray(l)?l.slice():l}function a(c,l,d){if(k.isUndefined(l)){if(!k.isUndefined(c))return n(void 0,c,d)}else return n(c,l,d)}function s(c,l){if(!k.isUndefined(l))return n(void 0,l)}function i(c,l){if(k.isUndefined(l)){if(!k.isUndefined(c))return n(void 0,c)}else return n(void 0,l)}function o(c,l,d){if(d in e)return n(c,l);if(d in r)return n(void 0,c)}const u={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(c,l)=>a(ss(c),ss(l),!0)};return k.forEach(Object.keys(Object.assign({},r,e)),function(l){const d=u[l]||a,p=d(r[l],e[l],l);k.isUndefined(p)&&d!==o||(t[l]=p)}),t}const Ci="1.4.0",ba={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{ba[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const is={};ba.transitional=function(e,t,n){function a(s,i){return"[Axios v"+Ci+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,o)=>{if(e===!1)throw new te(a(i," has been removed"+(t?" in "+t:"")),te.ERR_DEPRECATED);return t&&!is[i]&&(is[i]=!0,console.warn(a(i," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,i,o):!0}};function el(r,e,t){if(typeof r!="object")throw new te("options must be an object",te.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let a=n.length;for(;a-- >0;){const s=n[a],i=e[s];if(i){const o=r[s],u=o===void 0||i(o,s,r);if(u!==!0)throw new te("option "+s+" must be "+u,te.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new te("Unknown option "+s,te.ERR_BAD_OPTION)}}const aa={assertOptions:el,validators:ba},tt=aa.validators;let Br=class{constructor(e){this.defaults=e,this.interceptors={request:new ts,response:new ts}}request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=kt(this.defaults,t);const{transitional:n,paramsSerializer:a,headers:s}=t;n!==void 0&&aa.assertOptions(n,{silentJSONParsing:tt.transitional(tt.boolean),forcedJSONParsing:tt.transitional(tt.boolean),clarifyTimeoutError:tt.transitional(tt.boolean)},!1),a!=null&&(k.isFunction(a)?t.paramsSerializer={serialize:a}:aa.assertOptions(a,{encode:tt.function,serialize:tt.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i;i=s&&k.merge(s.common,s[t.method]),i&&k.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),t.headers=Je.concat(i,s);const o=[];let u=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(t)===!1||(u=u&&w.synchronous,o.unshift(w.fulfilled,w.rejected))});const c=[];this.interceptors.response.forEach(function(w){c.push(w.fulfilled,w.rejected)});let l,d=0,p;if(!u){const m=[as.bind(this),void 0];for(m.unshift.apply(m,o),m.push.apply(m,c),p=m.length,l=Promise.resolve(t);d<p;)l=l.then(m[d++],m[d++]);return l}p=o.length;let v=t;for(d=0;d<p;){const m=o[d++],w=o[d++];try{v=m(v)}catch(g){w.call(this,g);break}}try{l=as.call(this,v)}catch(m){return Promise.reject(m)}for(d=0,p=c.length;d<p;)l=l.then(c[d++],c[d++]);return l}getUri(e){e=kt(this.defaults,e);const t=Ri(e.baseURL,e.url);return Si(t,e.params,e.paramsSerializer)}};k.forEach(["delete","get","head","options"],function(e){Br.prototype[e]=function(t,n){return this.request(kt(n||{},{method:e,url:t,data:(n||{}).data}))}});k.forEach(["post","put","patch"],function(e){function t(n){return function(s,i,o){return this.request(kt(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}Br.prototype[e]=t(),Br.prototype[e+"Form"]=t(!0)});const Nr=Br;class _a{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const i=new Promise(o=>{n.subscribe(o),s=o}).then(a);return i.cancel=function(){n.unsubscribe(s)},i},e(function(s,i,o){n.reason||(n.reason=new vr(s,i,o),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new _a(function(a){e=a}),cancel:e}}}const tl=_a;function rl(r){return function(t){return r.apply(null,t)}}function nl(r){return k.isObject(r)&&r.isAxiosError===!0}const sa={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sa).forEach(([r,e])=>{sa[e]=r});const al=sa;function Ni(r){const e=new Nr(r),t=yi(Nr.prototype.request,e);return k.extend(t,Nr.prototype,e,{allOwnKeys:!0}),k.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return Ni(kt(r,a))},t}const le=Ni(ga);le.Axios=Nr;le.CanceledError=vr;le.CancelToken=tl;le.isCancel=ki;le.VERSION=Ci;le.toFormData=Wr;le.AxiosError=te;le.Cancel=le.CanceledError;le.all=function(e){return Promise.all(e)};le.spread=rl;le.isAxiosError=nl;le.mergeConfig=kt;le.AxiosHeaders=Je;le.formToJSON=r=>Ii(k.isHTMLForm(r)?new FormData(r):r);le.HttpStatusCode=al;le.default=le;const Pr=le;var Ue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xr(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function sl(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){if(this instanceof n){var a=[null];a.push.apply(a,arguments);var s=Function.bind.apply(e,a);return new s}return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var a=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return r[n]}})}),t}var _t={},Li={},va={exports:{}},Di=function(e,t){return function(){for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];return e.apply(t,a)}},il=Di,ht=Object.prototype.toString;function wa(r){return Array.isArray(r)}function ia(r){return typeof r>"u"}function ol(r){return r!==null&&!ia(r)&&r.constructor!==null&&!ia(r.constructor)&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function Mi(r){return ht.call(r)==="[object ArrayBuffer]"}function ul(r){return ht.call(r)==="[object FormData]"}function cl(r){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&Mi(r.buffer),e}function ll(r){return typeof r=="string"}function dl(r){return typeof r=="number"}function Fi(r){return r!==null&&typeof r=="object"}function Lr(r){if(ht.call(r)!=="[object Object]")return!1;var e=Object.getPrototypeOf(r);return e===null||e===Object.prototype}function hl(r){return ht.call(r)==="[object Date]"}function pl(r){return ht.call(r)==="[object File]"}function fl(r){return ht.call(r)==="[object Blob]"}function Bi(r){return ht.call(r)==="[object Function]"}function ml(r){return Fi(r)&&Bi(r.pipe)}function yl(r){return ht.call(r)==="[object URLSearchParams]"}function gl(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function bl(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Oa(r,e){if(!(r===null||typeof r>"u"))if(typeof r!="object"&&(r=[r]),wa(r))for(var t=0,n=r.length;t<n;t++)e.call(null,r[t],t,r);else for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.call(null,r[a],a,r)}function oa(){var r={};function e(a,s){Lr(r[s])&&Lr(a)?r[s]=oa(r[s],a):Lr(a)?r[s]=oa({},a):wa(a)?r[s]=a.slice():r[s]=a}for(var t=0,n=arguments.length;t<n;t++)Oa(arguments[t],e);return r}function _l(r,e,t){return Oa(e,function(a,s){t&&typeof a=="function"?r[s]=il(a,t):r[s]=a}),r}function vl(r){return r.charCodeAt(0)===65279&&(r=r.slice(1)),r}var Ee={isArray:wa,isArrayBuffer:Mi,isBuffer:ol,isFormData:ul,isArrayBufferView:cl,isString:ll,isNumber:dl,isObject:Fi,isPlainObject:Lr,isUndefined:ia,isDate:hl,isFile:pl,isBlob:fl,isFunction:Bi,isStream:ml,isURLSearchParams:yl,isStandardBrowserEnv:bl,forEach:Oa,merge:oa,extend:_l,trim:gl,stripBOM:vl},Pt=Ee;function os(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var $i=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(Pt.isURLSearchParams(t))a=t.toString();else{var s=[];Pt.forEach(t,function(u,c){u===null||typeof u>"u"||(Pt.isArray(u)?c=c+"[]":u=[u],Pt.forEach(u,function(d){Pt.isDate(d)?d=d.toISOString():Pt.isObject(d)&&(d=JSON.stringify(d)),s.push(os(c)+"="+os(d))}))}),a=s.join("&")}if(a){var i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e},wl=Ee;function en(){this.handlers=[]}en.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};en.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};en.prototype.forEach=function(e){wl.forEach(this.handlers,function(n){n!==null&&e(n)})};var Ol=en,Al=Ee,El=function(e,t){Al.forEach(e,function(a,s){s!==t&&s.toUpperCase()===t.toUpperCase()&&(e[t]=a,delete e[s])})},Ui=function(e,t,n,a,s){return e.config=t,n&&(e.code=n),e.request=a,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},Vi={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Rn,us;function zi(){if(us)return Rn;us=1;var r=Ui;return Rn=function(t,n,a,s,i){var o=new Error(t);return r(o,n,a,s,i)},Rn}var Cn,cs;function Pl(){if(cs)return Cn;cs=1;var r=zi();return Cn=function(t,n,a){var s=a.config.validateStatus;!a.status||!s||s(a.status)?t(a):n(r("Request failed with status code "+a.status,a.config,null,a.request,a))},Cn}var Nn,ls;function xl(){if(ls)return Nn;ls=1;var r=Ee;return Nn=r.isStandardBrowserEnv()?function(){return{write:function(n,a,s,i,o,u){var c=[];c.push(n+"="+encodeURIComponent(a)),r.isNumber(s)&&c.push("expires="+new Date(s).toGMTString()),r.isString(i)&&c.push("path="+i),r.isString(o)&&c.push("domain="+o),u===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(n){var a=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Nn}var Ln,ds;function Tl(){return ds||(ds=1,Ln=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}),Ln}var Dn,hs;function Sl(){return hs||(hs=1,Dn=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}),Dn}var Mn,ps;function jl(){if(ps)return Mn;ps=1;var r=Tl(),e=Sl();return Mn=function(n,a){return n&&!r(a)?e(n,a):a},Mn}var Fn,fs;function Il(){if(fs)return Fn;fs=1;var r=Ee,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Fn=function(n){var a={},s,i,o;return n&&r.forEach(n.split(`
`),function(c){if(o=c.indexOf(":"),s=r.trim(c.substr(0,o)).toLowerCase(),i=r.trim(c.substr(o+1)),s){if(a[s]&&e.indexOf(s)>=0)return;s==="set-cookie"?a[s]=(a[s]?a[s]:[]).concat([i]):a[s]=a[s]?a[s]+", "+i:i}}),a},Fn}var Bn,ms;function kl(){if(ms)return Bn;ms=1;var r=Ee;return Bn=r.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),a;function s(i){var o=i;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return a=s(window.location.href),function(o){var u=r.isString(o)?s(o):o;return u.protocol===a.protocol&&u.host===a.host}}():function(){return function(){return!0}}(),Bn}var $n,ys;function tn(){if(ys)return $n;ys=1;function r(e){this.message=e}return r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,$n=r,$n}var Un,gs;function bs(){if(gs)return Un;gs=1;var r=Ee,e=Pl(),t=xl(),n=$i,a=jl(),s=Il(),i=kl(),o=zi(),u=Vi,c=tn();return Un=function(d){return new Promise(function(v,m){var w=d.data,g=d.headers,x=d.responseType,I;function T(){d.cancelToken&&d.cancelToken.unsubscribe(I),d.signal&&d.signal.removeEventListener("abort",I)}r.isFormData(w)&&delete g["Content-Type"];var P=new XMLHttpRequest;if(d.auth){var N=d.auth.username||"",A=d.auth.password?unescape(encodeURIComponent(d.auth.password)):"";g.Authorization="Basic "+btoa(N+":"+A)}var j=a(d.baseURL,d.url);P.open(d.method.toUpperCase(),n(j,d.params,d.paramsSerializer),!0),P.timeout=d.timeout;function y(){if(P){var f="getAllResponseHeaders"in P?s(P.getAllResponseHeaders()):null,E=!x||x==="text"||x==="json"?P.responseText:P.response,S={data:E,status:P.status,statusText:P.statusText,headers:f,config:d,request:P};e(function(V){v(V),T()},function(V){m(V),T()},S),P=null}}if("onloadend"in P?P.onloadend=y:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(y)},P.onabort=function(){P&&(m(o("Request aborted",d,"ECONNABORTED",P)),P=null)},P.onerror=function(){m(o("Network Error",d,null,P)),P=null},P.ontimeout=function(){var E=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded",S=d.transitional||u;d.timeoutErrorMessage&&(E=d.timeoutErrorMessage),m(o(E,d,S.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",P)),P=null},r.isStandardBrowserEnv()){var _=(d.withCredentials||i(j))&&d.xsrfCookieName?t.read(d.xsrfCookieName):void 0;_&&(g[d.xsrfHeaderName]=_)}"setRequestHeader"in P&&r.forEach(g,function(E,S){typeof w>"u"&&S.toLowerCase()==="content-type"?delete g[S]:P.setRequestHeader(S,E)}),r.isUndefined(d.withCredentials)||(P.withCredentials=!!d.withCredentials),x&&x!=="json"&&(P.responseType=d.responseType),typeof d.onDownloadProgress=="function"&&P.addEventListener("progress",d.onDownloadProgress),typeof d.onUploadProgress=="function"&&P.upload&&P.upload.addEventListener("progress",d.onUploadProgress),(d.cancelToken||d.signal)&&(I=function(f){P&&(m(!f||f&&f.type?new c("canceled"):f),P.abort(),P=null)},d.cancelToken&&d.cancelToken.subscribe(I),d.signal&&(d.signal.aborted?I():d.signal.addEventListener("abort",I))),w||(w=null),P.send(w)})},Un}var fe=Ee,_s=El,Rl=Ui,Cl=Vi,Nl={"Content-Type":"application/x-www-form-urlencoded"};function vs(r,e){!fe.isUndefined(r)&&fe.isUndefined(r["Content-Type"])&&(r["Content-Type"]=e)}function Ll(){var r;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(r=bs()),r}function Dl(r,e,t){if(fe.isString(r))try{return(e||JSON.parse)(r),fe.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}var rn={transitional:Cl,adapter:Ll(),transformRequest:[function(e,t){return _s(t,"Accept"),_s(t,"Content-Type"),fe.isFormData(e)||fe.isArrayBuffer(e)||fe.isBuffer(e)||fe.isStream(e)||fe.isFile(e)||fe.isBlob(e)?e:fe.isArrayBufferView(e)?e.buffer:fe.isURLSearchParams(e)?(vs(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):fe.isObject(e)||t&&t["Content-Type"]==="application/json"?(vs(t,"application/json"),Dl(e)):e}],transformResponse:[function(e){var t=this.transitional||rn.transitional,n=t&&t.silentJSONParsing,a=t&&t.forcedJSONParsing,s=!n&&this.responseType==="json";if(s||a&&fe.isString(e)&&e.length)try{return JSON.parse(e)}catch(i){if(s)throw i.name==="SyntaxError"?Rl(i,this,"E_JSON_PARSE"):i}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};fe.forEach(["delete","get","head"],function(e){rn.headers[e]={}});fe.forEach(["post","put","patch"],function(e){rn.headers[e]=fe.merge(Nl)});var Aa=rn,Ml=Ee,Fl=Aa,Bl=function(e,t,n){var a=this||Fl;return Ml.forEach(n,function(i){e=i.call(a,e,t)}),e},Vn,ws;function qi(){return ws||(ws=1,Vn=function(e){return!!(e&&e.__CANCEL__)}),Vn}var Os=Ee,zn=Bl,$l=qi(),Ul=Aa,Vl=tn();function qn(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Vl("canceled")}var zl=function(e){qn(e),e.headers=e.headers||{},e.data=zn.call(e,e.data,e.headers,e.transformRequest),e.headers=Os.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),Os.forEach(["delete","get","head","post","put","patch","common"],function(a){delete e.headers[a]});var t=e.adapter||Ul.adapter;return t(e).then(function(a){return qn(e),a.data=zn.call(e,a.data,a.headers,e.transformResponse),a},function(a){return $l(a)||(qn(e),a&&a.response&&(a.response.data=zn.call(e,a.response.data,a.response.headers,e.transformResponse))),Promise.reject(a)})},xe=Ee,Zi=function(e,t){t=t||{};var n={};function a(l,d){return xe.isPlainObject(l)&&xe.isPlainObject(d)?xe.merge(l,d):xe.isPlainObject(d)?xe.merge({},d):xe.isArray(d)?d.slice():d}function s(l){if(xe.isUndefined(t[l])){if(!xe.isUndefined(e[l]))return a(void 0,e[l])}else return a(e[l],t[l])}function i(l){if(!xe.isUndefined(t[l]))return a(void 0,t[l])}function o(l){if(xe.isUndefined(t[l])){if(!xe.isUndefined(e[l]))return a(void 0,e[l])}else return a(void 0,t[l])}function u(l){if(l in t)return a(e[l],t[l]);if(l in e)return a(void 0,e[l])}var c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u};return xe.forEach(Object.keys(e).concat(Object.keys(t)),function(d){var p=c[d]||s,v=p(d);xe.isUndefined(v)&&p!==u||(n[d]=v)}),n},Zn,As;function Ki(){return As||(As=1,Zn={version:"0.26.1"}),Zn}var ql=Ki().version,Ea={};["object","boolean","number","function","string","symbol"].forEach(function(r,e){Ea[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});var Es={};Ea.transitional=function(e,t,n){function a(s,i){return"[Axios v"+ql+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return function(s,i,o){if(e===!1)throw new Error(a(i," has been removed"+(t?" in "+t:"")));return t&&!Es[i]&&(Es[i]=!0,console.warn(a(i," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,i,o):!0}};function Zl(r,e,t){if(typeof r!="object")throw new TypeError("options must be an object");for(var n=Object.keys(r),a=n.length;a-- >0;){var s=n[a],i=e[s];if(i){var o=r[s],u=o===void 0||i(o,s,r);if(u!==!0)throw new TypeError("option "+s+" must be "+u);continue}if(t!==!0)throw Error("Unknown option "+s)}}var Kl={assertOptions:Zl,validators:Ea},Hi=Ee,Hl=$i,Ps=Ol,xs=zl,nn=Zi,Yi=Kl,xt=Yi.validators;function wr(r){this.defaults=r,this.interceptors={request:new Ps,response:new Ps}}wr.prototype.request=function(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=nn(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;n!==void 0&&Yi.assertOptions(n,{silentJSONParsing:xt.transitional(xt.boolean),forcedJSONParsing:xt.transitional(xt.boolean),clarifyTimeoutError:xt.transitional(xt.boolean)},!1);var a=[],s=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(t)===!1||(s=s&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});var i=[];this.interceptors.response.forEach(function(v){i.push(v.fulfilled,v.rejected)});var o;if(!s){var u=[xs,void 0];for(Array.prototype.unshift.apply(u,a),u=u.concat(i),o=Promise.resolve(t);u.length;)o=o.then(u.shift(),u.shift());return o}for(var c=t;a.length;){var l=a.shift(),d=a.shift();try{c=l(c)}catch(p){d(p);break}}try{o=xs(c)}catch(p){return Promise.reject(p)}for(;i.length;)o=o.then(i.shift(),i.shift());return o};wr.prototype.getUri=function(e){return e=nn(this.defaults,e),Hl(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};Hi.forEach(["delete","get","head","options"],function(e){wr.prototype[e]=function(t,n){return this.request(nn(n||{},{method:e,url:t,data:(n||{}).data}))}});Hi.forEach(["post","put","patch"],function(e){wr.prototype[e]=function(t,n,a){return this.request(nn(a||{},{method:e,url:t,data:n}))}});var Yl=wr,Kn,Ts;function Jl(){if(Ts)return Kn;Ts=1;var r=tn();function e(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(i){n=i});var a=this;this.promise.then(function(s){if(a._listeners){var i,o=a._listeners.length;for(i=0;i<o;i++)a._listeners[i](s);a._listeners=null}}),this.promise.then=function(s){var i,o=new Promise(function(u){a.subscribe(u),i=u}).then(s);return o.cancel=function(){a.unsubscribe(i)},o},t(function(i){a.reason||(a.reason=new r(i),n(a.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},e.prototype.unsubscribe=function(n){if(this._listeners){var a=this._listeners.indexOf(n);a!==-1&&this._listeners.splice(a,1)}},e.source=function(){var n,a=new e(function(i){n=i});return{token:a,cancel:n}},Kn=e,Kn}var Hn,Ss;function Wl(){return Ss||(Ss=1,Hn=function(e){return function(n){return e.apply(null,n)}}),Hn}var Yn,js;function Gl(){if(js)return Yn;js=1;var r=Ee;return Yn=function(t){return r.isObject(t)&&t.isAxiosError===!0},Yn}var Is=Ee,Ql=Di,Dr=Yl,Xl=Zi,ed=Aa;function Ji(r){var e=new Dr(r),t=Ql(Dr.prototype.request,e);return Is.extend(t,Dr.prototype,e),Is.extend(t,e),t.create=function(a){return Ji(Xl(r,a))},t}var He=Ji(ed);He.Axios=Dr;He.Cancel=tn();He.CancelToken=Jl();He.isCancel=qi();He.VERSION=Ki().version;He.all=function(e){return Promise.all(e)};He.spread=Wl();He.isAxiosError=Gl();va.exports=He;va.exports.default=He;var td=va.exports,Wi=td,ue={},Pa={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.RequiredError=r.BaseAPI=r.COLLECTION_FORMATS=r.BASE_PATH=void 0;const e=Wi;r.BASE_PATH="https://api.openai.com/v1".replace(/\/+$/,""),r.COLLECTION_FORMATS={csv:",",ssv:" ",tsv:"	",pipes:"|"};class t{constructor(s,i=r.BASE_PATH,o=e.default){this.basePath=i,this.axios=o,s&&(this.configuration=s,this.basePath=s.basePath||this.basePath)}}r.BaseAPI=t;class n extends Error{constructor(s,i){super(i),this.field=s,this.name="RequiredError"}}r.RequiredError=n})(Pa);var xa=Ue&&Ue.__awaiter||function(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function o(l){try{c(n.next(l))}catch(d){i(d)}}function u(l){try{c(n.throw(l))}catch(d){i(d)}}function c(l){l.done?s(l.value):a(l.value).then(o,u)}c((n=n.apply(r,e||[])).next())})};Object.defineProperty(ue,"__esModule",{value:!0});ue.createRequestFunction=ue.toPathString=ue.serializeDataIfNeeded=ue.setSearchParams=ue.setOAuthToObject=ue.setBearerAuthToObject=ue.setBasicAuthToObject=ue.setApiKeyToObject=ue.assertParamExists=ue.DUMMY_BASE_URL=void 0;const rd=Pa;ue.DUMMY_BASE_URL="https://example.com";ue.assertParamExists=function(r,e,t){if(t==null)throw new rd.RequiredError(e,`Required parameter ${e} was null or undefined when calling ${r}.`)};ue.setApiKeyToObject=function(r,e,t){return xa(this,void 0,void 0,function*(){if(t&&t.apiKey){const n=typeof t.apiKey=="function"?yield t.apiKey(e):yield t.apiKey;r[e]=n}})};ue.setBasicAuthToObject=function(r,e){e&&(e.username||e.password)&&(r.auth={username:e.username,password:e.password})};ue.setBearerAuthToObject=function(r,e){return xa(this,void 0,void 0,function*(){if(e&&e.accessToken){const t=typeof e.accessToken=="function"?yield e.accessToken():yield e.accessToken;r.Authorization="Bearer "+t}})};ue.setOAuthToObject=function(r,e,t,n){return xa(this,void 0,void 0,function*(){if(n&&n.accessToken){const a=typeof n.accessToken=="function"?yield n.accessToken(e,t):yield n.accessToken;r.Authorization="Bearer "+a}})};function ua(r,e,t=""){e!=null&&(typeof e=="object"?Array.isArray(e)?e.forEach(n=>ua(r,n,t)):Object.keys(e).forEach(n=>ua(r,e[n],`${t}${t!==""?".":""}${n}`)):r.has(t)?r.append(t,e):r.set(t,e))}ue.setSearchParams=function(r,...e){const t=new URLSearchParams(r.search);ua(t,e),r.search=t.toString()};ue.serializeDataIfNeeded=function(r,e,t){const n=typeof r!="string";return(n&&t&&t.isJsonMime?t.isJsonMime(e.headers["Content-Type"]):n)?JSON.stringify(r!==void 0?r:{}):r||""};ue.toPathString=function(r){return r.pathname+r.search+r.hash};ue.createRequestFunction=function(r,e,t,n){return(a=e,s=t)=>{const i=Object.assign(Object.assign({},r.options),{url:((n==null?void 0:n.basePath)||s)+r.url});return a.request(i)}};(function(r){var e=Ue&&Ue.__awaiter||function(i,o,u,c){function l(d){return d instanceof u?d:new u(function(p){p(d)})}return new(u||(u=Promise))(function(d,p){function v(g){try{w(c.next(g))}catch(x){p(x)}}function m(g){try{w(c.throw(g))}catch(x){p(x)}}function w(g){g.done?d(g.value):l(g.value).then(v,m)}w((c=c.apply(i,o||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.OpenAIApi=r.OpenAIApiFactory=r.OpenAIApiFp=r.OpenAIApiAxiosParamCreator=r.CreateImageRequestResponseFormatEnum=r.CreateImageRequestSizeEnum=r.ChatCompletionResponseMessageRoleEnum=r.ChatCompletionRequestMessageRoleEnum=void 0;const t=Wi,n=ue,a=Pa;r.ChatCompletionRequestMessageRoleEnum={System:"system",User:"user",Assistant:"assistant",Function:"function"},r.ChatCompletionResponseMessageRoleEnum={System:"system",User:"user",Assistant:"assistant",Function:"function"},r.CreateImageRequestSizeEnum={_256x256:"256x256",_512x512:"512x512",_1024x1024:"1024x1024"},r.CreateImageRequestResponseFormatEnum={Url:"url",B64Json:"b64_json"},r.OpenAIApiAxiosParamCreator=function(i){return{cancelFineTune:(o,u={})=>e(this,void 0,void 0,function*(){n.assertParamExists("cancelFineTune","fineTuneId",o);const c="/fine-tunes/{fine_tune_id}/cancel".replace("{fine_tune_id}",encodeURIComponent(String(o))),l=new URL(c,n.DUMMY_BASE_URL);let d;i&&(d=i.baseOptions);const p=Object.assign(Object.assign({method:"POST"},d),u),v={},m={};n.setSearchParams(l,m);let w=d&&d.headers?d.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},v),w),u.headers),{url:n.toPathString(l),options:p}}),createAnswer:(o,u={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createAnswer","createAnswerRequest",o);const c="/answers",l=new URL(c,n.DUMMY_BASE_URL);let d;i&&(d=i.baseOptions);const p=Object.assign(Object.assign({method:"POST"},d),u),v={},m={};v["Content-Type"]="application/json",n.setSearchParams(l,m);let w=d&&d.headers?d.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},v),w),u.headers),p.data=n.serializeDataIfNeeded(o,p,i),{url:n.toPathString(l),options:p}}),createChatCompletion:(o,u={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createChatCompletion","createChatCompletionRequest",o);const c="/chat/completions",l=new URL(c,n.DUMMY_BASE_URL);let d;i&&(d=i.baseOptions);const p=Object.assign(Object.assign({method:"POST"},d),u),v={},m={};v["Content-Type"]="application/json",n.setSearchParams(l,m);let w=d&&d.headers?d.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},v),w),u.headers),p.data=n.serializeDataIfNeeded(o,p,i),{url:n.toPathString(l),options:p}}),createClassification:(o,u={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createClassification","createClassificationRequest",o);const c="/classifications",l=new URL(c,n.DUMMY_BASE_URL);let d;i&&(d=i.baseOptions);const p=Object.assign(Object.assign({method:"POST"},d),u),v={},m={};v["Content-Type"]="application/json",n.setSearchParams(l,m);let w=d&&d.headers?d.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},v),w),u.headers),p.data=n.serializeDataIfNeeded(o,p,i),{url:n.toPathString(l),options:p}}),createCompletion:(o,u={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createCompletion","createCompletionRequest",o);const c="/completions",l=new URL(c,n.DUMMY_BASE_URL);let d;i&&(d=i.baseOptions);const p=Object.assign(Object.assign({method:"POST"},d),u),v={},m={};v["Content-Type"]="application/json",n.setSearchParams(l,m);let w=d&&d.headers?d.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},v),w),u.headers),p.data=n.serializeDataIfNeeded(o,p,i),{url:n.toPathString(l),options:p}}),createEdit:(o,u={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createEdit","createEditRequest",o);const c="/edits",l=new URL(c,n.DUMMY_BASE_URL);let d;i&&(d=i.baseOptions);const p=Object.assign(Object.assign({method:"POST"},d),u),v={},m={};v["Content-Type"]="application/json",n.setSearchParams(l,m);let w=d&&d.headers?d.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},v),w),u.headers),p.data=n.serializeDataIfNeeded(o,p,i),{url:n.toPathString(l),options:p}}),createEmbedding:(o,u={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createEmbedding","createEmbeddingRequest",o);const c="/embeddings",l=new URL(c,n.DUMMY_BASE_URL);let d;i&&(d=i.baseOptions);const p=Object.assign(Object.assign({method:"POST"},d),u),v={},m={};v["Content-Type"]="application/json",n.setSearchParams(l,m);let w=d&&d.headers?d.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},v),w),u.headers),p.data=n.serializeDataIfNeeded(o,p,i),{url:n.toPathString(l),options:p}}),createFile:(o,u,c={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createFile","file",o),n.assertParamExists("createFile","purpose",u);const l="/files",d=new URL(l,n.DUMMY_BASE_URL);let p;i&&(p=i.baseOptions);const v=Object.assign(Object.assign({method:"POST"},p),c),m={},w={},g=new(i&&i.formDataCtor||FormData);o!==void 0&&g.append("file",o),u!==void 0&&g.append("purpose",u),m["Content-Type"]="multipart/form-data",n.setSearchParams(d,w);let x=p&&p.headers?p.headers:{};return v.headers=Object.assign(Object.assign(Object.assign(Object.assign({},m),g.getHeaders()),x),c.headers),v.data=g,{url:n.toPathString(d),options:v}}),createFineTune:(o,u={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createFineTune","createFineTuneRequest",o);const c="/fine-tunes",l=new URL(c,n.DUMMY_BASE_URL);let d;i&&(d=i.baseOptions);const p=Object.assign(Object.assign({method:"POST"},d),u),v={},m={};v["Content-Type"]="application/json",n.setSearchParams(l,m);let w=d&&d.headers?d.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},v),w),u.headers),p.data=n.serializeDataIfNeeded(o,p,i),{url:n.toPathString(l),options:p}}),createImage:(o,u={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createImage","createImageRequest",o);const c="/images/generations",l=new URL(c,n.DUMMY_BASE_URL);let d;i&&(d=i.baseOptions);const p=Object.assign(Object.assign({method:"POST"},d),u),v={},m={};v["Content-Type"]="application/json",n.setSearchParams(l,m);let w=d&&d.headers?d.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},v),w),u.headers),p.data=n.serializeDataIfNeeded(o,p,i),{url:n.toPathString(l),options:p}}),createImageEdit:(o,u,c,l,d,p,v,m={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createImageEdit","image",o),n.assertParamExists("createImageEdit","prompt",u);const w="/images/edits",g=new URL(w,n.DUMMY_BASE_URL);let x;i&&(x=i.baseOptions);const I=Object.assign(Object.assign({method:"POST"},x),m),T={},P={},N=new(i&&i.formDataCtor||FormData);o!==void 0&&N.append("image",o),c!==void 0&&N.append("mask",c),u!==void 0&&N.append("prompt",u),l!==void 0&&N.append("n",l),d!==void 0&&N.append("size",d),p!==void 0&&N.append("response_format",p),v!==void 0&&N.append("user",v),T["Content-Type"]="multipart/form-data",n.setSearchParams(g,P);let A=x&&x.headers?x.headers:{};return I.headers=Object.assign(Object.assign(Object.assign(Object.assign({},T),N.getHeaders()),A),m.headers),I.data=N,{url:n.toPathString(g),options:I}}),createImageVariation:(o,u,c,l,d,p={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createImageVariation","image",o);const v="/images/variations",m=new URL(v,n.DUMMY_BASE_URL);let w;i&&(w=i.baseOptions);const g=Object.assign(Object.assign({method:"POST"},w),p),x={},I={},T=new(i&&i.formDataCtor||FormData);o!==void 0&&T.append("image",o),u!==void 0&&T.append("n",u),c!==void 0&&T.append("size",c),l!==void 0&&T.append("response_format",l),d!==void 0&&T.append("user",d),x["Content-Type"]="multipart/form-data",n.setSearchParams(m,I);let P=w&&w.headers?w.headers:{};return g.headers=Object.assign(Object.assign(Object.assign(Object.assign({},x),T.getHeaders()),P),p.headers),g.data=T,{url:n.toPathString(m),options:g}}),createModeration:(o,u={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createModeration","createModerationRequest",o);const c="/moderations",l=new URL(c,n.DUMMY_BASE_URL);let d;i&&(d=i.baseOptions);const p=Object.assign(Object.assign({method:"POST"},d),u),v={},m={};v["Content-Type"]="application/json",n.setSearchParams(l,m);let w=d&&d.headers?d.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},v),w),u.headers),p.data=n.serializeDataIfNeeded(o,p,i),{url:n.toPathString(l),options:p}}),createSearch:(o,u,c={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createSearch","engineId",o),n.assertParamExists("createSearch","createSearchRequest",u);const l="/engines/{engine_id}/search".replace("{engine_id}",encodeURIComponent(String(o))),d=new URL(l,n.DUMMY_BASE_URL);let p;i&&(p=i.baseOptions);const v=Object.assign(Object.assign({method:"POST"},p),c),m={},w={};m["Content-Type"]="application/json",n.setSearchParams(d,w);let g=p&&p.headers?p.headers:{};return v.headers=Object.assign(Object.assign(Object.assign({},m),g),c.headers),v.data=n.serializeDataIfNeeded(u,v,i),{url:n.toPathString(d),options:v}}),createTranscription:(o,u,c,l,d,p,v={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createTranscription","file",o),n.assertParamExists("createTranscription","model",u);const m="/audio/transcriptions",w=new URL(m,n.DUMMY_BASE_URL);let g;i&&(g=i.baseOptions);const x=Object.assign(Object.assign({method:"POST"},g),v),I={},T={},P=new(i&&i.formDataCtor||FormData);o!==void 0&&P.append("file",o),u!==void 0&&P.append("model",u),c!==void 0&&P.append("prompt",c),l!==void 0&&P.append("response_format",l),d!==void 0&&P.append("temperature",d),p!==void 0&&P.append("language",p),I["Content-Type"]="multipart/form-data",n.setSearchParams(w,T);let N=g&&g.headers?g.headers:{};return x.headers=Object.assign(Object.assign(Object.assign(Object.assign({},I),P.getHeaders()),N),v.headers),x.data=P,{url:n.toPathString(w),options:x}}),createTranslation:(o,u,c,l,d,p={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createTranslation","file",o),n.assertParamExists("createTranslation","model",u);const v="/audio/translations",m=new URL(v,n.DUMMY_BASE_URL);let w;i&&(w=i.baseOptions);const g=Object.assign(Object.assign({method:"POST"},w),p),x={},I={},T=new(i&&i.formDataCtor||FormData);o!==void 0&&T.append("file",o),u!==void 0&&T.append("model",u),c!==void 0&&T.append("prompt",c),l!==void 0&&T.append("response_format",l),d!==void 0&&T.append("temperature",d),x["Content-Type"]="multipart/form-data",n.setSearchParams(m,I);let P=w&&w.headers?w.headers:{};return g.headers=Object.assign(Object.assign(Object.assign(Object.assign({},x),T.getHeaders()),P),p.headers),g.data=T,{url:n.toPathString(m),options:g}}),deleteFile:(o,u={})=>e(this,void 0,void 0,function*(){n.assertParamExists("deleteFile","fileId",o);const c="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(o))),l=new URL(c,n.DUMMY_BASE_URL);let d;i&&(d=i.baseOptions);const p=Object.assign(Object.assign({method:"DELETE"},d),u),v={},m={};n.setSearchParams(l,m);let w=d&&d.headers?d.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},v),w),u.headers),{url:n.toPathString(l),options:p}}),deleteModel:(o,u={})=>e(this,void 0,void 0,function*(){n.assertParamExists("deleteModel","model",o);const c="/models/{model}".replace("{model}",encodeURIComponent(String(o))),l=new URL(c,n.DUMMY_BASE_URL);let d;i&&(d=i.baseOptions);const p=Object.assign(Object.assign({method:"DELETE"},d),u),v={},m={};n.setSearchParams(l,m);let w=d&&d.headers?d.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},v),w),u.headers),{url:n.toPathString(l),options:p}}),downloadFile:(o,u={})=>e(this,void 0,void 0,function*(){n.assertParamExists("downloadFile","fileId",o);const c="/files/{file_id}/content".replace("{file_id}",encodeURIComponent(String(o))),l=new URL(c,n.DUMMY_BASE_URL);let d;i&&(d=i.baseOptions);const p=Object.assign(Object.assign({method:"GET"},d),u),v={},m={};n.setSearchParams(l,m);let w=d&&d.headers?d.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},v),w),u.headers),{url:n.toPathString(l),options:p}}),listEngines:(o={})=>e(this,void 0,void 0,function*(){const u="/engines",c=new URL(u,n.DUMMY_BASE_URL);let l;i&&(l=i.baseOptions);const d=Object.assign(Object.assign({method:"GET"},l),o),p={},v={};n.setSearchParams(c,v);let m=l&&l.headers?l.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},p),m),o.headers),{url:n.toPathString(c),options:d}}),listFiles:(o={})=>e(this,void 0,void 0,function*(){const u="/files",c=new URL(u,n.DUMMY_BASE_URL);let l;i&&(l=i.baseOptions);const d=Object.assign(Object.assign({method:"GET"},l),o),p={},v={};n.setSearchParams(c,v);let m=l&&l.headers?l.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},p),m),o.headers),{url:n.toPathString(c),options:d}}),listFineTuneEvents:(o,u,c={})=>e(this,void 0,void 0,function*(){n.assertParamExists("listFineTuneEvents","fineTuneId",o);const l="/fine-tunes/{fine_tune_id}/events".replace("{fine_tune_id}",encodeURIComponent(String(o))),d=new URL(l,n.DUMMY_BASE_URL);let p;i&&(p=i.baseOptions);const v=Object.assign(Object.assign({method:"GET"},p),c),m={},w={};u!==void 0&&(w.stream=u),n.setSearchParams(d,w);let g=p&&p.headers?p.headers:{};return v.headers=Object.assign(Object.assign(Object.assign({},m),g),c.headers),{url:n.toPathString(d),options:v}}),listFineTunes:(o={})=>e(this,void 0,void 0,function*(){const u="/fine-tunes",c=new URL(u,n.DUMMY_BASE_URL);let l;i&&(l=i.baseOptions);const d=Object.assign(Object.assign({method:"GET"},l),o),p={},v={};n.setSearchParams(c,v);let m=l&&l.headers?l.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},p),m),o.headers),{url:n.toPathString(c),options:d}}),listModels:(o={})=>e(this,void 0,void 0,function*(){const u="/models",c=new URL(u,n.DUMMY_BASE_URL);let l;i&&(l=i.baseOptions);const d=Object.assign(Object.assign({method:"GET"},l),o),p={},v={};n.setSearchParams(c,v);let m=l&&l.headers?l.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},p),m),o.headers),{url:n.toPathString(c),options:d}}),retrieveEngine:(o,u={})=>e(this,void 0,void 0,function*(){n.assertParamExists("retrieveEngine","engineId",o);const c="/engines/{engine_id}".replace("{engine_id}",encodeURIComponent(String(o))),l=new URL(c,n.DUMMY_BASE_URL);let d;i&&(d=i.baseOptions);const p=Object.assign(Object.assign({method:"GET"},d),u),v={},m={};n.setSearchParams(l,m);let w=d&&d.headers?d.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},v),w),u.headers),{url:n.toPathString(l),options:p}}),retrieveFile:(o,u={})=>e(this,void 0,void 0,function*(){n.assertParamExists("retrieveFile","fileId",o);const c="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(o))),l=new URL(c,n.DUMMY_BASE_URL);let d;i&&(d=i.baseOptions);const p=Object.assign(Object.assign({method:"GET"},d),u),v={},m={};n.setSearchParams(l,m);let w=d&&d.headers?d.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},v),w),u.headers),{url:n.toPathString(l),options:p}}),retrieveFineTune:(o,u={})=>e(this,void 0,void 0,function*(){n.assertParamExists("retrieveFineTune","fineTuneId",o);const c="/fine-tunes/{fine_tune_id}".replace("{fine_tune_id}",encodeURIComponent(String(o))),l=new URL(c,n.DUMMY_BASE_URL);let d;i&&(d=i.baseOptions);const p=Object.assign(Object.assign({method:"GET"},d),u),v={},m={};n.setSearchParams(l,m);let w=d&&d.headers?d.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},v),w),u.headers),{url:n.toPathString(l),options:p}}),retrieveModel:(o,u={})=>e(this,void 0,void 0,function*(){n.assertParamExists("retrieveModel","model",o);const c="/models/{model}".replace("{model}",encodeURIComponent(String(o))),l=new URL(c,n.DUMMY_BASE_URL);let d;i&&(d=i.baseOptions);const p=Object.assign(Object.assign({method:"GET"},d),u),v={},m={};n.setSearchParams(l,m);let w=d&&d.headers?d.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},v),w),u.headers),{url:n.toPathString(l),options:p}})}},r.OpenAIApiFp=function(i){const o=r.OpenAIApiAxiosParamCreator(i);return{cancelFineTune(u,c){return e(this,void 0,void 0,function*(){const l=yield o.cancelFineTune(u,c);return n.createRequestFunction(l,t.default,a.BASE_PATH,i)})},createAnswer(u,c){return e(this,void 0,void 0,function*(){const l=yield o.createAnswer(u,c);return n.createRequestFunction(l,t.default,a.BASE_PATH,i)})},createChatCompletion(u,c){return e(this,void 0,void 0,function*(){const l=yield o.createChatCompletion(u,c);return n.createRequestFunction(l,t.default,a.BASE_PATH,i)})},createClassification(u,c){return e(this,void 0,void 0,function*(){const l=yield o.createClassification(u,c);return n.createRequestFunction(l,t.default,a.BASE_PATH,i)})},createCompletion(u,c){return e(this,void 0,void 0,function*(){const l=yield o.createCompletion(u,c);return n.createRequestFunction(l,t.default,a.BASE_PATH,i)})},createEdit(u,c){return e(this,void 0,void 0,function*(){const l=yield o.createEdit(u,c);return n.createRequestFunction(l,t.default,a.BASE_PATH,i)})},createEmbedding(u,c){return e(this,void 0,void 0,function*(){const l=yield o.createEmbedding(u,c);return n.createRequestFunction(l,t.default,a.BASE_PATH,i)})},createFile(u,c,l){return e(this,void 0,void 0,function*(){const d=yield o.createFile(u,c,l);return n.createRequestFunction(d,t.default,a.BASE_PATH,i)})},createFineTune(u,c){return e(this,void 0,void 0,function*(){const l=yield o.createFineTune(u,c);return n.createRequestFunction(l,t.default,a.BASE_PATH,i)})},createImage(u,c){return e(this,void 0,void 0,function*(){const l=yield o.createImage(u,c);return n.createRequestFunction(l,t.default,a.BASE_PATH,i)})},createImageEdit(u,c,l,d,p,v,m,w){return e(this,void 0,void 0,function*(){const g=yield o.createImageEdit(u,c,l,d,p,v,m,w);return n.createRequestFunction(g,t.default,a.BASE_PATH,i)})},createImageVariation(u,c,l,d,p,v){return e(this,void 0,void 0,function*(){const m=yield o.createImageVariation(u,c,l,d,p,v);return n.createRequestFunction(m,t.default,a.BASE_PATH,i)})},createModeration(u,c){return e(this,void 0,void 0,function*(){const l=yield o.createModeration(u,c);return n.createRequestFunction(l,t.default,a.BASE_PATH,i)})},createSearch(u,c,l){return e(this,void 0,void 0,function*(){const d=yield o.createSearch(u,c,l);return n.createRequestFunction(d,t.default,a.BASE_PATH,i)})},createTranscription(u,c,l,d,p,v,m){return e(this,void 0,void 0,function*(){const w=yield o.createTranscription(u,c,l,d,p,v,m);return n.createRequestFunction(w,t.default,a.BASE_PATH,i)})},createTranslation(u,c,l,d,p,v){return e(this,void 0,void 0,function*(){const m=yield o.createTranslation(u,c,l,d,p,v);return n.createRequestFunction(m,t.default,a.BASE_PATH,i)})},deleteFile(u,c){return e(this,void 0,void 0,function*(){const l=yield o.deleteFile(u,c);return n.createRequestFunction(l,t.default,a.BASE_PATH,i)})},deleteModel(u,c){return e(this,void 0,void 0,function*(){const l=yield o.deleteModel(u,c);return n.createRequestFunction(l,t.default,a.BASE_PATH,i)})},downloadFile(u,c){return e(this,void 0,void 0,function*(){const l=yield o.downloadFile(u,c);return n.createRequestFunction(l,t.default,a.BASE_PATH,i)})},listEngines(u){return e(this,void 0,void 0,function*(){const c=yield o.listEngines(u);return n.createRequestFunction(c,t.default,a.BASE_PATH,i)})},listFiles(u){return e(this,void 0,void 0,function*(){const c=yield o.listFiles(u);return n.createRequestFunction(c,t.default,a.BASE_PATH,i)})},listFineTuneEvents(u,c,l){return e(this,void 0,void 0,function*(){const d=yield o.listFineTuneEvents(u,c,l);return n.createRequestFunction(d,t.default,a.BASE_PATH,i)})},listFineTunes(u){return e(this,void 0,void 0,function*(){const c=yield o.listFineTunes(u);return n.createRequestFunction(c,t.default,a.BASE_PATH,i)})},listModels(u){return e(this,void 0,void 0,function*(){const c=yield o.listModels(u);return n.createRequestFunction(c,t.default,a.BASE_PATH,i)})},retrieveEngine(u,c){return e(this,void 0,void 0,function*(){const l=yield o.retrieveEngine(u,c);return n.createRequestFunction(l,t.default,a.BASE_PATH,i)})},retrieveFile(u,c){return e(this,void 0,void 0,function*(){const l=yield o.retrieveFile(u,c);return n.createRequestFunction(l,t.default,a.BASE_PATH,i)})},retrieveFineTune(u,c){return e(this,void 0,void 0,function*(){const l=yield o.retrieveFineTune(u,c);return n.createRequestFunction(l,t.default,a.BASE_PATH,i)})},retrieveModel(u,c){return e(this,void 0,void 0,function*(){const l=yield o.retrieveModel(u,c);return n.createRequestFunction(l,t.default,a.BASE_PATH,i)})}}},r.OpenAIApiFactory=function(i,o,u){const c=r.OpenAIApiFp(i);return{cancelFineTune(l,d){return c.cancelFineTune(l,d).then(p=>p(u,o))},createAnswer(l,d){return c.createAnswer(l,d).then(p=>p(u,o))},createChatCompletion(l,d){return c.createChatCompletion(l,d).then(p=>p(u,o))},createClassification(l,d){return c.createClassification(l,d).then(p=>p(u,o))},createCompletion(l,d){return c.createCompletion(l,d).then(p=>p(u,o))},createEdit(l,d){return c.createEdit(l,d).then(p=>p(u,o))},createEmbedding(l,d){return c.createEmbedding(l,d).then(p=>p(u,o))},createFile(l,d,p){return c.createFile(l,d,p).then(v=>v(u,o))},createFineTune(l,d){return c.createFineTune(l,d).then(p=>p(u,o))},createImage(l,d){return c.createImage(l,d).then(p=>p(u,o))},createImageEdit(l,d,p,v,m,w,g,x){return c.createImageEdit(l,d,p,v,m,w,g,x).then(I=>I(u,o))},createImageVariation(l,d,p,v,m,w){return c.createImageVariation(l,d,p,v,m,w).then(g=>g(u,o))},createModeration(l,d){return c.createModeration(l,d).then(p=>p(u,o))},createSearch(l,d,p){return c.createSearch(l,d,p).then(v=>v(u,o))},createTranscription(l,d,p,v,m,w,g){return c.createTranscription(l,d,p,v,m,w,g).then(x=>x(u,o))},createTranslation(l,d,p,v,m,w){return c.createTranslation(l,d,p,v,m,w).then(g=>g(u,o))},deleteFile(l,d){return c.deleteFile(l,d).then(p=>p(u,o))},deleteModel(l,d){return c.deleteModel(l,d).then(p=>p(u,o))},downloadFile(l,d){return c.downloadFile(l,d).then(p=>p(u,o))},listEngines(l){return c.listEngines(l).then(d=>d(u,o))},listFiles(l){return c.listFiles(l).then(d=>d(u,o))},listFineTuneEvents(l,d,p){return c.listFineTuneEvents(l,d,p).then(v=>v(u,o))},listFineTunes(l){return c.listFineTunes(l).then(d=>d(u,o))},listModels(l){return c.listModels(l).then(d=>d(u,o))},retrieveEngine(l,d){return c.retrieveEngine(l,d).then(p=>p(u,o))},retrieveFile(l,d){return c.retrieveFile(l,d).then(p=>p(u,o))},retrieveFineTune(l,d){return c.retrieveFineTune(l,d).then(p=>p(u,o))},retrieveModel(l,d){return c.retrieveModel(l,d).then(p=>p(u,o))}}};class s extends a.BaseAPI{cancelFineTune(o,u){return r.OpenAIApiFp(this.configuration).cancelFineTune(o,u).then(c=>c(this.axios,this.basePath))}createAnswer(o,u){return r.OpenAIApiFp(this.configuration).createAnswer(o,u).then(c=>c(this.axios,this.basePath))}createChatCompletion(o,u){return r.OpenAIApiFp(this.configuration).createChatCompletion(o,u).then(c=>c(this.axios,this.basePath))}createClassification(o,u){return r.OpenAIApiFp(this.configuration).createClassification(o,u).then(c=>c(this.axios,this.basePath))}createCompletion(o,u){return r.OpenAIApiFp(this.configuration).createCompletion(o,u).then(c=>c(this.axios,this.basePath))}createEdit(o,u){return r.OpenAIApiFp(this.configuration).createEdit(o,u).then(c=>c(this.axios,this.basePath))}createEmbedding(o,u){return r.OpenAIApiFp(this.configuration).createEmbedding(o,u).then(c=>c(this.axios,this.basePath))}createFile(o,u,c){return r.OpenAIApiFp(this.configuration).createFile(o,u,c).then(l=>l(this.axios,this.basePath))}createFineTune(o,u){return r.OpenAIApiFp(this.configuration).createFineTune(o,u).then(c=>c(this.axios,this.basePath))}createImage(o,u){return r.OpenAIApiFp(this.configuration).createImage(o,u).then(c=>c(this.axios,this.basePath))}createImageEdit(o,u,c,l,d,p,v,m){return r.OpenAIApiFp(this.configuration).createImageEdit(o,u,c,l,d,p,v,m).then(w=>w(this.axios,this.basePath))}createImageVariation(o,u,c,l,d,p){return r.OpenAIApiFp(this.configuration).createImageVariation(o,u,c,l,d,p).then(v=>v(this.axios,this.basePath))}createModeration(o,u){return r.OpenAIApiFp(this.configuration).createModeration(o,u).then(c=>c(this.axios,this.basePath))}createSearch(o,u,c){return r.OpenAIApiFp(this.configuration).createSearch(o,u,c).then(l=>l(this.axios,this.basePath))}createTranscription(o,u,c,l,d,p,v){return r.OpenAIApiFp(this.configuration).createTranscription(o,u,c,l,d,p,v).then(m=>m(this.axios,this.basePath))}createTranslation(o,u,c,l,d,p){return r.OpenAIApiFp(this.configuration).createTranslation(o,u,c,l,d,p).then(v=>v(this.axios,this.basePath))}deleteFile(o,u){return r.OpenAIApiFp(this.configuration).deleteFile(o,u).then(c=>c(this.axios,this.basePath))}deleteModel(o,u){return r.OpenAIApiFp(this.configuration).deleteModel(o,u).then(c=>c(this.axios,this.basePath))}downloadFile(o,u){return r.OpenAIApiFp(this.configuration).downloadFile(o,u).then(c=>c(this.axios,this.basePath))}listEngines(o){return r.OpenAIApiFp(this.configuration).listEngines(o).then(u=>u(this.axios,this.basePath))}listFiles(o){return r.OpenAIApiFp(this.configuration).listFiles(o).then(u=>u(this.axios,this.basePath))}listFineTuneEvents(o,u,c){return r.OpenAIApiFp(this.configuration).listFineTuneEvents(o,u,c).then(l=>l(this.axios,this.basePath))}listFineTunes(o){return r.OpenAIApiFp(this.configuration).listFineTunes(o).then(u=>u(this.axios,this.basePath))}listModels(o){return r.OpenAIApiFp(this.configuration).listModels(o).then(u=>u(this.axios,this.basePath))}retrieveEngine(o,u){return r.OpenAIApiFp(this.configuration).retrieveEngine(o,u).then(c=>c(this.axios,this.basePath))}retrieveFile(o,u){return r.OpenAIApiFp(this.configuration).retrieveFile(o,u).then(c=>c(this.axios,this.basePath))}retrieveFineTune(o,u){return r.OpenAIApiFp(this.configuration).retrieveFineTune(o,u).then(c=>c(this.axios,this.basePath))}retrieveModel(o,u){return r.OpenAIApiFp(this.configuration).retrieveModel(o,u).then(c=>c(this.axios,this.basePath))}}r.OpenAIApi=s})(Li);var an={};const nd="openai",ad="3.3.0",sd="Node.js library for the OpenAI API",id={type:"git",url:"git@github.com:openai/openai-node.git"},od=["openai","open","ai","gpt-3","gpt3"],ud="OpenAI",cd="MIT",ld="./dist/index.js",dd="./dist/index.d.ts",hd={build:"tsc --outDir dist/"},pd={axios:"^0.26.0","form-data":"^4.0.0"},fd={"@types/node":"^12.11.5",typescript:"^3.6.4"},md={name:nd,version:ad,description:sd,repository:id,keywords:od,author:ud,license:cd,main:ld,types:dd,scripts:hd,dependencies:pd,devDependencies:fd};var Jn,ks;function yd(){return ks||(ks=1,Jn=typeof self=="object"?self.FormData:window.FormData),Jn}Object.defineProperty(an,"__esModule",{value:!0});an.Configuration=void 0;const gd=md;class bd{constructor(e={}){this.apiKey=e.apiKey,this.organization=e.organization,this.username=e.username,this.password=e.password,this.accessToken=e.accessToken,this.basePath=e.basePath,this.baseOptions=e.baseOptions,this.formDataCtor=e.formDataCtor,this.baseOptions||(this.baseOptions={}),this.baseOptions.headers=Object.assign({"User-Agent":`OpenAI/NodeJS/${gd.version}`,Authorization:`Bearer ${this.apiKey}`},this.baseOptions.headers),this.organization&&(this.baseOptions.headers["OpenAI-Organization"]=this.organization),this.formDataCtor||(this.formDataCtor=yd())}isJsonMime(e){const t=new RegExp("^(application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(;.*)?$","i");return e!==null&&(t.test(e)||e.toLowerCase()==="application/json-patch+json")}}an.Configuration=bd;(function(r){var e=Ue&&Ue.__createBinding||(Object.create?function(n,a,s,i){i===void 0&&(i=s),Object.defineProperty(n,i,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,i){i===void 0&&(i=s),n[i]=a[s]}),t=Ue&&Ue.__exportStar||function(n,a){for(var s in n)s!=="default"&&!a.hasOwnProperty(s)&&e(a,n,s)};Object.defineProperty(r,"__esModule",{value:!0}),t(Li,r),t(an,r)})(_t);const _d=()=>typeof window<"u"&&typeof window.document<"u",vd=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",wd=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),Gi=()=>typeof Deno<"u",Ta=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!Gi(),Od=()=>{let r;return _d()?r="browser":Ta()?r="node":vd()?r="webworker":wd()?r="jsdom":Gi()?r="deno":r="other",r};let Wn;async function Ad(){return Wn===void 0&&(Wn={library:"langchain-js",runtime:Od()}),Wn}function ae(r){var e;try{return typeof process<"u"?(e=process.env)==null?void 0:e[r]:void 0}catch{return}}const ca="text/event-stream";async function Ed(r,e){const t=r.getReader();for(;;){const n=await t.read();if(n.done){e(new Uint8Array,!0);break}e(n.value)}}function Pd(r){let e,t,n,a=!1;return function(i,o){if(o){r(i,0,!0);return}e===void 0?(e=i,t=0,n=-1):e=Td(e,i);const u=e.length;let c=0;for(;t<u;){a&&(e[t]===10&&(c=++t),a=!1);let l=-1;for(;t<u&&l===-1;++t)switch(e[t]){case 58:n===-1&&(n=t-c);break;case 13:a=!0;case 10:l=t;break}if(l===-1)break;r(e.subarray(c,l),n),c=t,n=-1}c===u?e=void 0:c!==0&&(e=e.subarray(c),t-=c)}}function xd(r,e,t){let n=Gn();const a=new TextDecoder;return function(i,o,u){if(u){Sd(n)||(r==null||r(n),n=Gn());return}if(i.length===0)r==null||r(n),n=Gn();else if(o>0){const c=a.decode(i.subarray(0,o)),l=o+(i[o+1]===32?2:1),d=a.decode(i.subarray(l));switch(c){case"data":n.data=n.data?n.data+`
`+d:d;break;case"event":n.event=d;break;case"id":e==null||e(n.id=d);break;case"retry":{const p=parseInt(d,10);Number.isNaN(p)||t==null||t(n.retry=p);break}}}}}function Td(r,e){const t=new Uint8Array(r.length+e.length);return t.set(r),t.set(e,r.length),t}function Gn(){return{data:"",event:"",id:"",retry:void 0}}function Sd(r){return r.data===""&&r.event===""&&r.id===""&&r.retry===void 0}function jd(r){try{return JSON.stringify(r)}catch{return r}}function Id(r,e,t){const{validateStatus:n}=t.config;!t.status||!n||n(t.status)?r(t):e(Mr(`Request failed with status code ${t.status} and body ${typeof t.data=="string"?t.data:jd(t.data)}`,t.config,null,t.request,t))}function kd(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function Rd(r,e){return e?r.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):r}function Rs(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Cd(r,e,t){if(!e)return r;var n;if(t)n=t(e);else if(Fd(e))n=e.toString();else{var a=[];Cs(e,function(o,u){o===null||typeof o>"u"||(Qi(o)?u=`${u}[]`:o=[o],Cs(o,function(l){Md(l)?l=l.toISOString():Dd(l)&&(l=JSON.stringify(l)),a.push(`${Rs(u)}=${Rs(l)}`)}))}),n=a.join("&")}if(n){var s=r.indexOf("#");s!==-1&&(r=r.slice(0,s)),r+=(r.indexOf("?")===-1?"?":"&")+n}return r}function Nd(r,e){return r&&!kd(e)?Rd(r,e):e}function Ld(r){return typeof r>"u"}function Dd(r){return r!==null&&typeof r=="object"}function Md(r){return toString.call(r)==="[object Date]"}function Fd(r){return toString.call(r)==="[object URLSearchParams]"}function Qi(r){return Array.isArray(r)}function Cs(r,e){if(!(r===null||typeof r>"u"))if(typeof r!="object"&&(r=[r]),Qi(r))for(var t=0,n=r.length;t<n;t++)e.call(null,r[t],t,r);else for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.call(null,r[a],a,r)}function Bd(r){return toString.call(r)==="[object FormData]"}function $d(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}async function $r(r){const e=Vd(r),t=await Ud(e,r);return new Promise((n,a)=>{t instanceof Error?a(t):Object.prototype.toString.call(r.settle)==="[object Function]"?r.settle(n,a,t):Id(n,a,t)})}async function Ud(r,e){let t;try{t=await fetch(r)}catch(s){return s&&s.name==="AbortError"?Mr("Request aborted",e,"ECONNABORTED",r):s&&s.name==="TimeoutError"?Mr("Request timeout",e,"ECONNABORTED",r):Mr("Network Error",e,"ERR_NETWORK",r)}const n={};t.headers.forEach((s,i)=>{n[i]=s});const a={ok:t.ok,status:t.status,statusText:t.statusText,headers:n,config:e,request:r};if(t.status>=200&&t.status!==204)if(e.responseType==="stream"){const s=t.headers.get("content-type");if(!(s!=null&&s.startsWith(ca))){if(t.status>=400)return s!=null&&s.startsWith("application/json")?(a.data=await t.json(),a):(a.data=await t.text(),a);throw new Error(`Expected content-type to be ${ca}, Actual: ${s}`)}await Ed(t.body,Pd(xd(e.onmessage)))}else switch(e.responseType){case"arraybuffer":a.data=await t.arrayBuffer();break;case"blob":a.data=await t.blob();break;case"json":a.data=await t.json();break;case"formData":a.data=await t.formData();break;default:a.data=await t.text();break}return a}function Vd(r){const e=new Headers(r.headers);if(r.auth){const i=r.auth.username||"",o=r.auth.password?decodeURI(encodeURIComponent(r.auth.password)):"";e.set("Authorization",`Basic ${btoa(`${i}:${o}`)}`)}const t=r.method.toUpperCase(),n={headers:e,method:t};t!=="GET"&&t!=="HEAD"&&(n.body=r.data,Bd(n.body)&&$d()&&e.delete("Content-Type")),typeof n.body=="string"&&(n.body=new TextEncoder().encode(n.body)),r.mode&&(n.mode=r.mode),r.cache&&(n.cache=r.cache),r.integrity&&(n.integrity=r.integrity),r.redirect&&(n.redirect=r.redirect),r.referrer&&(n.referrer=r.referrer),r.timeout&&r.timeout>0&&(n.signal=AbortSignal.timeout(r.timeout)),r.signal&&(n.signal=r.signal),Ld(r.withCredentials)||(n.credentials=r.withCredentials?"include":"omit"),r.responseType==="stream"&&n.headers.set("Accept",ca);const a=Nd(r.baseURL,r.url),s=Cd(a,r.params,r.paramsSerializer);return new Request(s,n)}function Mr(r,e,t,n,a){if(Pr.AxiosError&&typeof Pr.AxiosError=="function")return new Pr.AxiosError(r,Pr.AxiosError[t],e,n,a);const s=new Error(r);return zd(s,e,t,n,a)}function zd(r,e,t,n,a){return r.config=e,t&&(r.code=t),r.request=n,r.response=a,r.isAxiosError=!0,r.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},r}const Ns=(r,e)=>r.reduce((t,n,a)=>{const s=Math.floor(a/e),i=t[s]||[];return t[s]=i.concat([n]),t},[]);function xr(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Xi={exports:{}};(function(r,e){(function(t){r.exports=t()})(function(){return function t(n,a,s){function i(c,l){if(!a[c]){if(!n[c]){var d=typeof xr=="function"&&xr;if(!l&&d)return d(c,!0);if(o)return o(c,!0);throw new Error("Cannot find module '"+c+"'")}l=a[c]={exports:{}},n[c][0].call(l.exports,function(p){var v=n[c][1][p];return i(v||p)},l,l.exports,t,n,a,s)}return a[c].exports}for(var o=typeof xr=="function"&&xr,u=0;u<s.length;u++)i(s[u]);return i}({1:[function(t,n,a){(function(s,i,o,u,c,l,d,p,v){var m=t("crypto");function w(A,j){j=I(A,j);var y;return(y=j.algorithm!=="passthrough"?m.createHash(j.algorithm):new N).write===void 0&&(y.write=y.update,y.end=y.update),P(j,y).dispatch(A),y.update||y.end(""),y.digest?y.digest(j.encoding==="buffer"?void 0:j.encoding):(A=y.read(),j.encoding!=="buffer"?A.toString(j.encoding):A)}(a=n.exports=w).sha1=function(A){return w(A)},a.keys=function(A){return w(A,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},a.MD5=function(A){return w(A,{algorithm:"md5",encoding:"hex"})},a.keysMD5=function(A){return w(A,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var g=m.getHashes?m.getHashes().slice():["sha1","md5"],x=(g.push("passthrough"),["buffer","hex","binary","base64"]);function I(A,j){var y={};if(y.algorithm=(j=j||{}).algorithm||"sha1",y.encoding=j.encoding||"hex",y.excludeValues=!!j.excludeValues,y.algorithm=y.algorithm.toLowerCase(),y.encoding=y.encoding.toLowerCase(),y.ignoreUnknown=j.ignoreUnknown===!0,y.respectType=j.respectType!==!1,y.respectFunctionNames=j.respectFunctionNames!==!1,y.respectFunctionProperties=j.respectFunctionProperties!==!1,y.unorderedArrays=j.unorderedArrays===!0,y.unorderedSets=j.unorderedSets!==!1,y.unorderedObjects=j.unorderedObjects!==!1,y.replacer=j.replacer||void 0,y.excludeKeys=j.excludeKeys||void 0,A===void 0)throw new Error("Object argument required.");for(var _=0;_<g.length;++_)g[_].toLowerCase()===y.algorithm.toLowerCase()&&(y.algorithm=g[_]);if(g.indexOf(y.algorithm)===-1)throw new Error('Algorithm "'+y.algorithm+'"  not supported. supported values: '+g.join(", "));if(x.indexOf(y.encoding)===-1&&y.algorithm!=="passthrough")throw new Error('Encoding "'+y.encoding+'"  not supported. supported values: '+x.join(", "));return y}function T(A){if(typeof A=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(A))!=null}function P(A,j,y){y=y||[];function _(f){return j.update?j.update(f,"utf8"):j.write(f,"utf8")}return{dispatch:function(f){return this["_"+((f=A.replacer?A.replacer(f):f)===null?"null":typeof f)](f)},_object:function(f){var E,S=Object.prototype.toString.call(f),K=/\[object (.*)\]/i.exec(S);if(K=(K=K?K[1]:"unknown:["+S+"]").toLowerCase(),0<=(S=y.indexOf(f)))return this.dispatch("[CIRCULAR:"+S+"]");if(y.push(f),o!==void 0&&o.isBuffer&&o.isBuffer(f))return _("buffer:"),_(f);if(K==="object"||K==="function"||K==="asyncfunction")return S=Object.keys(f),A.unorderedObjects&&(S=S.sort()),A.respectType===!1||T(f)||S.splice(0,0,"prototype","__proto__","constructor"),A.excludeKeys&&(S=S.filter(function(V){return!A.excludeKeys(V)})),_("object:"+S.length+":"),E=this,S.forEach(function(V){E.dispatch(V),_(":"),A.excludeValues||E.dispatch(f[V]),_(",")});if(!this["_"+K]){if(A.ignoreUnknown)return _("["+K+"]");throw new Error('Unknown object type "'+K+'"')}this["_"+K](f)},_array:function(f,V){V=V!==void 0?V:A.unorderedArrays!==!1;var S=this;if(_("array:"+f.length+":"),!V||f.length<=1)return f.forEach(function(Y){return S.dispatch(Y)});var K=[],V=f.map(function(Y){var D=new N,W=y.slice();return P(A,D,W).dispatch(Y),K=K.concat(W.slice(y.length)),D.read().toString()});return y=y.concat(K),V.sort(),this._array(V,!1)},_date:function(f){return _("date:"+f.toJSON())},_symbol:function(f){return _("symbol:"+f.toString())},_error:function(f){return _("error:"+f.toString())},_boolean:function(f){return _("bool:"+f.toString())},_string:function(f){_("string:"+f.length+":"),_(f.toString())},_function:function(f){_("fn:"),T(f)?this.dispatch("[native]"):this.dispatch(f.toString()),A.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(f.name)),A.respectFunctionProperties&&this._object(f)},_number:function(f){return _("number:"+f.toString())},_xml:function(f){return _("xml:"+f.toString())},_null:function(){return _("Null")},_undefined:function(){return _("Undefined")},_regexp:function(f){return _("regex:"+f.toString())},_uint8array:function(f){return _("uint8array:"),this.dispatch(Array.prototype.slice.call(f))},_uint8clampedarray:function(f){return _("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(f))},_int8array:function(f){return _("int8array:"),this.dispatch(Array.prototype.slice.call(f))},_uint16array:function(f){return _("uint16array:"),this.dispatch(Array.prototype.slice.call(f))},_int16array:function(f){return _("int16array:"),this.dispatch(Array.prototype.slice.call(f))},_uint32array:function(f){return _("uint32array:"),this.dispatch(Array.prototype.slice.call(f))},_int32array:function(f){return _("int32array:"),this.dispatch(Array.prototype.slice.call(f))},_float32array:function(f){return _("float32array:"),this.dispatch(Array.prototype.slice.call(f))},_float64array:function(f){return _("float64array:"),this.dispatch(Array.prototype.slice.call(f))},_arraybuffer:function(f){return _("arraybuffer:"),this.dispatch(new Uint8Array(f))},_url:function(f){return _("url:"+f.toString())},_map:function(f){return _("map:"),f=Array.from(f),this._array(f,A.unorderedSets!==!1)},_set:function(f){return _("set:"),f=Array.from(f),this._array(f,A.unorderedSets!==!1)},_file:function(f){return _("file:"),this.dispatch([f.name,f.size,f.type,f.lastModfied])},_blob:function(){if(A.ignoreUnknown)return _("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return _("domwindow")},_bigint:function(f){return _("bigint:"+f.toString())},_process:function(){return _("process")},_timer:function(){return _("timer")},_pipe:function(){return _("pipe")},_tcp:function(){return _("tcp")},_udp:function(){return _("udp")},_tty:function(){return _("tty")},_statwatcher:function(){return _("statwatcher")},_securecontext:function(){return _("securecontext")},_connection:function(){return _("connection")},_zlib:function(){return _("zlib")},_context:function(){return _("context")},_nodescript:function(){return _("nodescript")},_httpparser:function(){return _("httpparser")},_dataview:function(){return _("dataview")},_signal:function(){return _("signal")},_fsevent:function(){return _("fsevent")},_tlswrap:function(){return _("tlswrap")}}}function N(){return{buf:"",write:function(A){this.buf+=A},end:function(A){this.buf+=A},read:function(){return this.buf}}}a.writeToStream=function(A,j,y){return y===void 0&&(y=j,j={}),P(j=I(A,j),y).dispatch(A)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(t,n,a){(function(s,i,o,u,c,l,d,p,v){(function(m){var w=typeof Uint8Array<"u"?Uint8Array:Array,g="+".charCodeAt(0),x="/".charCodeAt(0),I="0".charCodeAt(0),T="a".charCodeAt(0),P="A".charCodeAt(0),N="-".charCodeAt(0),A="_".charCodeAt(0);function j(y){return y=y.charCodeAt(0),y===g||y===N?62:y===x||y===A?63:y<I?-1:y<I+10?y-I+26+26:y<P+26?y-P:y<T+26?y-T+26:void 0}m.toByteArray=function(y){var _,f;if(0<y.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var E=y.length,E=y.charAt(E-2)==="="?2:y.charAt(E-1)==="="?1:0,S=new w(3*y.length/4-E),K=0<E?y.length-4:y.length,V=0;function Y(D){S[V++]=D}for(_=0;_<K;_+=4,0)Y((16711680&(f=j(y.charAt(_))<<18|j(y.charAt(_+1))<<12|j(y.charAt(_+2))<<6|j(y.charAt(_+3))))>>16),Y((65280&f)>>8),Y(255&f);return E==2?Y(255&(f=j(y.charAt(_))<<2|j(y.charAt(_+1))>>4)):E==1&&(Y((f=j(y.charAt(_))<<10|j(y.charAt(_+1))<<4|j(y.charAt(_+2))>>2)>>8&255),Y(255&f)),S},m.fromByteArray=function(y){var _,f,E,S,K=y.length%3,V="";function Y(D){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(D)}for(_=0,E=y.length-K;_<E;_+=3)f=(y[_]<<16)+(y[_+1]<<8)+y[_+2],V+=Y((S=f)>>18&63)+Y(S>>12&63)+Y(S>>6&63)+Y(63&S);switch(K){case 1:V=(V+=Y((f=y[y.length-1])>>2))+Y(f<<4&63)+"==";break;case 2:V=(V=(V+=Y((f=(y[y.length-2]<<8)+y[y.length-1])>>10))+Y(f>>4&63))+Y(f<<2&63)+"="}return V}})(a===void 0?this.base64js={}:a)}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(t,n,a){(function(s,i,g,u,c,l,d,p,v){var m=t("base64-js"),w=t("ieee754");function g(h,b,O){if(!(this instanceof g))return new g(h,b,O);var C,R,B,ee,oe=typeof h;if(b==="base64"&&oe=="string")for(h=(ee=h).trim?ee.trim():ee.replace(/^\s+|\s+$/g,"");h.length%4!=0;)h+="=";if(oe=="number")C=se(h);else if(oe=="string")C=g.byteLength(h,b);else{if(oe!="object")throw new Error("First argument needs to be a number, array or string.");C=se(h.length)}if(g._useTypedArrays?R=g._augment(new Uint8Array(C)):((R=this).length=C,R._isBuffer=!0),g._useTypedArrays&&typeof h.byteLength=="number")R._set(h);else if(M(ee=h)||g.isBuffer(ee)||ee&&typeof ee=="object"&&typeof ee.length=="number")for(B=0;B<C;B++)g.isBuffer(h)?R[B]=h.readUInt8(B):R[B]=h[B];else if(oe=="string")R.write(h,0,b);else if(oe=="number"&&!g._useTypedArrays&&!O)for(B=0;B<C;B++)R[B]=0;return R}function x(h,b,O,C){return g._charsWritten=_e(function(R){for(var B=[],ee=0;ee<R.length;ee++)B.push(255&R.charCodeAt(ee));return B}(b),h,O,C)}function I(h,b,O,C){return g._charsWritten=_e(function(R){for(var B,ee,oe=[],de=0;de<R.length;de++)ee=R.charCodeAt(de),B=ee>>8,ee=ee%256,oe.push(ee),oe.push(B);return oe}(b),h,O,C)}function T(h,b,O){var C="";O=Math.min(h.length,O);for(var R=b;R<O;R++)C+=String.fromCharCode(h[R]);return C}function P(h,b,O,B){B||(F(typeof O=="boolean","missing or invalid endian"),F(b!=null,"missing offset"),F(b+1<h.length,"Trying to read beyond buffer length"));var R,B=h.length;if(!(B<=b))return O?(R=h[b],b+1<B&&(R|=h[b+1]<<8)):(R=h[b]<<8,b+1<B&&(R|=h[b+1])),R}function N(h,b,O,B){B||(F(typeof O=="boolean","missing or invalid endian"),F(b!=null,"missing offset"),F(b+3<h.length,"Trying to read beyond buffer length"));var R,B=h.length;if(!(B<=b))return O?(b+2<B&&(R=h[b+2]<<16),b+1<B&&(R|=h[b+1]<<8),R|=h[b],b+3<B&&(R+=h[b+3]<<24>>>0)):(b+1<B&&(R=h[b+1]<<16),b+2<B&&(R|=h[b+2]<<8),b+3<B&&(R|=h[b+3]),R+=h[b]<<24>>>0),R}function A(h,b,O,C){if(C||(F(typeof O=="boolean","missing or invalid endian"),F(b!=null,"missing offset"),F(b+1<h.length,"Trying to read beyond buffer length")),!(h.length<=b))return C=P(h,b,O,!0),32768&C?-1*(65535-C+1):C}function j(h,b,O,C){if(C||(F(typeof O=="boolean","missing or invalid endian"),F(b!=null,"missing offset"),F(b+3<h.length,"Trying to read beyond buffer length")),!(h.length<=b))return C=N(h,b,O,!0),2147483648&C?-1*(4294967295-C+1):C}function y(h,b,O,C){return C||(F(typeof O=="boolean","missing or invalid endian"),F(b+3<h.length,"Trying to read beyond buffer length")),w.read(h,b,O,23,4)}function _(h,b,O,C){return C||(F(typeof O=="boolean","missing or invalid endian"),F(b+7<h.length,"Trying to read beyond buffer length")),w.read(h,b,O,52,8)}function f(h,b,O,C,R){if(R||(F(b!=null,"missing value"),F(typeof C=="boolean","missing or invalid endian"),F(O!=null,"missing offset"),F(O+1<h.length,"trying to write beyond buffer length"),Ot(b,65535)),R=h.length,!(R<=O))for(var B=0,ee=Math.min(R-O,2);B<ee;B++)h[O+B]=(b&255<<8*(C?B:1-B))>>>8*(C?B:1-B)}function E(h,b,O,C,R){if(R||(F(b!=null,"missing value"),F(typeof C=="boolean","missing or invalid endian"),F(O!=null,"missing offset"),F(O+3<h.length,"trying to write beyond buffer length"),Ot(b,4294967295)),R=h.length,!(R<=O))for(var B=0,ee=Math.min(R-O,4);B<ee;B++)h[O+B]=b>>>8*(C?B:3-B)&255}function S(h,b,O,C,R){R||(F(b!=null,"missing value"),F(typeof C=="boolean","missing or invalid endian"),F(O!=null,"missing offset"),F(O+1<h.length,"Trying to write beyond buffer length"),xn(b,32767,-32768)),h.length<=O||f(h,0<=b?b:65535+b+1,O,C,R)}function K(h,b,O,C,R){R||(F(b!=null,"missing value"),F(typeof C=="boolean","missing or invalid endian"),F(O!=null,"missing offset"),F(O+3<h.length,"Trying to write beyond buffer length"),xn(b,2147483647,-2147483648)),h.length<=O||E(h,0<=b?b:4294967295+b+1,O,C,R)}function V(h,b,O,C,R){R||(F(b!=null,"missing value"),F(typeof C=="boolean","missing or invalid endian"),F(O!=null,"missing offset"),F(O+3<h.length,"Trying to write beyond buffer length"),Ya(b,34028234663852886e22,-34028234663852886e22)),h.length<=O||w.write(h,b,O,C,23,4)}function Y(h,b,O,C,R){R||(F(b!=null,"missing value"),F(typeof C=="boolean","missing or invalid endian"),F(O!=null,"missing offset"),F(O+7<h.length,"Trying to write beyond buffer length"),Ya(b,17976931348623157e292,-17976931348623157e292)),h.length<=O||w.write(h,b,O,C,52,8)}a.Buffer=g,a.SlowBuffer=g,a.INSPECT_MAX_BYTES=50,g.poolSize=8192,g._useTypedArrays=function(){try{var h=new ArrayBuffer(0),b=new Uint8Array(h);return b.foo=function(){return 42},b.foo()===42&&typeof b.subarray=="function"}catch{return!1}}(),g.isEncoding=function(h){switch(String(h).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.isBuffer=function(h){return!(h==null||!h._isBuffer)},g.byteLength=function(h,b){var O;switch(h+="",b||"utf8"){case"hex":O=h.length/2;break;case"utf8":case"utf-8":O=z(h).length;break;case"ascii":case"binary":case"raw":O=h.length;break;case"base64":O=Pe(h).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":O=2*h.length;break;default:throw new Error("Unknown encoding")}return O},g.concat=function(h,b){if(F(M(h),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),h.length===0)return new g(0);if(h.length===1)return h[0];if(typeof b!="number")for(R=b=0;R<h.length;R++)b+=h[R].length;for(var O=new g(b),C=0,R=0;R<h.length;R++){var B=h[R];B.copy(O,C),C+=B.length}return O},g.prototype.write=function(h,b,O,C){isFinite(b)?isFinite(O)||(C=O,O=void 0):(de=C,C=b,b=O,O=de),b=Number(b)||0;var R,B,ee,oe,de=this.length-b;switch((!O||de<(O=Number(O)))&&(O=de),C=String(C||"utf8").toLowerCase()){case"hex":R=function(Le,ve,we,he){we=Number(we)||0;var ce=Le.length-we;(!he||ce<(he=Number(he)))&&(he=ce),F((ce=ve.length)%2==0,"Invalid hex string"),ce/2<he&&(he=ce/2);for(var At=0;At<he;At++){var Ja=parseInt(ve.substr(2*At,2),16);F(!isNaN(Ja),"Invalid hex string"),Le[we+At]=Ja}return g._charsWritten=2*At,At}(this,h,b,O);break;case"utf8":case"utf-8":B=this,ee=b,oe=O,R=g._charsWritten=_e(z(h),B,ee,oe);break;case"ascii":case"binary":R=x(this,h,b,O);break;case"base64":B=this,ee=b,oe=O,R=g._charsWritten=_e(Pe(h),B,ee,oe);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":R=I(this,h,b,O);break;default:throw new Error("Unknown encoding")}return R},g.prototype.toString=function(h,b,O){var C,R,B,ee,oe=this;if(h=String(h||"utf8").toLowerCase(),b=Number(b)||0,(O=O!==void 0?Number(O):oe.length)===b)return"";switch(h){case"hex":C=function(de,Le,ve){var we=de.length;(!Le||Le<0)&&(Le=0),(!ve||ve<0||we<ve)&&(ve=we);for(var he="",ce=Le;ce<ve;ce++)he+=Z(de[ce]);return he}(oe,b,O);break;case"utf8":case"utf-8":C=function(de,Le,ve){var we="",he="";ve=Math.min(de.length,ve);for(var ce=Le;ce<ve;ce++)de[ce]<=127?(we+=pt(he)+String.fromCharCode(de[ce]),he=""):he+="%"+de[ce].toString(16);return we+pt(he)}(oe,b,O);break;case"ascii":case"binary":C=T(oe,b,O);break;case"base64":R=oe,ee=O,C=(B=b)===0&&ee===R.length?m.fromByteArray(R):m.fromByteArray(R.slice(B,ee));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":C=function(de,Le,ve){for(var we=de.slice(Le,ve),he="",ce=0;ce<we.length;ce+=2)he+=String.fromCharCode(we[ce]+256*we[ce+1]);return he}(oe,b,O);break;default:throw new Error("Unknown encoding")}return C},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},g.prototype.copy=function(h,b,O,C){if(b=b||0,(C=C||C===0?C:this.length)!==(O=O||0)&&h.length!==0&&this.length!==0){F(O<=C,"sourceEnd < sourceStart"),F(0<=b&&b<h.length,"targetStart out of bounds"),F(0<=O&&O<this.length,"sourceStart out of bounds"),F(0<=C&&C<=this.length,"sourceEnd out of bounds"),C>this.length&&(C=this.length);var R=(C=h.length-b<C-O?h.length-b+O:C)-O;if(R<100||!g._useTypedArrays)for(var B=0;B<R;B++)h[B+b]=this[B+O];else h._set(this.subarray(O,O+R),b)}},g.prototype.slice=function(h,b){var O=this.length;if(h=W(h,O,0),b=W(b,O,O),g._useTypedArrays)return g._augment(this.subarray(h,b));for(var C=b-h,R=new g(C,void 0,!0),B=0;B<C;B++)R[B]=this[B+h];return R},g.prototype.get=function(h){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(h)},g.prototype.set=function(h,b){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(h,b)},g.prototype.readUInt8=function(h,b){if(b||(F(h!=null,"missing offset"),F(h<this.length,"Trying to read beyond buffer length")),!(h>=this.length))return this[h]},g.prototype.readUInt16LE=function(h,b){return P(this,h,!0,b)},g.prototype.readUInt16BE=function(h,b){return P(this,h,!1,b)},g.prototype.readUInt32LE=function(h,b){return N(this,h,!0,b)},g.prototype.readUInt32BE=function(h,b){return N(this,h,!1,b)},g.prototype.readInt8=function(h,b){if(b||(F(h!=null,"missing offset"),F(h<this.length,"Trying to read beyond buffer length")),!(h>=this.length))return 128&this[h]?-1*(255-this[h]+1):this[h]},g.prototype.readInt16LE=function(h,b){return A(this,h,!0,b)},g.prototype.readInt16BE=function(h,b){return A(this,h,!1,b)},g.prototype.readInt32LE=function(h,b){return j(this,h,!0,b)},g.prototype.readInt32BE=function(h,b){return j(this,h,!1,b)},g.prototype.readFloatLE=function(h,b){return y(this,h,!0,b)},g.prototype.readFloatBE=function(h,b){return y(this,h,!1,b)},g.prototype.readDoubleLE=function(h,b){return _(this,h,!0,b)},g.prototype.readDoubleBE=function(h,b){return _(this,h,!1,b)},g.prototype.writeUInt8=function(h,b,O){O||(F(h!=null,"missing value"),F(b!=null,"missing offset"),F(b<this.length,"trying to write beyond buffer length"),Ot(h,255)),b>=this.length||(this[b]=h)},g.prototype.writeUInt16LE=function(h,b,O){f(this,h,b,!0,O)},g.prototype.writeUInt16BE=function(h,b,O){f(this,h,b,!1,O)},g.prototype.writeUInt32LE=function(h,b,O){E(this,h,b,!0,O)},g.prototype.writeUInt32BE=function(h,b,O){E(this,h,b,!1,O)},g.prototype.writeInt8=function(h,b,O){O||(F(h!=null,"missing value"),F(b!=null,"missing offset"),F(b<this.length,"Trying to write beyond buffer length"),xn(h,127,-128)),b>=this.length||(0<=h?this.writeUInt8(h,b,O):this.writeUInt8(255+h+1,b,O))},g.prototype.writeInt16LE=function(h,b,O){S(this,h,b,!0,O)},g.prototype.writeInt16BE=function(h,b,O){S(this,h,b,!1,O)},g.prototype.writeInt32LE=function(h,b,O){K(this,h,b,!0,O)},g.prototype.writeInt32BE=function(h,b,O){K(this,h,b,!1,O)},g.prototype.writeFloatLE=function(h,b,O){V(this,h,b,!0,O)},g.prototype.writeFloatBE=function(h,b,O){V(this,h,b,!1,O)},g.prototype.writeDoubleLE=function(h,b,O){Y(this,h,b,!0,O)},g.prototype.writeDoubleBE=function(h,b,O){Y(this,h,b,!1,O)},g.prototype.fill=function(h,b,O){if(b=b||0,O=O||this.length,F(typeof(h=typeof(h=h||0)=="string"?h.charCodeAt(0):h)=="number"&&!isNaN(h),"value is not a number"),F(b<=O,"end < start"),O!==b&&this.length!==0){F(0<=b&&b<this.length,"start out of bounds"),F(0<=O&&O<=this.length,"end out of bounds");for(var C=b;C<O;C++)this[C]=h}},g.prototype.inspect=function(){for(var h=[],b=this.length,O=0;O<b;O++)if(h[O]=Z(this[O]),O===a.INSPECT_MAX_BYTES){h[O+1]="...";break}return"<Buffer "+h.join(" ")+">"},g.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(g._useTypedArrays)return new g(this).buffer;for(var h=new Uint8Array(this.length),b=0,O=h.length;b<O;b+=1)h[b]=this[b];return h.buffer};var D=g.prototype;function W(h,b,O){return typeof h!="number"?O:b<=(h=~~h)?b:0<=h||0<=(h+=b)?h:0}function se(h){return(h=~~Math.ceil(+h))<0?0:h}function M(h){return(Array.isArray||function(b){return Object.prototype.toString.call(b)==="[object Array]"})(h)}function Z(h){return h<16?"0"+h.toString(16):h.toString(16)}function z(h){for(var b=[],O=0;O<h.length;O++){var C=h.charCodeAt(O);if(C<=127)b.push(h.charCodeAt(O));else for(var R=O,B=(55296<=C&&C<=57343&&O++,encodeURIComponent(h.slice(R,O+1)).substr(1).split("%")),ee=0;ee<B.length;ee++)b.push(parseInt(B[ee],16))}return b}function Pe(h){return m.toByteArray(h)}function _e(h,b,O,C){for(var R=0;R<C&&!(R+O>=b.length||R>=h.length);R++)b[R+O]=h[R];return R}function pt(h){try{return decodeURIComponent(h)}catch{return String.fromCharCode(65533)}}function Ot(h,b){F(typeof h=="number","cannot write a non-number as a number"),F(0<=h,"specified a negative value for writing an unsigned value"),F(h<=b,"value is larger than maximum value for type"),F(Math.floor(h)===h,"value has a fractional component")}function xn(h,b,O){F(typeof h=="number","cannot write a non-number as a number"),F(h<=b,"value larger than maximum allowed value"),F(O<=h,"value smaller than minimum allowed value"),F(Math.floor(h)===h,"value has a fractional component")}function Ya(h,b,O){F(typeof h=="number","cannot write a non-number as a number"),F(h<=b,"value larger than maximum allowed value"),F(O<=h,"value smaller than minimum allowed value")}function F(h,b){if(!h)throw new Error(b||"Failed assertion")}g._augment=function(h){return h._isBuffer=!0,h._get=h.get,h._set=h.set,h.get=D.get,h.set=D.set,h.write=D.write,h.toString=D.toString,h.toLocaleString=D.toString,h.toJSON=D.toJSON,h.copy=D.copy,h.slice=D.slice,h.readUInt8=D.readUInt8,h.readUInt16LE=D.readUInt16LE,h.readUInt16BE=D.readUInt16BE,h.readUInt32LE=D.readUInt32LE,h.readUInt32BE=D.readUInt32BE,h.readInt8=D.readInt8,h.readInt16LE=D.readInt16LE,h.readInt16BE=D.readInt16BE,h.readInt32LE=D.readInt32LE,h.readInt32BE=D.readInt32BE,h.readFloatLE=D.readFloatLE,h.readFloatBE=D.readFloatBE,h.readDoubleLE=D.readDoubleLE,h.readDoubleBE=D.readDoubleBE,h.writeUInt8=D.writeUInt8,h.writeUInt16LE=D.writeUInt16LE,h.writeUInt16BE=D.writeUInt16BE,h.writeUInt32LE=D.writeUInt32LE,h.writeUInt32BE=D.writeUInt32BE,h.writeInt8=D.writeInt8,h.writeInt16LE=D.writeInt16LE,h.writeInt16BE=D.writeInt16BE,h.writeInt32LE=D.writeInt32LE,h.writeInt32BE=D.writeInt32BE,h.writeFloatLE=D.writeFloatLE,h.writeFloatBE=D.writeFloatBE,h.writeDoubleLE=D.writeDoubleLE,h.writeDoubleBE=D.writeDoubleBE,h.fill=D.fill,h.inspect=D.inspect,h.toArrayBuffer=D.toArrayBuffer,h}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(t,n,a){(function(s,i,m,u,c,l,d,p,v){var m=t("buffer").Buffer,w=4,g=new m(w);g.fill(0),n.exports={hash:function(x,I,T,P){for(var N=I(function(f,E){f.length%w!=0&&(S=f.length+(w-f.length%w),f=m.concat([f,g],S));for(var S,K=[],V=E?f.readInt32BE:f.readInt32LE,Y=0;Y<f.length;Y+=w)K.push(V.call(f,Y));return K}(x=m.isBuffer(x)?x:new m(x),P),8*x.length),I=P,A=new m(T),j=I?A.writeInt32BE:A.writeInt32LE,y=0;y<N.length;y++)j.call(A,N[y],4*y,!0);return A}}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(t,n,a){(function(s,i,m,u,c,l,d,p,v){var m=t("buffer").Buffer,w=t("./sha"),g=t("./sha256"),x=t("./rng"),I={sha1:w,sha256:g,md5:t("./md5")},T=64,P=new m(T);function N(f,E){var S=I[f=f||"sha1"],K=[];return S||A("algorithm:",f,"is not yet supported"),{update:function(V){return m.isBuffer(V)||(V=new m(V)),K.push(V),V.length,this},digest:function(V){var Y=m.concat(K),Y=E?function(D,W,se){m.isBuffer(W)||(W=new m(W)),m.isBuffer(se)||(se=new m(se)),W.length>T?W=D(W):W.length<T&&(W=m.concat([W,P],T));for(var M=new m(T),Z=new m(T),z=0;z<T;z++)M[z]=54^W[z],Z[z]=92^W[z];return se=D(m.concat([M,se])),D(m.concat([Z,se]))}(S,E,Y):S(Y);return K=null,V?Y.toString(V):Y}}}function A(){var f=[].slice.call(arguments).join(" ");throw new Error([f,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}P.fill(0),a.createHash=function(f){return N(f)},a.createHmac=N,a.randomBytes=function(f,E){if(!E||!E.call)return new m(x(f));try{E.call(this,void 0,new m(x(f)))}catch(S){E(S)}};var j,y=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],_=function(f){a[f]=function(){A("sorry,",f,"is not implemented yet")}};for(j in y)_(y[j])}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(t,n,a){(function(s,i,o,u,c,l,d,p,v){var m=t("./helpers");function w(A,j){A[j>>5]|=128<<j%32,A[14+(j+64>>>9<<4)]=j;for(var y=1732584193,_=-271733879,f=-1732584194,E=271733878,S=0;S<A.length;S+=16){var K=y,V=_,Y=f,D=E,y=x(y,_,f,E,A[S+0],7,-680876936),E=x(E,y,_,f,A[S+1],12,-389564586),f=x(f,E,y,_,A[S+2],17,606105819),_=x(_,f,E,y,A[S+3],22,-1044525330);y=x(y,_,f,E,A[S+4],7,-176418897),E=x(E,y,_,f,A[S+5],12,1200080426),f=x(f,E,y,_,A[S+6],17,-1473231341),_=x(_,f,E,y,A[S+7],22,-45705983),y=x(y,_,f,E,A[S+8],7,1770035416),E=x(E,y,_,f,A[S+9],12,-1958414417),f=x(f,E,y,_,A[S+10],17,-42063),_=x(_,f,E,y,A[S+11],22,-1990404162),y=x(y,_,f,E,A[S+12],7,1804603682),E=x(E,y,_,f,A[S+13],12,-40341101),f=x(f,E,y,_,A[S+14],17,-1502002290),y=I(y,_=x(_,f,E,y,A[S+15],22,1236535329),f,E,A[S+1],5,-165796510),E=I(E,y,_,f,A[S+6],9,-1069501632),f=I(f,E,y,_,A[S+11],14,643717713),_=I(_,f,E,y,A[S+0],20,-373897302),y=I(y,_,f,E,A[S+5],5,-701558691),E=I(E,y,_,f,A[S+10],9,38016083),f=I(f,E,y,_,A[S+15],14,-660478335),_=I(_,f,E,y,A[S+4],20,-405537848),y=I(y,_,f,E,A[S+9],5,568446438),E=I(E,y,_,f,A[S+14],9,-1019803690),f=I(f,E,y,_,A[S+3],14,-187363961),_=I(_,f,E,y,A[S+8],20,1163531501),y=I(y,_,f,E,A[S+13],5,-1444681467),E=I(E,y,_,f,A[S+2],9,-51403784),f=I(f,E,y,_,A[S+7],14,1735328473),y=T(y,_=I(_,f,E,y,A[S+12],20,-1926607734),f,E,A[S+5],4,-378558),E=T(E,y,_,f,A[S+8],11,-2022574463),f=T(f,E,y,_,A[S+11],16,1839030562),_=T(_,f,E,y,A[S+14],23,-35309556),y=T(y,_,f,E,A[S+1],4,-1530992060),E=T(E,y,_,f,A[S+4],11,1272893353),f=T(f,E,y,_,A[S+7],16,-155497632),_=T(_,f,E,y,A[S+10],23,-1094730640),y=T(y,_,f,E,A[S+13],4,681279174),E=T(E,y,_,f,A[S+0],11,-358537222),f=T(f,E,y,_,A[S+3],16,-722521979),_=T(_,f,E,y,A[S+6],23,76029189),y=T(y,_,f,E,A[S+9],4,-640364487),E=T(E,y,_,f,A[S+12],11,-421815835),f=T(f,E,y,_,A[S+15],16,530742520),y=P(y,_=T(_,f,E,y,A[S+2],23,-995338651),f,E,A[S+0],6,-198630844),E=P(E,y,_,f,A[S+7],10,1126891415),f=P(f,E,y,_,A[S+14],15,-1416354905),_=P(_,f,E,y,A[S+5],21,-57434055),y=P(y,_,f,E,A[S+12],6,1700485571),E=P(E,y,_,f,A[S+3],10,-1894986606),f=P(f,E,y,_,A[S+10],15,-1051523),_=P(_,f,E,y,A[S+1],21,-2054922799),y=P(y,_,f,E,A[S+8],6,1873313359),E=P(E,y,_,f,A[S+15],10,-30611744),f=P(f,E,y,_,A[S+6],15,-1560198380),_=P(_,f,E,y,A[S+13],21,1309151649),y=P(y,_,f,E,A[S+4],6,-145523070),E=P(E,y,_,f,A[S+11],10,-1120210379),f=P(f,E,y,_,A[S+2],15,718787259),_=P(_,f,E,y,A[S+9],21,-343485551),y=N(y,K),_=N(_,V),f=N(f,Y),E=N(E,D)}return Array(y,_,f,E)}function g(A,j,y,_,f,E){return N((j=N(N(j,A),N(_,E)))<<f|j>>>32-f,y)}function x(A,j,y,_,f,E,S){return g(j&y|~j&_,A,j,f,E,S)}function I(A,j,y,_,f,E,S){return g(j&_|y&~_,A,j,f,E,S)}function T(A,j,y,_,f,E,S){return g(j^y^_,A,j,f,E,S)}function P(A,j,y,_,f,E,S){return g(y^(j|~_),A,j,f,E,S)}function N(A,j){var y=(65535&A)+(65535&j);return(A>>16)+(j>>16)+(y>>16)<<16|65535&y}n.exports=function(A){return m.hash(A,w,16)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(t,n,a){(function(s,i,o,u,c,l,d,p,v){n.exports=function(m){for(var w,g=new Array(m),x=0;x<m;x++)!(3&x)&&(w=4294967296*Math.random()),g[x]=w>>>((3&x)<<3)&255;return g}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(t,n,a){(function(s,i,o,u,c,l,d,p,v){var m=t("./helpers");function w(I,T){I[T>>5]|=128<<24-T%32,I[15+(T+64>>9<<4)]=T;for(var P,N,A,j=Array(80),y=1732584193,_=-271733879,f=-1732584194,E=271733878,S=-1009589776,K=0;K<I.length;K+=16){for(var V=y,Y=_,D=f,W=E,se=S,M=0;M<80;M++){j[M]=M<16?I[K+M]:x(j[M-3]^j[M-8]^j[M-14]^j[M-16],1);var Z=g(g(x(y,5),(Z=_,N=f,A=E,(P=M)<20?Z&N|~Z&A:!(P<40)&&P<60?Z&N|Z&A|N&A:Z^N^A)),g(g(S,j[M]),(P=M)<20?1518500249:P<40?1859775393:P<60?-1894007588:-899497514)),S=E,E=f,f=x(_,30),_=y,y=Z}y=g(y,V),_=g(_,Y),f=g(f,D),E=g(E,W),S=g(S,se)}return Array(y,_,f,E,S)}function g(I,T){var P=(65535&I)+(65535&T);return(I>>16)+(T>>16)+(P>>16)<<16|65535&P}function x(I,T){return I<<T|I>>>32-T}n.exports=function(I){return m.hash(I,w,20,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(t,n,a){(function(s,i,o,u,c,l,d,p,v){function m(T,P){var N=(65535&T)+(65535&P);return(T>>16)+(P>>16)+(N>>16)<<16|65535&N}function w(T,P){var N,A=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),j=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),y=new Array(64);T[P>>5]|=128<<24-P%32,T[15+(P+64>>9<<4)]=P;for(var _,f,E=0;E<T.length;E+=16){for(var S=j[0],K=j[1],V=j[2],Y=j[3],D=j[4],W=j[5],se=j[6],M=j[7],Z=0;Z<64;Z++)y[Z]=Z<16?T[Z+E]:m(m(m((f=y[Z-2],x(f,17)^x(f,19)^I(f,10)),y[Z-7]),(f=y[Z-15],x(f,7)^x(f,18)^I(f,3))),y[Z-16]),N=m(m(m(m(M,x(f=D,6)^x(f,11)^x(f,25)),D&W^~D&se),A[Z]),y[Z]),_=m(x(_=S,2)^x(_,13)^x(_,22),S&K^S&V^K&V),M=se,se=W,W=D,D=m(Y,N),Y=V,V=K,K=S,S=m(N,_);j[0]=m(S,j[0]),j[1]=m(K,j[1]),j[2]=m(V,j[2]),j[3]=m(Y,j[3]),j[4]=m(D,j[4]),j[5]=m(W,j[5]),j[6]=m(se,j[6]),j[7]=m(M,j[7])}return j}var g=t("./helpers"),x=function(T,P){return T>>>P|T<<32-P},I=function(T,P){return T>>>P};n.exports=function(T){return g.hash(T,w,32,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(t,n,a){(function(s,i,o,u,c,l,d,p,v){a.read=function(m,w,g,x,E){var T,P,N=8*E-x-1,A=(1<<N)-1,j=A>>1,y=-7,_=g?E-1:0,f=g?-1:1,E=m[w+_];for(_+=f,T=E&(1<<-y)-1,E>>=-y,y+=N;0<y;T=256*T+m[w+_],_+=f,y-=8);for(P=T&(1<<-y)-1,T>>=-y,y+=x;0<y;P=256*P+m[w+_],_+=f,y-=8);if(T===0)T=1-j;else{if(T===A)return P?NaN:1/0*(E?-1:1);P+=Math.pow(2,x),T-=j}return(E?-1:1)*P*Math.pow(2,T-x)},a.write=function(m,w,g,x,I,S){var P,N,A=8*S-I-1,j=(1<<A)-1,y=j>>1,_=I===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=x?0:S-1,E=x?1:-1,S=w<0||w===0&&1/w<0?1:0;for(w=Math.abs(w),isNaN(w)||w===1/0?(N=isNaN(w)?1:0,P=j):(P=Math.floor(Math.log(w)/Math.LN2),w*(x=Math.pow(2,-P))<1&&(P--,x*=2),2<=(w+=1<=P+y?_/x:_*Math.pow(2,1-y))*x&&(P++,x/=2),j<=P+y?(N=0,P=j):1<=P+y?(N=(w*x-1)*Math.pow(2,I),P+=y):(N=w*Math.pow(2,y-1)*Math.pow(2,I),P=0));8<=I;m[g+f]=255&N,f+=E,N/=256,I-=8);for(P=P<<I|N,A+=I;0<A;m[g+f]=255&P,f+=E,P/=256,A-=8);m[g+f-E]|=128*S}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(t,n,a){(function(s,i,o,u,c,l,d,p,v){var m,w,g;function x(){}(s=n.exports={}).nextTick=(w=typeof window<"u"&&window.setImmediate,g=typeof window<"u"&&window.postMessage&&window.addEventListener,w?function(I){return window.setImmediate(I)}:g?(m=[],window.addEventListener("message",function(I){var T=I.source;T!==window&&T!==null||I.data!=="process-tick"||(I.stopPropagation(),0<m.length&&m.shift()())},!0),function(I){m.push(I),window.postMessage("process-tick","*")}):function(I){setTimeout(I,0)}),s.title="browser",s.browser=!0,s.env={},s.argv=[],s.on=x,s.addListener=x,s.once=x,s.off=x,s.removeListener=x,s.removeAllListeners=x,s.emit=x,s.binding=function(I){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(I){throw new Error("process.chdir is not supported")}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})})(Xi);var qd=Xi.exports;const Zd=Xr(qd),Ls=(...r)=>Zd(r.join("_"));var Kd=function(r,e){if(typeof r!="string")throw new TypeError("Expected a string");return e=typeof e>"u"?"_":e,r.replace(/([a-z\d])([A-Z])/g,"$1"+e+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+e+"$2").toLowerCase()};const Hd=Xr(Kd);var eo={exports:{}};const Yd=/[\p{Lu}]/u,Jd=/[\p{Ll}]/u,Ds=/^[\p{Lu}](?![\p{Lu}])/gu,to=/([\p{Alpha}\p{N}_]|$)/u,ro=/[_.\- ]+/,Wd=new RegExp("^"+ro.source),Ms=new RegExp(ro.source+to.source,"gu"),Fs=new RegExp("\\d+"+to.source,"gu"),Gd=(r,e,t)=>{let n=!1,a=!1,s=!1;for(let i=0;i<r.length;i++){const o=r[i];n&&Yd.test(o)?(r=r.slice(0,i)+"-"+r.slice(i),n=!1,s=a,a=!0,i++):a&&s&&Jd.test(o)?(r=r.slice(0,i-1)+"-"+r.slice(i-1),s=a,a=!1,n=!0):(n=e(o)===o&&t(o)!==o,s=a,a=t(o)===o&&e(o)!==o)}return r},Qd=(r,e)=>(Ds.lastIndex=0,r.replace(Ds,t=>e(t))),Xd=(r,e)=>(Ms.lastIndex=0,Fs.lastIndex=0,r.replace(Ms,(t,n)=>e(n)).replace(Fs,t=>e(t))),no=(r,e)=>{if(!(typeof r=="string"||Array.isArray(r)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(r)?r=r.map(s=>s.trim()).filter(s=>s.length).join("-"):r=r.trim(),r.length===0)return"";const t=e.locale===!1?s=>s.toLowerCase():s=>s.toLocaleLowerCase(e.locale),n=e.locale===!1?s=>s.toUpperCase():s=>s.toLocaleUpperCase(e.locale);return r.length===1?e.pascalCase?n(r):t(r):(r!==t(r)&&(r=Gd(r,t,n)),r=r.replace(Wd,""),e.preserveConsecutiveUppercase?r=Qd(r,t):r=t(r),e.pascalCase&&(r=n(r.charAt(0))+r.slice(1)),Xd(r,n))};eo.exports=no;eo.exports.default=no;function eh(r,e){return(e==null?void 0:e[r])||Hd(r)}function th(r,e,t){const n={};for(const a in r)Object.hasOwn(r,a)&&(n[e(a,t)]=r[a]);return n}function Bs(r){return Array.isArray(r)?[...r]:{...r}}function rh(r,e){const t=Bs(r);for(const[n,a]of Object.entries(e)){const[s,...i]=n.split(".").reverse();let o=t;for(const u of i.reverse()){if(o[u]===void 0)break;o[u]=Bs(o[u]),o=o[u]}o[s]!==void 0&&(o[s]={lc:1,type:"secret",id:[a]})}return t}class ze{get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}constructor(e,...t){Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lc_kwargs=e||{}}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof ze||typeof this.lc_kwargs!="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();const e={},t={},n=Object.keys(this.lc_kwargs).reduce((a,s)=>(a[s]=s in this?this[s]:this.lc_kwargs[s],a),{});for(let a=Object.getPrototypeOf(this);a;a=Object.getPrototypeOf(a))Object.assign(e,Reflect.get(a,"lc_aliases",this)),Object.assign(t,Reflect.get(a,"lc_secrets",this)),Object.assign(n,Reflect.get(a,"lc_attributes",this));for(const a in t)a in this&&this[a]!==void 0&&(n[a]=this[a]||n[a]);return{lc:1,type:"constructor",id:[...this.lc_namespace,this.constructor.name],kwargs:th(Object.keys(t).length?rh(n,t):n,eh,e)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:[...this.lc_namespace,this.constructor.name]}}}const ao="__run";class sn extends ze{get text(){return this.content}constructor(e,t){typeof e=="string"&&(e={content:e,additional_kwargs:t}),e.additional_kwargs||(e.additional_kwargs={}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"additional_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.content=e.content,this.additional_kwargs=e.additional_kwargs}toDict(){return{type:this._getType(),data:this.toJSON().kwargs}}}class so extends sn{_getType(){return"human"}}class io extends sn{_getType(){return"ai"}}class Vy extends sn{_getType(){return"system"}}class zy extends sn{constructor(e,t){typeof e=="string"&&(e={content:e,role:t}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}}class nh extends ze{}class ah extends ze{addUserMessage(e){return this.addMessage(new so(e))}addAIChatMessage(e){return this.addMessage(new io(e))}}class sh{}const ih=new Map;class Sa extends sh{constructor(e){super(),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cache=e??new Map}lookup(e,t){return Promise.resolve(this.cache.get(Ls(e,t))??null)}async update(e,t,n){this.cache.set(Ls(e,t),n)}static global(){return new Sa(ih)}}var on={exports:{}},oo={};function Ne(r,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(r)),this._timeouts=r,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var oh=Ne;Ne.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};Ne.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};Ne.prototype.retry=function(r){if(this._timeout&&clearTimeout(this._timeout),!r)return!1;var e=new Date().getTime();if(r&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(r),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(r);var t=this._timeouts.shift();if(t===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),t=this._cachedTimeouts.slice(-1);else return!1;var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},t),this._options.unref&&this._timer.unref(),!0};Ne.prototype.attempt=function(r,e){this._fn=r,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var t=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){t._operationTimeoutCb()},t._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};Ne.prototype.try=function(r){console.log("Using RetryOperation.try() is deprecated"),this.attempt(r)};Ne.prototype.start=function(r){console.log("Using RetryOperation.start() is deprecated"),this.attempt(r)};Ne.prototype.start=Ne.prototype.try;Ne.prototype.errors=function(){return this._errors};Ne.prototype.attempts=function(){return this._attempts};Ne.prototype.mainError=function(){if(this._errors.length===0)return null;for(var r={},e=null,t=0,n=0;n<this._errors.length;n++){var a=this._errors[n],s=a.message,i=(r[s]||0)+1;r[s]=i,i>=t&&(e=a,t=i)}return e};(function(r){var e=oh;r.operation=function(t){var n=r.timeouts(t);return new e(n,{forever:t&&(t.forever||t.retries===1/0),unref:t&&t.unref,maxRetryTime:t&&t.maxRetryTime})},r.timeouts=function(t){if(t instanceof Array)return[].concat(t);var n={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var a in t)n[a]=t[a];if(n.minTimeout>n.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var s=[],i=0;i<n.retries;i++)s.push(this.createTimeout(i,n));return t&&t.forever&&!s.length&&s.push(this.createTimeout(i,n)),s.sort(function(o,u){return o-u}),s},r.createTimeout=function(t,n){var a=n.randomize?Math.random()+1:1,s=Math.round(a*Math.max(n.minTimeout,1)*Math.pow(n.factor,t));return s=Math.min(s,n.maxTimeout),s},r.wrap=function(t,n,a){if(n instanceof Array&&(a=n,n=null),!a){a=[];for(var s in t)typeof t[s]=="function"&&a.push(s)}for(var i=0;i<a.length;i++){var o=a[i],u=t[o];t[o]=(function(l){var d=r.operation(n),p=Array.prototype.slice.call(arguments,1),v=p.pop();p.push(function(m){d.retry(m)||(m&&(arguments[0]=d.mainError()),v.apply(this,arguments))}),d.attempt(function(){l.apply(t,p)})}).bind(t,u),t[o].options=n}}})(oo);var uh=oo;const ch=uh,lh=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class uo extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const dh=(r,e,t)=>{const n=t.retries-(e-1);return r.attemptNumber=e,r.retriesLeft=n,r},hh=r=>lh.includes(r),co=(r,e)=>new Promise((t,n)=>{e={onFailedAttempt:()=>{},retries:10,...e};const a=ch.operation(e);a.attempt(async s=>{try{t(await r(s))}catch(i){if(!(i instanceof Error)){n(new TypeError(`Non-error was thrown: "${i}". You should only throw errors.`));return}if(i instanceof uo)a.stop(),n(i.originalError);else if(i instanceof TypeError&&!hh(i.message))a.stop(),n(i);else{dh(i,s,e);try{await e.onFailedAttempt(i)}catch(o){n(o);return}a.retry(i)||n(a.mainError())}}})});on.exports=co;on.exports.default=co;on.exports.AbortError=uo;var ph=on.exports;const lo=Xr(ph);var ho={},po={exports:{}};(function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function a(u,c,l){this.fn=u,this.context=c,this.once=l||!1}function s(u,c,l,d,p){if(typeof l!="function")throw new TypeError("The listener must be a function");var v=new a(l,d||u,p),m=t?t+c:c;return u._events[m]?u._events[m].fn?u._events[m]=[u._events[m],v]:u._events[m].push(v):(u._events[m]=v,u._eventsCount++),u}function i(u,c){--u._eventsCount===0?u._events=new n:delete u._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],l,d;if(this._eventsCount===0)return c;for(d in l=this._events)e.call(l,d)&&c.push(t?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(l)):c},o.prototype.listeners=function(c){var l=t?t+c:c,d=this._events[l];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,v=d.length,m=new Array(v);p<v;p++)m[p]=d[p].fn;return m},o.prototype.listenerCount=function(c){var l=t?t+c:c,d=this._events[l];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,l,d,p,v,m){var w=t?t+c:c;if(!this._events[w])return!1;var g=this._events[w],x=arguments.length,I,T;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),x){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,l),!0;case 3:return g.fn.call(g.context,l,d),!0;case 4:return g.fn.call(g.context,l,d,p),!0;case 5:return g.fn.call(g.context,l,d,p,v),!0;case 6:return g.fn.call(g.context,l,d,p,v,m),!0}for(T=1,I=new Array(x-1);T<x;T++)I[T-1]=arguments[T];g.fn.apply(g.context,I)}else{var P=g.length,N;for(T=0;T<P;T++)switch(g[T].once&&this.removeListener(c,g[T].fn,void 0,!0),x){case 1:g[T].fn.call(g[T].context);break;case 2:g[T].fn.call(g[T].context,l);break;case 3:g[T].fn.call(g[T].context,l,d);break;case 4:g[T].fn.call(g[T].context,l,d,p);break;default:if(!I)for(N=1,I=new Array(x-1);N<x;N++)I[N-1]=arguments[N];g[T].fn.apply(g[T].context,I)}}return!0},o.prototype.on=function(c,l,d){return s(this,c,l,d,!1)},o.prototype.once=function(c,l,d){return s(this,c,l,d,!0)},o.prototype.removeListener=function(c,l,d,p){var v=t?t+c:c;if(!this._events[v])return this;if(!l)return i(this,v),this;var m=this._events[v];if(m.fn)m.fn===l&&(!p||m.once)&&(!d||m.context===d)&&i(this,v);else{for(var w=0,g=[],x=m.length;w<x;w++)(m[w].fn!==l||p&&!m[w].once||d&&m[w].context!==d)&&g.push(m[w]);g.length?this._events[v]=g.length===1?g[0]:g:i(this,v)}return this},o.prototype.removeAllListeners=function(c){var l;return c?(l=t?t+c:c,this._events[l]&&i(this,l)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,r.exports=o})(po);var fh=po.exports,un={exports:{}},mh=(r,e)=>(e=e||(()=>{}),r.then(t=>new Promise(n=>{n(e())}).then(()=>t),t=>new Promise(n=>{n(e())}).then(()=>{throw t})));const yh=mh;class fo extends Error{constructor(e){super(e),this.name="TimeoutError"}}const mo=(r,e,t)=>new Promise((n,a)=>{if(typeof e!="number"||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e===1/0){n(r);return}const s=setTimeout(()=>{if(typeof t=="function"){try{n(t())}catch(u){a(u)}return}const i=typeof t=="string"?t:`Promise timed out after ${e} milliseconds`,o=t instanceof Error?t:new fo(i);typeof r.cancel=="function"&&r.cancel(),a(o)},e);yh(r.then(n,a),()=>{clearTimeout(s)})});un.exports=mo;un.exports.default=mo;un.exports.TimeoutError=fo;var gh=un.exports,ja={},Ia={};Object.defineProperty(Ia,"__esModule",{value:!0});function bh(r,e,t){let n=0,a=r.length;for(;a>0;){const s=a/2|0;let i=n+s;t(r[i],e)<=0?(n=++i,a-=s+1):a=s}return n}Ia.default=bh;Object.defineProperty(ja,"__esModule",{value:!0});const _h=Ia;class vh{constructor(){this._queue=[]}enqueue(e,t){t=Object.assign({priority:0},t);const n={priority:t.priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority){this._queue.push(n);return}const a=_h.default(this._queue,n,(s,i)=>i.priority-s.priority);this._queue.splice(a,0,n)}dequeue(){const e=this._queue.shift();return e==null?void 0:e.run}filter(e){return this._queue.filter(t=>t.priority===e.priority).map(t=>t.run)}get size(){return this._queue.length}}ja.default=vh;Object.defineProperty(ho,"__esModule",{value:!0});const wh=fh,yo=gh,Oh=ja,Tr=()=>{},Ah=new yo.TimeoutError;class Eh extends wh{constructor(e){var t,n,a,s;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=Tr,this._resolveIdle=Tr,e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:Oh.default},e),!(typeof e.intervalCap=="number"&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(n=(t=e.intervalCap)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:""}\` (${typeof e.intervalCap})`);if(e.interval===void 0||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(s=(a=e.interval)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||e.interval===0,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=e.throwOnTimeout===!0,this._isPaused=e.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=Tr,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=Tr,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(this._intervalId===void 0){const t=this._intervalEnd-e;if(t<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},t)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const t=this._queue.dequeue();return t?(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!(typeof e=="number"&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise((n,a)=>{const s=async()=>{this._pendingCount++,this._intervalCount++;try{const i=this._timeout===void 0&&t.timeout===void 0?e():yo.default(Promise.resolve(e()),t.timeout===void 0?this._timeout:t.timeout,()=>{(t.throwOnTimeout===void 0?this._throwOnTimeout:t.throwOnTimeout)&&a(Ah)});n(await i)}catch(i){a(i)}this._next()};this._queue.enqueue(s,t),this._tryToStartAnother(),this.emit("add")})}async addAll(e,t){return Promise.all(e.map(async n=>this.add(n,t)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(e=>{const t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(e=>{const t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}var We=ho.default=Eh;const Ph=[400,401,403,404,405,406,407,408,409];let ka=class{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6;const t="default"in We?We.default:We;this.queue=new t({concurrency:this.maxConcurrency})}call(e,...t){return this.queue.add(()=>lo(()=>e(...t).catch(n=>{throw n instanceof Error?n:new Error(n)}),{onFailedAttempt(n){var s;if(n.message.startsWith("Cancel")||n.message.startsWith("TimeoutError")||n.message.startsWith("AbortError")||(n==null?void 0:n.code)==="ECONNABORTED")throw n;const a=(s=n==null?void 0:n.response)==null?void 0:s.status;if(a&&Ph.includes(+a))throw n},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,t,...n){return e.signal?Promise.race([this.call(t,...n),new Promise((a,s)=>{var i;(i=e.signal)==null||i.addEventListener("abort",()=>{s(new Error("AbortError"))})})]):this.call(t,...n)}fetch(...e){return this.call(()=>fetch(...e).then(t=>t.ok?t:Promise.reject(t)))}};var xh=Object.defineProperty,Th=(r,e,t)=>e in r?xh(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Sh=(r,e,t)=>(Th(r,typeof e!="symbol"?e+"":e,t),t),cn={};cn.byteLength=kh;cn.toByteArray=Ch;cn.fromByteArray=Dh;var Be=[],je=[],jh=typeof Uint8Array<"u"?Uint8Array:Array,Qn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Tt=0,Ih=Qn.length;Tt<Ih;++Tt)Be[Tt]=Qn[Tt],je[Qn.charCodeAt(Tt)]=Tt;je["-".charCodeAt(0)]=62;je["_".charCodeAt(0)]=63;function go(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function kh(r){var e=go(r),t=e[0],n=e[1];return(t+n)*3/4-n}function Rh(r,e,t){return(e+t)*3/4-t}function Ch(r){var e,t=go(r),n=t[0],a=t[1],s=new jh(Rh(r,n,a)),i=0,o=a>0?n-4:n,u;for(u=0;u<o;u+=4)e=je[r.charCodeAt(u)]<<18|je[r.charCodeAt(u+1)]<<12|je[r.charCodeAt(u+2)]<<6|je[r.charCodeAt(u+3)],s[i++]=e>>16&255,s[i++]=e>>8&255,s[i++]=e&255;return a===2&&(e=je[r.charCodeAt(u)]<<2|je[r.charCodeAt(u+1)]>>4,s[i++]=e&255),a===1&&(e=je[r.charCodeAt(u)]<<10|je[r.charCodeAt(u+1)]<<4|je[r.charCodeAt(u+2)]>>2,s[i++]=e>>8&255,s[i++]=e&255),s}function Nh(r){return Be[r>>18&63]+Be[r>>12&63]+Be[r>>6&63]+Be[r&63]}function Lh(r,e,t){for(var n,a=[],s=e;s<t;s+=3)n=(r[s]<<16&16711680)+(r[s+1]<<8&65280)+(r[s+2]&255),a.push(Nh(n));return a.join("")}function Dh(r){for(var e,t=r.length,n=t%3,a=[],s=16383,i=0,o=t-n;i<o;i+=s)a.push(Lh(r,i,i+s>o?o:i+s));return n===1?(e=r[t-1],a.push(Be[e>>2]+Be[e<<4&63]+"==")):n===2&&(e=(r[t-2]<<8)+r[t-1],a.push(Be[e>>10]+Be[e>>4&63]+Be[e<<2&63]+"=")),a.join("")}function Mh(r,e){let t=Array.from({length:r.length},(n,a)=>({start:a,end:a+1}));for(;t.length>1;){let n=null;for(let a=0;a<t.length-1;a++){const s=r.slice(t[a].start,t[a+1].end),i=e.get(s.join(","));i!=null&&(n==null||i<n[0])&&(n=[i,a])}if(n!=null){const a=n[1];t[a]={start:t[a].start,end:t[a+1].end},t.splice(a+1,1)}else break}return t}function Fh(r,e){return r.length===1?[e.get(r.join(","))]:Mh(r,e).map(t=>e.get(r.slice(t.start,t.end).join(","))).filter(t=>t!=null)}function Bh(r){return r.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}var la=class{constructor(r,e){et(this,"specialTokens");et(this,"inverseSpecialTokens");et(this,"patStr");et(this,"textEncoder",new TextEncoder);et(this,"textDecoder",new TextDecoder("utf-8"));et(this,"rankMap",new Map);et(this,"textMap",new Map);this.patStr=r.pat_str;const t=r.bpe_ranks.split(`
`).filter(Boolean).reduce((n,a)=>{const[s,i,...o]=a.split(" "),u=Number.parseInt(i,10);return o.forEach((c,l)=>n[c]=u+l),n},{});for(const[n,a]of Object.entries(t)){const s=cn.toByteArray(n);this.rankMap.set(s.join(","),a),this.textMap.set(a,s)}this.specialTokens={...r.special_tokens,...e},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((n,[a,s])=>(n[s]=this.textEncoder.encode(a),n),{})}encode(r,e=[],t="all"){const n=new RegExp(this.patStr,"ug"),a=la.specialTokenRegex(Object.keys(this.specialTokens)),s=[],i=new Set(e==="all"?Object.keys(this.specialTokens):e),o=new Set(t==="all"?Object.keys(this.specialTokens).filter(c=>!i.has(c)):t);if(o.size>0){const c=la.specialTokenRegex([...o]),l=r.match(c);if(l!=null)throw new Error(`The text contains a special token that is not allowed: ${l[0]}`)}let u=0;for(;;){let c=null,l=u;for(;a.lastIndex=l,c=a.exec(r),!(c==null||i.has(c[0]));)l=c.index+1;const d=(c==null?void 0:c.index)??r.length;for(const v of r.substring(u,d).matchAll(n)){const m=this.textEncoder.encode(v[0]),w=this.rankMap.get(m.join(","));if(w!=null){s.push(w);continue}s.push(...Fh(m,this.rankMap))}if(c==null)break;let p=this.specialTokens[c[0]];s.push(p),u=c.index+c[0].length}return s}decode(r){const e=[];let t=0;for(let s=0;s<r.length;++s){const i=r[s],o=this.textMap.get(i)??this.inverseSpecialTokens[i];o!=null&&(e.push(o),t+=o.length)}const n=new Uint8Array(t);let a=0;for(const s of e)n.set(s,a),a+=s.length;return this.textDecoder.decode(n)}},bo=la;Sh(bo,"specialTokenRegex",r=>new RegExp(r.map(e=>Bh(e)).join("|"),"g"));function $h(r){switch(r){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"text-embedding-ada-002":return"cl100k_base";default:throw new Error("Unknown model")}}const Sr={},Uh=new ka({});async function Vh(r,e){return r in Sr||(Sr[r]=Uh.fetch(`https://tiktoken.pages.dev/js/${r}.json`,{signal:e==null?void 0:e.signal}).then(t=>t.json()).catch(t=>{throw delete Sr[r],t})),new bo(await Sr[r],e==null?void 0:e.extendedSpecialTokens)}async function _o(r,e){return Vh($h(r),e)}const vo=r=>r.startsWith("gpt-3.5-turbo-16k-")?"gpt-3.5-turbo-16k":r.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":r.startsWith("gpt-4-32k-")?"gpt-4-32k":r.startsWith("gpt-4-")?"gpt-4":r,zh=r=>{switch(vo(r)){case"gpt-3.5-turbo-16k":return 16384;case"gpt-3.5-turbo":return 4096;case"gpt-4-32k":return 32768;case"gpt-4":return 8192;case"text-davinci-003":return 4097;case"text-curie-001":return 2048;case"text-babbage-001":return 2048;case"text-ada-001":return 2048;case"code-davinci-002":return 8e3;case"code-cushman-001":return 2048;default:return 4097}},qh=async({prompt:r,modelName:e})=>{let t=Math.ceil(r.length/4);try{t=(await _o(e)).encode(r).length}catch{console.warn("Failed to calculate number of tokens, falling back to approximate count")}return zh(e)-t},Zh=()=>!1;class wo extends ze{get lc_attributes(){return{callbacks:void 0,verbose:void 0}}constructor(e){super(e),Object.defineProperty(this,"verbose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.verbose=e.verbose??Zh(),this.callbacks=e.callbacks,this.tags=e.tags??[],this.metadata=e.metadata??{}}}class Oo extends wo{get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}constructor({callbacks:e,callbackManager:t,...n}){super({callbacks:e??t,...n}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_encoding",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.caller=new ka(n??{})}async getNumTokens(e){let t=Math.ceil(e.length/4);if(!this._encoding)try{this._encoding=await _o("modelName"in this?vo(this.modelName):"gpt2")}catch(n){console.warn("Failed to calculate number of tokens, falling back to approximate count",n)}return this._encoding&&(t=this._encoding.encode(e).length),t}_identifyingParams(){return{}}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(e){const{_type:t,_model:n,...a}=e;if(n&&n!=="base_chat_model")throw new Error(`Cannot load LLM with model ${n}`);const s={openai:(await Oe(()=>import("./chunks/openai.13cd76dd.js"),["assets/chunks/openai.13cd76dd.js","assets/chatbot.md.6631503b.js","assets/chunks/framework.65f1bd78.js"])).ChatOpenAI}[t];if(s===void 0)throw new Error(`Cannot load  LLM with type ${t}`);return new s(a)}}let jr;const Kh=new Uint8Array(16);function Hh(){if(!jr&&(jr=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!jr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return jr(Kh)}const pe=[];for(let r=0;r<256;++r)pe.push((r+256).toString(16).slice(1));function Yh(r,e=0){return(pe[r[e+0]]+pe[r[e+1]]+pe[r[e+2]]+pe[r[e+3]]+"-"+pe[r[e+4]]+pe[r[e+5]]+"-"+pe[r[e+6]]+pe[r[e+7]]+"-"+pe[r[e+8]]+pe[r[e+9]]+"-"+pe[r[e+10]]+pe[r[e+11]]+pe[r[e+12]]+pe[r[e+13]]+pe[r[e+14]]+pe[r[e+15]]).toLowerCase()}const Jh=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),$s={randomUUID:Jh};function yt(r,e,t){if($s.randomUUID&&!e&&!r)return $s.randomUUID();r=r||{};const n=r.random||(r.rng||Hh)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(let a=0;a<16;++a)e[t+a]=n[a];return e}return Yh(n)}class Wh{}class Or extends Wh{get lc_namespace(){return["langchain","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}constructor(e){var t;super(),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreLLM",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreChain",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreAgent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"awaitHandlers",{enumerable:!0,configurable:!0,writable:!0,value:typeof process<"u"?((t=process.env)==null?void 0:t.LANGCHAIN_CALLBACKS_BACKGROUND)!=="true":!0}),this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent)}copy(){return new this.constructor(this)}toJSON(){return ze.prototype.toJSON.call(this)}toJSONNotImplemented(){return ze.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){class t extends Or{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:yt()}),Object.assign(this,e)}}return new t}}var Ra={exports:{}};Ra.exports;(function(r){const t=(s=0)=>i=>`\x1B[${38+s};5;${i}m`,n=(s=0)=>(i,o,u)=>`\x1B[${38+s};2;${i};${o};${u}m`;function a(){const s=new Map,i={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};i.color.gray=i.color.blackBright,i.bgColor.bgGray=i.bgColor.bgBlackBright,i.color.grey=i.color.blackBright,i.bgColor.bgGrey=i.bgColor.bgBlackBright;for(const[o,u]of Object.entries(i)){for(const[c,l]of Object.entries(u))i[c]={open:`\x1B[${l[0]}m`,close:`\x1B[${l[1]}m`},u[c]=i[c],s.set(l[0],l[1]);Object.defineProperty(i,o,{value:u,enumerable:!1})}return Object.defineProperty(i,"codes",{value:s,enumerable:!1}),i.color.close="\x1B[39m",i.bgColor.close="\x1B[49m",i.color.ansi256=t(),i.color.ansi16m=n(),i.bgColor.ansi256=t(10),i.bgColor.ansi16m=n(10),Object.defineProperties(i,{rgbToAnsi256:{value:(o,u,c)=>o===u&&u===c?o<8?16:o>248?231:Math.round((o-8)/247*24)+232:16+36*Math.round(o/255*5)+6*Math.round(u/255*5)+Math.round(c/255*5),enumerable:!1},hexToRgb:{value:o=>{const u=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(o.toString(16));if(!u)return[0,0,0];let{colorString:c}=u.groups;c.length===3&&(c=c.split("").map(d=>d+d).join(""));const l=Number.parseInt(c,16);return[l>>16&255,l>>8&255,l&255]},enumerable:!1},hexToAnsi256:{value:o=>i.rgbToAnsi256(...i.hexToRgb(o)),enumerable:!1}}),i}Object.defineProperty(r,"exports",{enumerable:!0,get:a})})(Ra);var Gh=Ra.exports;const Ao=Xr(Gh);class Ca extends Or{constructor(e){super(...arguments),Object.defineProperty(this,"runMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}copy(){return this}_addChildRun(e,t){e.child_runs.push(t)}_startTrace(e){if(e.parent_run_id!==void 0){const t=this.runMap.get(e.parent_run_id);t&&this._addChildRun(t,e)}this.runMap.set(e.id,e)}async _endTrace(e){const t=e.parent_run_id!==void 0&&this.runMap.get(e.parent_run_id);t?t.child_execution_order=Math.max(t.child_execution_order,e.child_execution_order):await this.persistRun(e),this.runMap.delete(e.id)}_getExecutionOrder(e){const t=e!==void 0&&this.runMap.get(e);return t?t.child_execution_order+1:1}async handleLLMStart(e,t,n,a,s,i,o){var p;const u=this._getExecutionOrder(a),c=Date.now(),l=o?{...s,metadata:o}:s,d={id:n,name:e.id[e.id.length-1],parent_run_id:a,start_time:c,serialized:e,events:[{name:"start",time:c}],inputs:{prompts:t},execution_order:u,child_runs:[],child_execution_order:u,run_type:"llm",extra:l??{},tags:i||[]};this._startTrace(d),await((p=this.onLLMStart)==null?void 0:p.call(this,d))}async handleChatModelStart(e,t,n,a,s,i,o){var p;const u=this._getExecutionOrder(a),c=Date.now(),l=o?{...s,metadata:o}:s,d={id:n,name:e.id[e.id.length-1],parent_run_id:a,start_time:c,serialized:e,events:[{name:"start",time:c}],inputs:{messages:t},execution_order:u,child_runs:[],child_execution_order:u,run_type:"llm",extra:l??{},tags:i||[]};this._startTrace(d),await((p=this.onLLMStart)==null?void 0:p.call(this,d))}async handleLLMEnd(e,t){var a;const n=this.runMap.get(t);if(!n||(n==null?void 0:n.run_type)!=="llm")throw new Error("No LLM run to end.");n.end_time=Date.now(),n.outputs=e,n.events.push({name:"end",time:n.end_time}),await((a=this.onLLMEnd)==null?void 0:a.call(this,n)),await this._endTrace(n)}async handleLLMError(e,t){var a;const n=this.runMap.get(t);if(!n||(n==null?void 0:n.run_type)!=="llm")throw new Error("No LLM run to end.");n.end_time=Date.now(),n.error=e.message,n.events.push({name:"error",time:n.end_time}),await((a=this.onLLMError)==null?void 0:a.call(this,n)),await this._endTrace(n)}async handleChainStart(e,t,n,a,s,i){var l;const o=this._getExecutionOrder(a),u=Date.now(),c={id:n,name:e.id[e.id.length-1],parent_run_id:a,start_time:u,serialized:e,events:[{name:"start",time:u}],inputs:t,execution_order:o,child_execution_order:o,run_type:"chain",child_runs:[],extra:i?{metadata:i}:{},tags:s||[]};this._startTrace(c),await((l=this.onChainStart)==null?void 0:l.call(this,c))}async handleChainEnd(e,t){var a;const n=this.runMap.get(t);if(!n||(n==null?void 0:n.run_type)!=="chain")throw new Error("No chain run to end.");n.end_time=Date.now(),n.outputs=e,n.events.push({name:"end",time:n.end_time}),await((a=this.onChainEnd)==null?void 0:a.call(this,n)),await this._endTrace(n)}async handleChainError(e,t){var a;const n=this.runMap.get(t);if(!n||(n==null?void 0:n.run_type)!=="chain")throw new Error("No chain run to end.");n.end_time=Date.now(),n.error=e.message,n.events.push({name:"error",time:n.end_time}),await((a=this.onChainError)==null?void 0:a.call(this,n)),await this._endTrace(n)}async handleToolStart(e,t,n,a,s,i){var l;const o=this._getExecutionOrder(a),u=Date.now(),c={id:n,name:e.id[e.id.length-1],parent_run_id:a,start_time:u,serialized:e,events:[{name:"start",time:u}],inputs:{input:t},execution_order:o,child_execution_order:o,run_type:"tool",child_runs:[],extra:i?{metadata:i}:{},tags:s||[]};this._startTrace(c),await((l=this.onToolStart)==null?void 0:l.call(this,c))}async handleToolEnd(e,t){var a;const n=this.runMap.get(t);if(!n||(n==null?void 0:n.run_type)!=="tool")throw new Error("No tool run to end");n.end_time=Date.now(),n.outputs={output:e},n.events.push({name:"end",time:n.end_time}),await((a=this.onToolEnd)==null?void 0:a.call(this,n)),await this._endTrace(n)}async handleToolError(e,t){var a;const n=this.runMap.get(t);if(!n||(n==null?void 0:n.run_type)!=="tool")throw new Error("No tool run to end");n.end_time=Date.now(),n.error=e.message,n.events.push({name:"error",time:n.end_time}),await((a=this.onToolError)==null?void 0:a.call(this,n)),await this._endTrace(n)}async handleAgentAction(e,t){var s;const n=this.runMap.get(t);if(!n||(n==null?void 0:n.run_type)!=="chain")return;const a=n;a.actions=a.actions||[],a.actions.push(e),a.events.push({name:"agent_action",time:Date.now(),kwargs:{action:e}}),await((s=this.onAgentAction)==null?void 0:s.call(this,n))}async handleAgentEnd(e,t){var a;const n=this.runMap.get(t);!n||(n==null?void 0:n.run_type)!=="chain"||(n.events.push({name:"agent_end",time:Date.now(),kwargs:{action:e}}),await((a=this.onAgentEnd)==null?void 0:a.call(this,n)))}async handleText(e,t){var a;const n=this.runMap.get(t);!n||(n==null?void 0:n.run_type)!=="chain"||(n.events.push({name:"text",time:Date.now(),kwargs:{text:e}}),await((a=this.onText)==null?void 0:a.call(this,n)))}async handleLLMNewToken(e,t,n){var s;const a=this.runMap.get(n);!a||(a==null?void 0:a.run_type)!=="llm"||(a.events.push({name:"new_token",time:Date.now(),kwargs:{token:e,idx:t}}),await((s=this.onLLMNewToken)==null?void 0:s.call(this,a)))}}function Se(r,e){return`${r.open}${e}${r.close}`}function rt(r,e){try{return JSON.stringify(r,null,2)}catch{return e}}function St(r){if(!r.end_time)return"";const e=r.end_time-r.start_time;return e<1e3?`${e}ms`:`${(e/1e3).toFixed(2)}s`}const{color:De}=Ao;class Us extends Ca{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"console_callback_handler"})}persistRun(e){return Promise.resolve()}getParents(e){const t=[];let n=e;for(;n.parent_run_id;){const a=this.runMap.get(n.parent_run_id);if(a)t.push(a),n=a;else break}return t}getBreadcrumbs(e){const n=[...this.getParents(e).reverse(),e].map((a,s,i)=>{const o=`${a.execution_order}:${a.run_type}:${a.name}`;return s===i.length-1?Se(Ao.bold,o):o}).join(" > ");return Se(De.grey,n)}onChainStart(e){const t=this.getBreadcrumbs(e);console.log(`${Se(De.green,"[chain/start]")} [${t}] Entering Chain run with input: ${rt(e.inputs,"[inputs]")}`)}onChainEnd(e){const t=this.getBreadcrumbs(e);console.log(`${Se(De.cyan,"[chain/end]")} [${t}] [${St(e)}] Exiting Chain run with output: ${rt(e.outputs,"[outputs]")}`)}onChainError(e){const t=this.getBreadcrumbs(e);console.log(`${Se(De.red,"[chain/error]")} [${t}] [${St(e)}] Chain run errored with error: ${rt(e.error,"[error]")}`)}onLLMStart(e){const t=this.getBreadcrumbs(e),n="prompts"in e.inputs?{prompts:e.inputs.prompts.map(a=>a.trim())}:e.inputs;console.log(`${Se(De.green,"[llm/start]")} [${t}] Entering LLM run with input: ${rt(n,"[inputs]")}`)}onLLMEnd(e){const t=this.getBreadcrumbs(e);console.log(`${Se(De.cyan,"[llm/end]")} [${t}] [${St(e)}] Exiting LLM run with output: ${rt(e.outputs,"[response]")}`)}onLLMError(e){const t=this.getBreadcrumbs(e);console.log(`${Se(De.red,"[llm/error]")} [${t}] [${St(e)}] LLM run errored with error: ${rt(e.error,"[error]")}`)}onToolStart(e){var n;const t=this.getBreadcrumbs(e);console.log(`${Se(De.green,"[tool/start]")} [${t}] Entering Tool run with input: "${(n=e.inputs.input)==null?void 0:n.trim()}"`)}onToolEnd(e){var n,a;const t=this.getBreadcrumbs(e);console.log(`${Se(De.cyan,"[tool/end]")} [${t}] [${St(e)}] Exiting Tool run with output: "${(a=(n=e.outputs)==null?void 0:n.output)==null?void 0:a.trim()}"`)}onToolError(e){const t=this.getBreadcrumbs(e);console.log(`${Se(De.red,"[tool/error]")} [${t}] [${St(e)}] Tool run errored with error: ${rt(e.error,"[error]")}`)}onAgentAction(e){const t=e,n=this.getBreadcrumbs(e);console.log(`${Se(De.blue,"[agent/action]")} [${n}] Agent selected action: ${rt(t.actions[t.actions.length-1],"[action]")}`)}}const Qh=[400,401,403,404,405,406,407,408,409];class Xh{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6;const t="default"in We?We.default:We;this.queue=new t({concurrency:this.maxConcurrency})}call(e,...t){return this.queue.add(()=>lo(()=>e(...t).catch(n=>{throw n instanceof Error?n:new Error(n)}),{onFailedAttempt(n){var s;if(n.message.startsWith("Cancel")||n.message.startsWith("TimeoutError")||n.message.startsWith("AbortError")||(n==null?void 0:n.code)==="ECONNABORTED")throw n;const a=(s=n==null?void 0:n.response)==null?void 0:s.status;if(a&&Qh.includes(+a))throw n},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,t,...n){return e.signal?Promise.race([this.call(t,...n),new Promise((a,s)=>{var i;(i=e.signal)==null||i.addEventListener("abort",()=>{s(new Error("AbortError"))})})]):this.call(t,...n)}fetch(...e){return this.call(()=>fetch(...e).then(t=>t.ok?t:Promise.reject(t)))}}const ep=()=>typeof window<"u"&&typeof window.document<"u",tp=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",rp=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),Eo=()=>typeof Deno<"u",np=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!Eo(),ap=()=>{let r;return ep()?r="browser":np()?r="node":tp()?r="webworker":rp()?r="jsdom":Eo()?r="deno":r="other",r};let Xn;async function sp(){return Xn===void 0&&(Xn={library:"langsmith",runtime:ap()}),Xn}function Vs(r){var e;try{return typeof process<"u"?(e=process.env)==null?void 0:e[r]:void 0}catch{return}}const ip=r=>{const t=r.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return t==="localhost"||t==="127.0.0.1"||t==="::1"},Ir=async(r,e)=>{const t=await r.text();if(!r.ok)throw new Error(`Failed to ${e}: ${r.status} ${r.statusText} ${t}`)};class Na{constructor(e={}){Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const t=Na.getDefaultClientConfig();this.apiUrl=e.apiUrl??t.apiUrl,this.apiKey=e.apiKey??t.apiKey,this.validateApiKeyIfHosted(),this.timeout_ms=e.timeout_ms??4e3,this.caller=new Xh(e.callerOptions??{})}static getDefaultClientConfig(){return{apiUrl:Vs("LANGCHAIN_ENDPOINT")??"http://localhost:1984",apiKey:Vs("LANGCHAIN_API_KEY")}}validateApiKeyIfHosted(){if(!ip(this.apiUrl)&&!this.apiKey)throw new Error("API key must be provided when using hosted LangChain+ API")}get headers(){const e={};return this.apiKey&&(e["x-api-key"]=`${this.apiKey}`),e}async _get(e,t){const n=(t==null?void 0:t.toString())??"",a=`${this.apiUrl}${e}?${n}`,s=await this.caller.call(fetch,a,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!s.ok)throw new Error(`Failed to fetch ${e}: ${s.status} ${s.statusText}`);return s.json()}async createRun(e){const t={...this.headers,"Content-Type":"application/json"},n=e.extra??{},a=await sp(),s=e.project_name;delete e.project_name;const i={session_name:s,...e,extra:{...e.extra,runtime:{...a,...n.runtime}}},o=await this.caller.call(fetch,`${this.apiUrl}/runs`,{method:"POST",headers:t,body:JSON.stringify(i),signal:AbortSignal.timeout(this.timeout_ms)});await Ir(o,"create run")}async updateRun(e,t){const n={...this.headers,"Content-Type":"application/json"},a=await this.caller.call(fetch,`${this.apiUrl}/runs/${e}`,{method:"PATCH",headers:n,body:JSON.stringify(t),signal:AbortSignal.timeout(this.timeout_ms)});await Ir(a,"update run")}async readRun(e,{loadChildRuns:t}={loadChildRuns:!1}){let n=await this._get(`/runs/${e}`);return t&&n.child_run_ids&&(n=await this._loadChildRuns(n)),n}async _loadChildRuns(e){const t=await this.listRuns({id:e.child_run_ids}),n={},a={};t.sort((s,i)=>s.execution_order-i.execution_order);for(const s of t){if(s.parent_run_id===null||s.parent_run_id===void 0)throw new Error(`Child run ${s.id} has no parent`);s.parent_run_id in n||(n[s.parent_run_id]=[]),n[s.parent_run_id].push(s),a[s.id]=s}e.child_runs=n[e.id]||[];for(const s in n)s!==e.id&&(a[s].child_runs=n[s]);return e}async listRuns({projectId:e,projectName:t,executionOrder:n,runType:a,error:s,id:i,limit:o,offset:u}){const c=new URLSearchParams;let l=e;if(t){if(e)throw new Error("Only one of projectId or projectName may be given");l=(await this.readProject({projectName:t})).id}if(l&&c.append("session",l),n&&c.append("execution_order",n.toString()),a&&c.append("run_type",a),s!==void 0&&c.append("error",s.toString()),i!==void 0)for(const d of i)c.append("id",d);return o!==void 0&&c.append("limit",o.toString()),u!==void 0&&c.append("offset",u.toString()),this._get("/runs",c)}async deleteRun(e){const t=await this.caller.call(fetch,`${this.apiUrl}/runs/${e}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});await Ir(t,"delete run")}async createProject({projectName:e,projectExtra:t,mode:n,upsert:a}){const s=a?"?upsert=true":"",i=`${this.apiUrl}/sessions${s}`,o={name:e};t!==void 0&&(o.extra=t),n!==void 0&&(o.mode=n);const u=await this.caller.call(fetch,i,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms)}),c=await u.json();if(!u.ok)throw new Error(`Failed to create session ${e}: ${u.status} ${u.statusText}`);return c}async readProject({projectId:e,projectName:t}){let n="/sessions";const a=new URLSearchParams;if(e!==void 0&&t!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)n+=`/${e}`;else if(t!==void 0)a.append("name",t);else throw new Error("Must provide projectName or projectId");const s=await this._get(n,a);let i;if(Array.isArray(s)){if(s.length===0)throw new Error(`Project[id=${e}, name=${t}] not found`);i=s[0]}else i=s;return i}async listProjects(){return this._get("/sessions")}async deleteProject({projectId:e,projectName:t}){let n;if(e===void 0&&t===void 0)throw new Error("Must provide projectName or projectId");if(e!==void 0&&t!==void 0)throw new Error("Must provide either projectName or projectId, not both");e===void 0?n=(await this.readProject({projectName:t})).id:n=e;const a=await this.caller.call(fetch,`${this.apiUrl}/sessions/${n}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});await Ir(a,`delete session ${n} (${t})`)}async uploadCsv({csvFile:e,fileName:t,inputKeys:n,outputKeys:a,description:s}){const i=`${this.apiUrl}/datasets/upload`,o=new FormData;o.append("file",e,t),o.append("input_keys",n.join(",")),o.append("output_keys",a.join(",")),s&&o.append("description",s);const u=await this.caller.call(fetch,i,{method:"POST",headers:this.headers,body:o,signal:AbortSignal.timeout(this.timeout_ms)});if(!u.ok){const l=await u.json();throw l.detail&&l.detail.includes("already exists")?new Error(`Dataset ${t} already exists`):new Error(`Failed to upload CSV: ${u.status} ${u.statusText}`)}return await u.json()}async createDataset(e,{description:t}={}){const n=await this.caller.call(fetch,`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify({name:e,description:t}),signal:AbortSignal.timeout(this.timeout_ms)});if(!n.ok){const s=await n.json();throw s.detail&&s.detail.includes("already exists")?new Error(`Dataset ${e} already exists`):new Error(`Failed to create dataset ${n.status} ${n.statusText}`)}return await n.json()}async readDataset({datasetId:e,datasetName:t}){let n="/datasets";const a=new URLSearchParams({limit:"1"});if(e!==void 0&&t!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)n+=`/${e}`;else if(t!==void 0)a.append("name",t);else throw new Error("Must provide datasetName or datasetId");const s=await this._get(n,a);let i;if(Array.isArray(s)){if(s.length===0)throw new Error(`Dataset[id=${e}, name=${t}] not found`);i=s[0]}else i=s;return i}async listDatasets({limit:e=100,offset:t=0}={}){const n="/datasets",a=new URLSearchParams({limit:e.toString(),offset:t.toString()}),s=await this._get(n,a);if(!Array.isArray(s))throw new Error(`Expected ${n} to return an array, but got ${s}`);return s}async deleteDataset({datasetId:e,datasetName:t}){let n="/datasets",a=e;if(e!==void 0&&t!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(t!==void 0&&(a=(await this.readDataset({datasetName:t})).id),a!==void 0)n+=`/${a}`;else throw new Error("Must provide datasetName or datasetId");const s=await this.caller.call(fetch,this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!s.ok)throw new Error(`Failed to delete ${n}: ${s.status} ${s.statusText}`);await s.json()}async createExample(e,t,{datasetId:n,datasetName:a,createdAt:s}){let i=n;if(i===void 0&&a===void 0)throw new Error("Must provide either datasetName or datasetId");if(i!==void 0&&a!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");i===void 0&&(i=(await this.readDataset({datasetName:a})).id);const u={dataset_id:i,inputs:e,outputs:t,created_at:(s||new Date).toISOString()},c=await this.caller.call(fetch,`${this.apiUrl}/examples`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(u),signal:AbortSignal.timeout(this.timeout_ms)});if(!c.ok)throw new Error(`Failed to create example: ${c.status} ${c.statusText}`);return await c.json()}async readExample(e){const t=`/examples/${e}`;return await this._get(t)}async listExamples({datasetId:e,datasetName:t,limit:n,offset:a}={}){let s;if(e!==void 0&&t!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)s=e;else if(t!==void 0)s=(await this.readDataset({datasetName:t})).id;else throw new Error("Must provide a datasetName or datasetId");const i=await this._get("/examples",new URLSearchParams({dataset:s,limit:(n==null?void 0:n.toString())??"100",offset:(a==null?void 0:a.toString())??"0"}));if(!Array.isArray(i))throw new Error(`Expected /examples to return an array, but got ${i}`);return i}async deleteExample(e){const t=`/examples/${e}`,n=await this.caller.call(fetch,this.apiUrl+t,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!n.ok)throw new Error(`Failed to delete ${t}: ${n.status} ${n.statusText}`);await n.json()}async updateExample(e,t){const n=await this.caller.call(fetch,`${this.apiUrl}/examples/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(t),signal:AbortSignal.timeout(this.timeout_ms)});if(!n.ok)throw new Error(`Failed to update example ${e}: ${n.status} ${n.statusText}`);return await n.json()}async evaluateRun(e,t,{sourceInfo:n,loadChildRuns:a}={loadChildRuns:!1}){let s;if(typeof e=="string")s=await this.readRun(e,{loadChildRuns:a});else if(typeof e=="object"&&"id"in e)s=e;else throw new Error(`Invalid run type: ${typeof e}`);let i;s.reference_example_id!==null&&s.reference_example_id!==void 0&&(i=await this.readExample(s.reference_example_id));const o=await t.evaluateRun(s,i);let u=n??{};return o.evaluatorInfo&&(u={...u,...o.evaluatorInfo}),await this.createFeedback(s.id,o.key,{score:o.score,value:o.value,comment:o.comment,correction:o.correction,sourceInfo:u,feedbackSourceType:"MODEL"})}async createFeedback(e,t,{score:n,value:a,correction:s,comment:i,sourceInfo:o,feedbackSourceType:u="API"}){let c;if(u==="API")c={type:"api",metadata:o??{}};else if(u==="MODEL")c={type:"model",metadata:o??{}};else throw new Error(`Unknown feedback source type ${u}`);const l={id:yt(),run_id:e,key:t,score:n,value:a,correction:s,comment:i,feedback_source:c},d=await this.caller.call(fetch,`${this.apiUrl}/feedback`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(l),signal:AbortSignal.timeout(this.timeout_ms)});if(!d.ok)throw new Error(`Failed to create feedback for run ${e}: ${d.status} ${d.statusText}`);return await d.json()}async readFeedback(e){const t=`/feedback/${e}`;return await this._get(t)}async deleteFeedback(e){const t=`/feedback/${e}`,n=await this.caller.call(fetch,this.apiUrl+t,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!n.ok)throw new Error(`Failed to delete ${t}: ${n.status} ${n.statusText}`);await n.json()}async listFeedback({runIds:e,limit:t,offset:n}={}){const a=new URLSearchParams;return e&&a.append("run",e.join(",")),t!==void 0&&a.append("limit",t.toString()),n!==void 0&&a.append("offset",n.toString()),await this._get("/feedback",a)}}class op extends Ca{constructor(e={}){super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"projectName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{exampleId:t,projectName:n,client:a}=e;this.projectName=n??ae("LANGCHAIN_PROJECT")??ae("LANGCHAIN_SESSION"),this.exampleId=t,this.client=a??new Na({})}async _convertToCreate(e,t=void 0){return{...e,extra:{...e.extra,runtime:await Ad()},child_runs:void 0,session_name:this.projectName,reference_example_id:e.parent_run_id?void 0:t}}async persistRun(e){}async _persistRunSingle(e){const t=await this._convertToCreate(e,this.exampleId);await this.client.createRun(t)}async _updateRunSingle(e){const t={end_time:e.end_time,error:e.error,outputs:e.outputs,events:e.events};await this.client.updateRun(e.id,t)}async onLLMStart(e){await this._persistRunSingle(e)}async onLLMEnd(e){await this._updateRunSingle(e)}async onLLMError(e){await this._updateRunSingle(e)}async onChainStart(e){await this._persistRunSingle(e)}async onChainEnd(e){await this._updateRunSingle(e)}async onChainError(e){await this._updateRunSingle(e)}async onToolStart(e){await this._persistRunSingle(e)}async onToolEnd(e){await this._updateRunSingle(e)}async onToolError(e){await this._updateRunSingle(e)}}class up{}const Po=(r,e)=>{if(e!==void 0)return r[e];const t=Object.keys(r);if(t.length===1)return r[t[0]]},cp=(r,e)=>{const t=Po(r,e);if(!t){const n=Object.keys(r);throw new Error(`input values have ${n.length} keys, you must specify an input key or pass only 1 key as input`)}return t},lp=(r,e)=>{const t=Po(r,e);if(!t){const n=Object.keys(r);throw new Error(`output values have ${n.length} keys, you must specify an output key or pass only 1 key as output`)}return t};function ln(r,e="Human",t="AI"){const n=[];for(const a of r){let s;if(a._getType()==="human")s=e;else if(a._getType()==="ai")s=t;else if(a._getType()==="system")s="System";else if(a._getType()==="function")s="Function";else if(a._getType()==="generic")s=a.role;else throw new Error(`Got unsupported message type: ${a}`);const i=a.name?`${a.name}, `:"";n.push(`${s}: ${i}${a.content}`)}return n.join(`
`)}class dp extends Ca{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"endpoint",{enumerable:!0,configurable:!0,writable:!0,value:ae("LANGCHAIN_ENDPOINT")||"http://localhost:1984"}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:{"Content-Type":"application/json"}}),Object.defineProperty(this,"session",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const e=ae("LANGCHAIN_API_KEY");e&&(this.headers["x-api-key"]=e)}async newSession(e){const t={start_time:Date.now(),name:e},n=await this.persistSession(t);return this.session=n,n}async loadSession(e){const t=`${this.endpoint}/sessions?name=${e}`;return this._handleSessionResponse(t)}async loadDefaultSession(){const e=`${this.endpoint}/sessions?name=default`;return this._handleSessionResponse(e)}async convertV2RunToRun(e){var s;const t=this.session??await this.loadDefaultSession(),n=e.serialized;let a;if(e.run_type==="llm"){const i=e.inputs.prompts?e.inputs.prompts:e.inputs.messages.map(u=>ln(u));a={uuid:e.id,start_time:e.start_time,end_time:e.end_time,execution_order:e.execution_order,child_execution_order:e.child_execution_order,serialized:n,type:e.run_type,session_id:t.id,prompts:i,response:e.outputs}}else if(e.run_type==="chain"){const i=await Promise.all(e.child_runs.map(u=>this.convertV2RunToRun(u)));a={uuid:e.id,start_time:e.start_time,end_time:e.end_time,execution_order:e.execution_order,child_execution_order:e.child_execution_order,serialized:n,type:e.run_type,session_id:t.id,inputs:e.inputs,outputs:e.outputs,child_llm_runs:i.filter(u=>u.type==="llm"),child_chain_runs:i.filter(u=>u.type==="chain"),child_tool_runs:i.filter(u=>u.type==="tool")}}else if(e.run_type==="tool"){const i=await Promise.all(e.child_runs.map(u=>this.convertV2RunToRun(u)));a={uuid:e.id,start_time:e.start_time,end_time:e.end_time,execution_order:e.execution_order,child_execution_order:e.child_execution_order,serialized:n,type:e.run_type,session_id:t.id,tool_input:e.inputs.input,output:(s=e.outputs)==null?void 0:s.output,action:JSON.stringify(n),child_llm_runs:i.filter(u=>u.type==="llm"),child_chain_runs:i.filter(u=>u.type==="chain"),child_tool_runs:i.filter(u=>u.type==="tool")}}else throw new Error(`Unknown run type: ${e.run_type}`);return a}async persistRun(e){let t,n;e.run_type!==void 0?n=await this.convertV2RunToRun(e):n=e,n.type==="llm"?t=`${this.endpoint}/llm-runs`:n.type==="chain"?t=`${this.endpoint}/chain-runs`:t=`${this.endpoint}/tool-runs`;const a=await fetch(t,{method:"POST",headers:this.headers,body:JSON.stringify(n)});a.ok||console.error(`Failed to persist run: ${a.status} ${a.statusText}`)}async persistSession(e){const t=`${this.endpoint}/sessions`,n=await fetch(t,{method:"POST",headers:this.headers,body:JSON.stringify(e)});return n.ok?{id:(await n.json()).id,...e}:(console.error(`Failed to persist session: ${n.status} ${n.statusText}, using default session.`),{id:1,...e})}async _handleSessionResponse(e){const t=await fetch(e,{method:"GET",headers:this.headers});let n;if(!t.ok)return console.error(`Failed to load session: ${t.status} ${t.statusText}`),n={id:1,start_time:Date.now()},this.session=n,n;const a=await t.json();return a.length===0?(n={id:1,start_time:Date.now()},this.session=n,n):([n]=a,this.session=n,n)}}async function hp(r){const e=new dp;return r?await e.loadSession(r):await e.loadDefaultSession(),e}async function pp(){return new op}let ea;function fp(){const r="default"in We?We.default:We;return new r({autoStart:!0,concurrency:1})}async function Ae(r,e){e===!0?await r():(typeof ea>"u"&&(ea=fp()),ea.add(r))}function mp(r){return r?Array.isArray(r)||"name"in r?{callbacks:r}:r:{}}class yp{setHandler(e){return this.setHandlers([e])}}class La{constructor(e,t,n,a,s,i,o,u){Object.defineProperty(this,"runId",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:u})}async handleText(e){await Promise.all(this.handlers.map(t=>Ae(async()=>{var n;try{await((n=t.handleText)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(a){console.error(`Error in handler ${t.constructor.name}, handleText: ${a}`)}},t.awaitHandlers)))}}class zs extends La{async handleLLMNewToken(e,t={prompt:0,completion:0}){await Promise.all(this.handlers.map(n=>Ae(async()=>{var a;if(!n.ignoreLLM)try{await((a=n.handleLLMNewToken)==null?void 0:a.call(n,e,t,this.runId,this._parentRunId,this.tags))}catch(s){console.error(`Error in handler ${n.constructor.name}, handleLLMNewToken: ${s}`)}},n.awaitHandlers)))}async handleLLMError(e){await Promise.all(this.handlers.map(t=>Ae(async()=>{var n;if(!t.ignoreLLM)try{await((n=t.handleLLMError)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(a){console.error(`Error in handler ${t.constructor.name}, handleLLMError: ${a}`)}},t.awaitHandlers)))}async handleLLMEnd(e){await Promise.all(this.handlers.map(t=>Ae(async()=>{var n;if(!t.ignoreLLM)try{await((n=t.handleLLMEnd)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(a){console.error(`Error in handler ${t.constructor.name}, handleLLMEnd: ${a}`)}},t.awaitHandlers)))}}class gp extends La{getChild(e){const t=new ot(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleChainError(e){await Promise.all(this.handlers.map(t=>Ae(async()=>{var n;if(!t.ignoreChain)try{await((n=t.handleChainError)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(a){console.error(`Error in handler ${t.constructor.name}, handleChainError: ${a}`)}},t.awaitHandlers)))}async handleChainEnd(e){await Promise.all(this.handlers.map(t=>Ae(async()=>{var n;if(!t.ignoreChain)try{await((n=t.handleChainEnd)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(a){console.error(`Error in handler ${t.constructor.name}, handleChainEnd: ${a}`)}},t.awaitHandlers)))}async handleAgentAction(e){await Promise.all(this.handlers.map(t=>Ae(async()=>{var n;if(!t.ignoreAgent)try{await((n=t.handleAgentAction)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(a){console.error(`Error in handler ${t.constructor.name}, handleAgentAction: ${a}`)}},t.awaitHandlers)))}async handleAgentEnd(e){await Promise.all(this.handlers.map(t=>Ae(async()=>{var n;if(!t.ignoreAgent)try{await((n=t.handleAgentEnd)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(a){console.error(`Error in handler ${t.constructor.name}, handleAgentEnd: ${a}`)}},t.awaitHandlers)))}}class bp extends La{getChild(e){const t=new ot(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleToolError(e){await Promise.all(this.handlers.map(t=>Ae(async()=>{var n;if(!t.ignoreAgent)try{await((n=t.handleToolError)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(a){console.error(`Error in handler ${t.constructor.name}, handleToolError: ${a}`)}},t.awaitHandlers)))}async handleToolEnd(e){await Promise.all(this.handlers.map(t=>Ae(async()=>{var n;if(!t.ignoreAgent)try{await((n=t.handleToolEnd)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(a){console.error(`Error in handler ${t.constructor.name}, handleToolEnd: ${a}`)}},t.awaitHandlers)))}}class ot extends yp{constructor(e){super(),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"callback_manager"}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.handlers=[],this.inheritableHandlers=[],this._parentRunId=e}async handleLLMStart(e,t,n=void 0,a=void 0,s=void 0){return Promise.all(t.map(async i=>{const o=yt();return await Promise.all(this.handlers.map(u=>Ae(async()=>{var c;if(!u.ignoreLLM)try{await((c=u.handleLLMStart)==null?void 0:c.call(u,e,[i],o,this._parentRunId,s,this.tags,this.metadata))}catch(l){console.error(`Error in handler ${u.constructor.name}, handleLLMStart: ${l}`)}},u.awaitHandlers))),new zs(o,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(e,t,n=void 0,a=void 0,s=void 0){return Promise.all(t.map(async i=>{const o=yt();return await Promise.all(this.handlers.map(u=>Ae(async()=>{var c,l;if(!u.ignoreLLM)try{if(u.handleChatModelStart)await((c=u.handleChatModelStart)==null?void 0:c.call(u,e,[i],o,this._parentRunId,s,this.tags,this.metadata));else if(u.handleLLMStart){const d=ln(i);await((l=u.handleLLMStart)==null?void 0:l.call(u,e,[d],o,this._parentRunId,s,this.tags,this.metadata))}}catch(d){console.error(`Error in handler ${u.constructor.name}, handleLLMStart: ${d}`)}},u.awaitHandlers))),new zs(o,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(e,t,n=yt()){return await Promise.all(this.handlers.map(a=>Ae(async()=>{var s;if(!a.ignoreChain)try{await((s=a.handleChainStart)==null?void 0:s.call(a,e,t,n,this._parentRunId,this.tags,this.metadata))}catch(i){console.error(`Error in handler ${a.constructor.name}, handleChainStart: ${i}`)}},a.awaitHandlers))),new gp(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(e,t,n=yt()){return await Promise.all(this.handlers.map(a=>Ae(async()=>{var s;if(!a.ignoreAgent)try{await((s=a.handleToolStart)==null?void 0:s.call(a,e,t,n,this._parentRunId,this.tags,this.metadata))}catch(i){console.error(`Error in handler ${a.constructor.name}, handleToolStart: ${i}`)}},a.awaitHandlers))),new bp(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}addHandler(e,t=!0){this.handlers.push(e),t&&this.inheritableHandlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter(t=>t!==e),this.inheritableHandlers=this.inheritableHandlers.filter(t=>t!==e)}setHandlers(e,t=!0){this.handlers=[],this.inheritableHandlers=[];for(const n of e)this.addHandler(n,t)}addTags(e,t=!0){this.removeTags(e),this.tags.push(...e),t&&this.inheritableTags.push(...e)}removeTags(e){this.tags=this.tags.filter(t=>!e.includes(t)),this.inheritableTags=this.inheritableTags.filter(t=>!e.includes(t))}addMetadata(e,t=!0){this.metadata={...this.metadata,...e},t&&(this.inheritableMetadata={...this.inheritableMetadata,...e})}removeMetadata(e){for(const t of Object.keys(e))delete this.metadata[t],delete this.inheritableMetadata[t]}copy(e=[],t=!0){const n=new ot(this._parentRunId);for(const a of this.handlers){const s=this.inheritableHandlers.includes(a);n.addHandler(a,s)}for(const a of this.tags){const s=this.inheritableTags.includes(a);n.addTags([a],s)}for(const a of Object.keys(this.metadata)){const s=Object.keys(this.inheritableMetadata).includes(a);n.addMetadata({[a]:this.metadata[a]},s)}for(const a of e)n.handlers.filter(s=>s.name==="console_callback_handler").some(s=>s.name===a.name)||n.addHandler(a,t);return n}static fromHandlers(e){class t extends Or{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:yt()}),Object.assign(this,e)}}const n=new this;return n.addHandler(new t),n}static async configure(e,t,n,a,s,i,o){let u;(e||t)&&(Array.isArray(e)||!e?(u=new ot,u.setHandlers((e==null?void 0:e.map(qs))??[],!0)):u=e,u=u.copy(Array.isArray(t)?t.map(qs):t==null?void 0:t.handlers,!1));const c=ae("LANGCHAIN_VERBOSE")||(o==null?void 0:o.verbose),l=ae("LANGCHAIN_TRACING_V2")??!1,d=l||(ae("LANGCHAIN_TRACING")??!1);if(c||d){if(u||(u=new ot),c&&!u.handlers.some(p=>p.name===Us.prototype.name)){const p=new Us;u.addHandler(p,!0)}if(d&&!u.handlers.some(p=>p.name==="langchain_tracer"))if(l)u.addHandler(await pp(),!0);else{const p=ae("LANGCHAIN_PROJECT")&&ae("LANGCHAIN_SESSION");u.addHandler(await hp(p),!0)}}return(n||a)&&u&&(u.addTags(n??[]),u.addTags(a??[],!1)),(s||i)&&u&&(u.addMetadata(s??{}),u.addMetadata(i??{},!1)),u}}function qs(r){return"name"in r?r:Or.fromMethods(r)}class xo extends Oo{constructor({cache:e,concurrency:t,...n}){super(t?{maxConcurrency:t,...n}:n),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","llms",this._llmType()]}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),typeof e=="object"?this.cache=e:e?this.cache=Sa.global():this.cache=void 0}async generatePrompt(e,t,n){const a=e.map(s=>s.toString());return this.generate(a,t,n)}invocationParams(e){return{}}_flattenLLMResult(e){const t=[];for(let n=0;n<e.generations.length;n+=1){const a=e.generations[n];if(n===0)t.push({generations:[a],llmOutput:e.llmOutput});else{const s=e.llmOutput?{...e.llmOutput,tokenUsage:{}}:void 0;t.push({generations:[a],llmOutput:s})}}return t}async _generateUncached(e,t,n){const a=await ot.configure(n.callbacks,this.callbacks,n.tags,this.tags,n.metadata,this.metadata,{verbose:this.verbose}),s={options:t,invocation_params:this==null?void 0:this.invocationParams(t)},i=await(a==null?void 0:a.handleLLMStart(this.toJSON(),e,void 0,void 0,s));let o;try{o=await this._generate(e,t,i==null?void 0:i[0])}catch(l){throw await Promise.all((i??[]).map(d=>d==null?void 0:d.handleLLMError(l))),l}const u=this._flattenLLMResult(o);await Promise.all((i??[]).map((l,d)=>l==null?void 0:l.handleLLMEnd(u[d])));const c=(i==null?void 0:i.map(l=>l.runId))||void 0;return Object.defineProperty(o,ao,{value:c?{runIds:c}:void 0,configurable:!0}),o}async generate(e,t,n){if(!Array.isArray(e))throw new Error("Argument 'prompts' is expected to be a string[]");let a;Array.isArray(t)?a={stop:t}:t!=null&&t.timeout&&!t.signal?a={...t,signal:AbortSignal.timeout(t.timeout)}:a=t??{};const s={tags:a.tags,metadata:a.metadata,callbacks:a.callbacks??n};if(delete a.tags,delete a.metadata,delete a.callbacks,!this.cache)return this._generateUncached(e,a,s);const{cache:i}=this,o=this.serialize();o.stop=a.stop??o.stop;const u=`${Object.entries(o).sort()}`,c=[],l=await Promise.all(e.map(async(p,v)=>{const m=await i.lookup(p,u);return m||c.push(v),m}));let d={};if(c.length>0){const p=await this._generateUncached(c.map(v=>e[v]),a,s);await Promise.all(p.generations.map(async(v,m)=>{const w=c[m];return l[w]=v,i.update(e[w],u,v)})),d=p.llmOutput??{}}return{generations:l,llmOutput:d}}async call(e,t,n){const{generations:a}=await this.generate([e],t??{},n);return a[0][0].text}async predict(e,t,n){return this.call(e,t,n)}async predictMessages(e,t,n){const a=ln(e),s=await this.call(a,t,n);return new io(s)}_identifyingParams(){return{}}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}_modelType(){return"base_llm"}static async deserialize(e){const{_type:t,_model:n,...a}=e;if(n&&n!=="base_llm")throw new Error(`Cannot load LLM with model ${n}`);const s={openai:(await Oe(()=>Promise.resolve().then(()=>Op),void 0)).OpenAI}[t];if(s===void 0)throw new Error(`Cannot load  LLM with type ${t}`);return new s(a)}}class _p extends xo{async _generate(e,t,n){return{generations:await Promise.all(e.map((s,i)=>this._call(s,{...t,promptIndex:i},n).then(o=>[{text:o}])))}}}const To=async(r,e,t,n,a,s,i,o,u)=>(await r.call(fetch,"https://api.promptlayer.com/track-request",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({function_name:e,provider:"langchain",args:t,kwargs:n,tags:a,request_response:s,request_start_time:Math.floor(i/1e3),request_end_time:Math.floor(o/1e3),api_key:u})})).json();function So(r){const{azureOpenAIApiDeploymentName:e,azureOpenAIApiInstanceName:t,azureOpenAIApiKey:n,azureOpenAIBasePath:a,basePath:s}=r;if(n&&a&&e)return`${a}/${e}`;if(n){if(!t)throw new Error("azureOpenAIApiInstanceName is required when using azureOpenAIApiKey");if(!e)throw new Error("azureOpenAIApiDeploymentName is a required parameter when using azureOpenAIApiKey");return`https://${t}.openai.azure.com/openai/deployments/${e}`}return s}class Da extends _p{get callKeys(){return[...super.callKeys,"options","promptIndex"]}get lc_secrets(){return{openAIApiKey:"OPENAI_API_KEY",azureOpenAIApiKey:"AZURE_OPENAI_API_KEY"}}get lc_aliases(){return{modelName:"model",openAIApiKey:"openai_api_key",azureOpenAIApiVersion:"azure_openai_api_version",azureOpenAIApiKey:"azure_openai_api_key",azureOpenAIApiInstanceName:"azure_openai_api_instance_name",azureOpenAIApiDeploymentName:"azure_openai_api_deployment_name"}}constructor(e,t){if(super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"logitBias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo"}),Object.defineProperty(this,"prefixMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"openAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiInstanceName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiDeploymentName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIBasePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.openAIApiKey=(e==null?void 0:e.openAIApiKey)??ae("OPENAI_API_KEY"),this.azureOpenAIApiKey=(e==null?void 0:e.azureOpenAIApiKey)??ae("AZURE_OPENAI_API_KEY"),!this.azureOpenAIApiKey&&!this.openAIApiKey)throw new Error("OpenAI or Azure OpenAI API key not found");if(this.azureOpenAIApiInstanceName=(e==null?void 0:e.azureOpenAIApiInstanceName)??ae("AZURE_OPENAI_API_INSTANCE_NAME"),this.azureOpenAIApiDeploymentName=((e==null?void 0:e.azureOpenAIApiCompletionsDeploymentName)||(e==null?void 0:e.azureOpenAIApiDeploymentName))??(ae("AZURE_OPENAI_API_COMPLETIONS_DEPLOYMENT_NAME")||ae("AZURE_OPENAI_API_DEPLOYMENT_NAME")),this.azureOpenAIApiVersion=(e==null?void 0:e.azureOpenAIApiVersion)??ae("AZURE_OPENAI_API_VERSION"),this.azureOpenAIBasePath=(e==null?void 0:e.azureOpenAIBasePath)??ae("AZURE_OPENAI_BASE_PATH"),this.modelName=(e==null?void 0:e.modelName)??this.modelName,this.prefixMessages=(e==null?void 0:e.prefixMessages)??this.prefixMessages,this.modelKwargs=(e==null?void 0:e.modelKwargs)??{},this.timeout=e==null?void 0:e.timeout,this.temperature=(e==null?void 0:e.temperature)??this.temperature,this.topP=(e==null?void 0:e.topP)??this.topP,this.frequencyPenalty=(e==null?void 0:e.frequencyPenalty)??this.frequencyPenalty,this.presencePenalty=(e==null?void 0:e.presencePenalty)??this.presencePenalty,this.n=(e==null?void 0:e.n)??this.n,this.logitBias=e==null?void 0:e.logitBias,this.maxTokens=e==null?void 0:e.maxTokens,this.stop=e==null?void 0:e.stop,this.streaming=(e==null?void 0:e.streaming)??!1,this.n>1)throw new Error("Cannot use n > 1 in OpenAIChat LLM. Use ChatOpenAI Chat Model instead.");if(this.azureOpenAIApiKey){if(!this.azureOpenAIApiInstanceName)throw new Error("Azure OpenAI API instance name not found");if(!this.azureOpenAIApiDeploymentName)throw new Error("Azure OpenAI API deployment name not found");if(!this.azureOpenAIApiVersion)throw new Error("Azure OpenAI API version not found")}this.clientConfig={apiKey:this.openAIApiKey,...t,...e==null?void 0:e.configuration}}invocationParams(e){return{model:this.modelName,temperature:this.temperature,top_p:this.topP,frequency_penalty:this.frequencyPenalty,presence_penalty:this.presencePenalty,n:this.n,logit_bias:this.logitBias,max_tokens:this.maxTokens===-1?void 0:this.maxTokens,stop:(e==null?void 0:e.stop)??this.stop,stream:this.streaming,...this.modelKwargs}}_identifyingParams(){return{model_name:this.modelName,...this.invocationParams(),...this.clientConfig}}identifyingParams(){return{model_name:this.modelName,...this.invocationParams(),...this.clientConfig}}formatMessages(e){const t={role:"user",content:e};return this.prefixMessages?[...this.prefixMessages,t]:[t]}async _call(e,t,n){var i;const a=this.invocationParams(t);return((i=(a.stream?await new Promise((o,u)=>{let c,l=!1,d=!1;this.completionWithRetry({...a,messages:this.formatMessages(e)},{signal:t.signal,...t.options,adapter:$r,responseType:"stream",onmessage:p=>{var v,m,w,g,x,I;if(((m=(v=p.data)==null?void 0:v.trim)==null?void 0:m.call(v))==="[DONE]"){if(d||l)return;d=!0,o(c)}else{const T=JSON.parse(p.data);if(T!=null&&T.error){if(l)return;l=!0,u(T.error);return}const P=T;c||(c={id:P.id,object:P.object,created:P.created,model:P.model,choices:[]});for(const N of P.choices)if(N!=null){let A=c.choices.find(j=>j.index===N.index);A||(A={index:N.index,finish_reason:N.finish_reason??void 0},c.choices.push(A)),A.message||(A.message={role:(w=N.delta)==null?void 0:w.role,content:((g=N.delta)==null?void 0:g.content)??""}),A.message.content+=((x=N.delta)==null?void 0:x.content)??"",n==null||n.handleLLMNewToken(((I=N.delta)==null?void 0:I.content)??"",{prompt:t.promptIndex??0,completion:N.index})}!d&&!l&&P.choices.every(N=>N.finish_reason!=null)&&(d=!0,o(c))}}}).catch(p=>{l||(l=!0,u(p))})}):await this.completionWithRetry({...a,messages:this.formatMessages(e)},{signal:t.signal,...t.options})).choices[0].message)==null?void 0:i.content)??""}async completionWithRetry(e,t){if(!this.client){const a={azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,basePath:this.clientConfig.basePath},s=So(a),i=new _t.Configuration({...this.clientConfig,basePath:s,baseOptions:{timeout:this.timeout,...this.clientConfig.baseOptions}});this.client=new _t.OpenAIApi(i)}const n={adapter:Ta()?void 0:$r,...this.clientConfig.baseOptions,...t};return this.azureOpenAIApiKey&&(n.headers={"api-key":this.azureOpenAIApiKey,...n.headers},n.params={"api-version":this.azureOpenAIApiVersion,...n.params}),this.caller.call(this.client.createChatCompletion.bind(this.client),e,n).then(a=>a.data)}_llmType(){return"openai"}}class vp extends Da{get lc_secrets(){return{promptLayerApiKey:"PROMPTLAYER_API_KEY"}}constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"promptLayerApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"plTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnPromptLayerId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.plTags=(e==null?void 0:e.plTags)??[],this.returnPromptLayerId=(e==null?void 0:e.returnPromptLayerId)??!1,this.promptLayerApiKey=(e==null?void 0:e.promptLayerApiKey)??ae("PROMPTLAYER_API_KEY"),!this.promptLayerApiKey)throw new Error("Missing PromptLayer API key")}async completionWithRetry(e,t){return e.stream?super.completionWithRetry(e,t):await super.completionWithRetry(e)}async _generate(e,t,n){let a;return{generations:await Promise.all(e.map(async i=>{const o=Date.now(),u=await this._call(i,t,n),c=Date.now();a=[{text:u}];const l={text:u},d=await To(this.caller,"langchain.PromptLayerOpenAIChat",[i],this._identifyingParams(),this.plTags,l,o,c,this.promptLayerApiKey);return this.returnPromptLayerId===!0&&d.success===!0&&(a[0].generationInfo={promptLayerRequestId:d.request_id}),a}))}}}class Ma extends xo{get callKeys(){return[...super.callKeys,"options"]}get lc_secrets(){return{openAIApiKey:"OPENAI_API_KEY",azureOpenAIApiKey:"AZURE_OPENAI_API_KEY"}}get lc_aliases(){return{modelName:"model",openAIApiKey:"openai_api_key",azureOpenAIApiVersion:"azure_openai_api_version",azureOpenAIApiKey:"azure_openai_api_key",azureOpenAIApiInstanceName:"azure_openai_api_instance_name",azureOpenAIApiDeploymentName:"azure_openai_api_deployment_name"}}constructor(e,t){var n,a,s;if((n=e==null?void 0:e.modelName)!=null&&n.startsWith("gpt-3.5-turbo")||(a=e==null?void 0:e.modelName)!=null&&a.startsWith("gpt-4")||(s=e==null?void 0:e.modelName)!=null&&s.startsWith("gpt-4-32k"))return new Da(e,t);if(super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:.7}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:256}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"bestOf",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"logitBias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"text-davinci-003"}),Object.defineProperty(this,"modelKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchSize",{enumerable:!0,configurable:!0,writable:!0,value:20}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"openAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiInstanceName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiDeploymentName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIBasePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.openAIApiKey=(e==null?void 0:e.openAIApiKey)??ae("OPENAI_API_KEY"),this.azureOpenAIApiKey=(e==null?void 0:e.azureOpenAIApiKey)??ae("AZURE_OPENAI_API_KEY"),!this.azureOpenAIApiKey&&!this.openAIApiKey)throw new Error("OpenAI or Azure OpenAI API key not found");if(this.azureOpenAIApiInstanceName=(e==null?void 0:e.azureOpenAIApiInstanceName)??ae("AZURE_OPENAI_API_INSTANCE_NAME"),this.azureOpenAIApiDeploymentName=((e==null?void 0:e.azureOpenAIApiCompletionsDeploymentName)||(e==null?void 0:e.azureOpenAIApiDeploymentName))??(ae("AZURE_OPENAI_API_COMPLETIONS_DEPLOYMENT_NAME")||ae("AZURE_OPENAI_API_DEPLOYMENT_NAME")),this.azureOpenAIApiVersion=(e==null?void 0:e.azureOpenAIApiVersion)??ae("AZURE_OPENAI_API_VERSION"),this.azureOpenAIBasePath=(e==null?void 0:e.azureOpenAIBasePath)??ae("AZURE_OPENAI_BASE_PATH"),this.modelName=(e==null?void 0:e.modelName)??this.modelName,this.modelKwargs=(e==null?void 0:e.modelKwargs)??{},this.batchSize=(e==null?void 0:e.batchSize)??this.batchSize,this.timeout=e==null?void 0:e.timeout,this.temperature=(e==null?void 0:e.temperature)??this.temperature,this.maxTokens=(e==null?void 0:e.maxTokens)??this.maxTokens,this.topP=(e==null?void 0:e.topP)??this.topP,this.frequencyPenalty=(e==null?void 0:e.frequencyPenalty)??this.frequencyPenalty,this.presencePenalty=(e==null?void 0:e.presencePenalty)??this.presencePenalty,this.n=(e==null?void 0:e.n)??this.n,this.bestOf=(e==null?void 0:e.bestOf)??this.bestOf,this.logitBias=e==null?void 0:e.logitBias,this.stop=e==null?void 0:e.stop,this.streaming=(e==null?void 0:e.streaming)??!1,this.streaming&&this.bestOf&&this.bestOf>1)throw new Error("Cannot stream results when bestOf > 1");if(this.azureOpenAIApiKey){if(!this.azureOpenAIApiInstanceName)throw new Error("Azure OpenAI API instance name not found");if(!this.azureOpenAIApiDeploymentName)throw new Error("Azure OpenAI API deployment name not found");if(!this.azureOpenAIApiVersion)throw new Error("Azure OpenAI API version not found")}this.clientConfig={apiKey:this.openAIApiKey,...t,...e==null?void 0:e.configuration}}invocationParams(e){return{model:this.modelName,temperature:this.temperature,max_tokens:this.maxTokens,top_p:this.topP,frequency_penalty:this.frequencyPenalty,presence_penalty:this.presencePenalty,n:this.n,best_of:this.bestOf,logit_bias:this.logitBias,stop:(e==null?void 0:e.stop)??this.stop,stream:this.streaming,...this.modelKwargs}}_identifyingParams(){return{model_name:this.modelName,...this.invocationParams(),...this.clientConfig}}identifyingParams(){return this._identifyingParams()}async _generate(e,t,n){const a=Ns(e,this.batchSize),s=[],i={},o=this.invocationParams(t);if(o.max_tokens===-1){if(e.length!==1)throw new Error("max_tokens set to -1 not supported for multiple inputs");o.max_tokens=await qh({prompt:e[0],modelName:this.modelName})}for(let c=0;c<a.length;c+=1){const l=o.stream?await new Promise((m,w)=>{const g=[];let x,I=!1,T=!1;this.completionWithRetry({...o,prompt:a[c]},{signal:t.signal,...t.options,adapter:$r,responseType:"stream",onmessage:P=>{var N,A;if(((A=(N=P.data)==null?void 0:N.trim)==null?void 0:A.call(N))==="[DONE]"){if(T||I)return;T=!0,m({...x,choices:g})}else{const j=JSON.parse(P.data);if(j!=null&&j.error){if(I)return;I=!0,w(j.error);return}const y=j;x||(x={id:y.id,object:y.object,created:y.created,model:y.model});for(const _ of y.choices)if(_!=null&&_.index!=null){g[_.index]||(g[_.index]={});const f=g[_.index];f.text=(f.text??"")+(_.text??""),f.finish_reason=_.finish_reason,f.logprobs=_.logprobs,n==null||n.handleLLMNewToken(_.text??"",{prompt:Math.floor(_.index/this.n),completion:_.index%this.n})}!T&&!I&&g.every(_=>_.finish_reason!=null)&&(T=!0,m({...x,choices:g}))}}}).catch(P=>{I||(I=!0,w(P))})}):await this.completionWithRetry({...o,prompt:a[c]},{signal:t.signal,...t.options});s.push(...l.choices);const{completion_tokens:d,prompt_tokens:p,total_tokens:v}=l.usage??{};d&&(i.completionTokens=(i.completionTokens??0)+d),p&&(i.promptTokens=(i.promptTokens??0)+p),v&&(i.totalTokens=(i.totalTokens??0)+v)}return{generations:Ns(s,this.n).map(c=>c.map(l=>({text:l.text??"",generationInfo:{finishReason:l.finish_reason,logprobs:l.logprobs}}))),llmOutput:{tokenUsage:i}}}async completionWithRetry(e,t){if(!this.client){const a={azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,basePath:this.clientConfig.basePath},s=So(a),i=new _t.Configuration({...this.clientConfig,basePath:s,baseOptions:{timeout:this.timeout,...this.clientConfig.baseOptions}});this.client=new _t.OpenAIApi(i)}const n={adapter:Ta()?void 0:$r,...this.clientConfig.baseOptions,...t};return this.azureOpenAIApiKey&&(n.headers={"api-key":this.azureOpenAIApiKey,...n.headers},n.params={"api-version":this.azureOpenAIApiVersion,...n.params}),this.caller.call(this.client.createCompletion.bind(this.client),e,n).then(a=>a.data)}_llmType(){return"openai"}}class wp extends Ma{get lc_secrets(){return{promptLayerApiKey:"PROMPTLAYER_API_KEY"}}constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"promptLayerApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"plTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnPromptLayerId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.plTags=(e==null?void 0:e.plTags)??[],this.promptLayerApiKey=(e==null?void 0:e.promptLayerApiKey)??ae("PROMPTLAYER_API_KEY"),this.returnPromptLayerId=e==null?void 0:e.returnPromptLayerId,!this.promptLayerApiKey)throw new Error("Missing PromptLayer API key")}async completionWithRetry(e,t){return e.stream?super.completionWithRetry(e,t):await super.completionWithRetry(e)}async _generate(e,t,n){const a=Date.now(),s=await super._generate(e,t,n);for(let i=0;i<s.generations.length;i+=1){const o=Date.now(),u={text:s.generations[i][0].text,llm_output:s.llmOutput},c=await To(this.caller,"langchain.PromptLayerOpenAI",[e[i]],this._identifyingParams(),this.plTags,u,a,o,this.promptLayerApiKey);let l;this.returnPromptLayerId===!0&&(c&&c.success===!0&&(l=c.request_id),s.generations[i][0].generationInfo={...s.generations[i][0].generationInfo,promptLayerRequestId:l})}return s}}const Op=Object.freeze(Object.defineProperty({__proto__:null,OpenAI:Ma,OpenAIChat:Da,PromptLayerOpenAI:wp,PromptLayerOpenAIChat:vp},Symbol.toStringTag,{value:"Module"}));class Ap extends nh{constructor(e){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","prompts","base"]}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.value=e}toString(){return this.value}toChatMessages(){return[new so(this.value)]}}class jo extends ze{get lc_attributes(){return{partialVariables:void 0}}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","prompts",this._getPromptType()]}),Object.defineProperty(this,"inputVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"partialVariables",{enumerable:!0,configurable:!0,writable:!0,value:{}});const{inputVariables:t}=e;if(t.includes("stop"))throw new Error("Cannot have an input variable named 'stop', as it is used internally, please rename.");Object.assign(this,e)}async mergePartialAndUserVariables(e){const t=this.partialVariables??{},n={};for(const[s,i]of Object.entries(t))typeof i=="string"?n[s]=i:n[s]=await i();return{...n,...e}}serialize(){throw new Error("Use .toJSON() instead")}static async deserialize(e){switch(e._type){case"prompt":{const{PromptTemplate:t}=await Oe(()=>Promise.resolve().then(()=>Zs),void 0);return t.deserialize(e)}case void 0:{const{PromptTemplate:t}=await Oe(()=>Promise.resolve().then(()=>Zs),void 0);return t.deserialize({...e,_type:"prompt"})}case"few_shot":{const{FewShotPromptTemplate:t}=await Oe(()=>import("./chunks/few_shot.68f8b83a.js"),["assets/chunks/few_shot.68f8b83a.js","assets/chatbot.md.6631503b.js","assets/chunks/framework.65f1bd78.js"]);return t.deserialize(e)}default:throw new Error(`Invalid prompt type in config: ${e._type}`)}}}class Ep extends jo{async formatPromptValue(e){const t=await this.format(e);return new Ap(t)}}const Io=r=>{const e=r.split(""),t=[],n=(s,i)=>{for(let o=i;o<e.length;o+=1)if(s.includes(e[o]))return o;return-1};let a=0;for(;a<e.length;)if(e[a]==="{"&&a+1<e.length&&e[a+1]==="{")t.push({type:"literal",text:"{"}),a+=2;else if(e[a]==="}"&&a+1<e.length&&e[a+1]==="}")t.push({type:"literal",text:"}"}),a+=2;else if(e[a]==="{"){const s=n("}",a);if(s<0)throw new Error("Unclosed '{' in template.");t.push({type:"variable",name:e.slice(a+1,s).join("")}),a=s+1}else{if(e[a]==="}")throw new Error("Single '}' in template.");{const s=n("{}",a),i=(s<0?e.slice(a):e.slice(a,s)).join("");t.push({type:"literal",text:i}),a=s<0?e.length:s}}return t},Pp=(r,e)=>Io(r).reduce((t,n)=>{if(n.type==="variable"){if(n.name in e)return t+e[n.name];throw new Error(`Missing value for input ${n.name}`)}return t+n.text},""),da={"f-string":Pp,jinja2:(r,e)=>""},xp={"f-string":Io,jinja2:r=>[]},ko=(r,e,t)=>da[e](r,t),Tp=(r,e)=>xp[e](r),Sp=(r,e,t)=>{if(!(e in da)){const n=Object.keys(da);throw new Error(`Invalid template format. Got \`${e}\`;
                         should be one of ${n}`)}try{const n=t.reduce((a,s)=>(a[s]="foo",a),{});ko(r,e,n)}catch(n){throw new Error(`Invalid prompt schema: ${n.message}`)}};class it extends Ep{constructor(e){if(super(e),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.assign(this,e),this.validateTemplate){let t=this.inputVariables;this.partialVariables&&(t=t.concat(Object.keys(this.partialVariables))),Sp(this.template,this.templateFormat,t)}}_getPromptType(){return"prompt"}async format(e){const t=await this.mergePartialAndUserVariables(e);return ko(this.template,this.templateFormat,t)}static fromExamples(e,t,n,a=`

`,s=""){const i=[s,...e,t].join(a);return new it({inputVariables:n,template:i})}static fromTemplate(e,{templateFormat:t="f-string",...n}={}){const a=new Set;return Tp(e,t).forEach(s=>{s.type==="variable"&&a.add(s.name)}),new it({inputVariables:[...a],templateFormat:t,template:e,...n})}async partial(e){const t={...this};return t.inputVariables=this.inputVariables.filter(n=>!(n in e)),t.partialVariables={...this.partialVariables??{},...e},new it(t)}serialize(){if(this.outputParser!==void 0)throw new Error("Cannot serialize a prompt template with an output parser");return{_type:this._getPromptType(),input_variables:this.inputVariables,template:this.template,template_format:this.templateFormat}}static async deserialize(e){if(!e.template)throw new Error("Prompt template must have a template");return new it({inputVariables:e.input_variables,template:e.template,templateFormat:e.template_format})}}const Zs=Object.freeze(Object.defineProperty({__proto__:null,PromptTemplate:it},Symbol.toStringTag,{value:"Module"}));class Ro{constructor(e){Object.defineProperty(this,"pageContent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.pageContent=e.pageContent?e.pageContent.toString():this.pageContent,this.metadata=e.metadata??{}}}class jp extends wo{get lc_namespace(){return["langchain","chains",this._chainType()]}constructor(e,t,n){if(arguments.length===1&&typeof e=="object"&&!("saveContext"in e)){const{memory:a,callbackManager:s,...i}=e;super({...i,callbacks:s??i.callbacks}),this.memory=a}else super({verbose:t,callbacks:n}),this.memory=e}_selectMemoryInputs(e){const t={...e};return"signal"in t&&delete t.signal,"timeout"in t&&delete t.timeout,t}serialize(){throw new Error("Method not implemented.")}async run(e,t){const n=this.inputKeys.filter(u=>{var c;return!((c=this.memory)!=null&&c.memoryKeys.includes(u))});if(!(n.length<=1))throw new Error(`Chain ${this._chainType()} expects multiple inputs, cannot use 'run' `);const s=n.length?{[n[0]]:e}:{},i=await this.call(s,t),o=Object.keys(i);if(o.length===1)return i[o[0]];throw new Error("return values have multiple keys, `run` only supported when one key currently")}async call(e,t,n){const a={...e};if(a.timeout&&!a.signal&&(a.signal=AbortSignal.timeout(a.timeout),delete a.timeout),this.memory!=null){const c=await this.memory.loadMemoryVariables(this._selectMemoryInputs(e));for(const[l,d]of Object.entries(c))a[l]=d}const s=mp(t),i=await ot.configure(s.callbacks,this.callbacks,s.tags||n,this.tags,s.metadata,this.metadata,{verbose:this.verbose}),o=await(i==null?void 0:i.handleChainStart(this.toJSON(),a));let u;try{u=await(e.signal?Promise.race([this._call(a,o),new Promise((c,l)=>{var d;(d=e.signal)==null||d.addEventListener("abort",()=>{l(new Error("AbortError"))})})]):this._call(a,o))}catch(c){throw await(o==null?void 0:o.handleChainError(c)),c}return this.memory!=null&&await this.memory.saveContext(this._selectMemoryInputs(e),u),await(o==null?void 0:o.handleChainEnd(u)),Object.defineProperty(u,ao,{value:o?{runId:o==null?void 0:o.runId}:void 0,configurable:!0}),u}async apply(e,t){return Promise.all(e.map(async(n,a)=>this.call(n,t==null?void 0:t[a])))}static async deserialize(e,t={}){switch(e._type){case"llm_chain":{const{LLMChain:n}=await Oe(()=>Promise.resolve().then(()=>Cp),void 0);return n.deserialize(e)}case"sequential_chain":{const{SequentialChain:n}=await Oe(()=>import("./chunks/sequential_chain.479a15ef.js"),["assets/chunks/sequential_chain.479a15ef.js","assets/chatbot.md.6631503b.js","assets/chunks/framework.65f1bd78.js"]);return n.deserialize(e)}case"simple_sequential_chain":{const{SimpleSequentialChain:n}=await Oe(()=>import("./chunks/sequential_chain.479a15ef.js"),["assets/chunks/sequential_chain.479a15ef.js","assets/chatbot.md.6631503b.js","assets/chunks/framework.65f1bd78.js"]);return n.deserialize(e)}case"stuff_documents_chain":{const{StuffDocumentsChain:n}=await Oe(()=>import("./chunks/combine_docs_chain.606b2284.js"),["assets/chunks/combine_docs_chain.606b2284.js","assets/chatbot.md.6631503b.js","assets/chunks/framework.65f1bd78.js"]);return n.deserialize(e)}case"map_reduce_documents_chain":{const{MapReduceDocumentsChain:n}=await Oe(()=>import("./chunks/combine_docs_chain.606b2284.js"),["assets/chunks/combine_docs_chain.606b2284.js","assets/chatbot.md.6631503b.js","assets/chunks/framework.65f1bd78.js"]);return n.deserialize(e)}case"refine_documents_chain":{const{RefineDocumentsChain:n}=await Oe(()=>import("./chunks/combine_docs_chain.606b2284.js"),["assets/chunks/combine_docs_chain.606b2284.js","assets/chatbot.md.6631503b.js","assets/chunks/framework.65f1bd78.js"]);return n.deserialize(e)}case"vector_db_qa":{const{VectorDBQAChain:n}=await Oe(()=>import("./chunks/vector_db_qa.a4290344.js"),["assets/chunks/vector_db_qa.a4290344.js","assets/chatbot.md.6631503b.js","assets/chunks/framework.65f1bd78.js","assets/chunks/combine_docs_chain.606b2284.js"]);return n.deserialize(e,t)}case"api_chain":{const{APIChain:n}=await Oe(()=>import("./chunks/api_chain.a8e6c53f.js"),["assets/chunks/api_chain.a8e6c53f.js","assets/chatbot.md.6631503b.js","assets/chunks/framework.65f1bd78.js"]);return n.deserialize(e)}default:throw new Error(`Invalid prompt type in config: ${e._type}`)}}}class Ip extends ze{parseResultWithPrompt(e,t,n){return this.parseResult(e,n)}}class kp extends Ip{parseResult(e,t){return this.parse(e[0].text,t)}async parseWithPrompt(e,t,n){return this.parse(e,n)}_type(){throw new Error("_type not implemented")}}class Rp extends kp{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","default"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}parse(e){return Promise.resolve(e)}getFormatInstructions(){return""}}class dn extends jp{get inputKeys(){return this.prompt.inputVariables}get outputKeys(){return[this.outputKey]}constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"prompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"llm",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"llmKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputKey",{enumerable:!0,configurable:!0,writable:!0,value:"text"}),Object.defineProperty(this,"outputParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.prompt=e.prompt,this.llm=e.llm,this.llmKwargs=e.llmKwargs,this.outputKey=e.outputKey??this.outputKey,this.outputParser=e.outputParser??new Rp,this.prompt.outputParser){if(e.outputParser)throw new Error("Cannot set both outputParser and prompt.outputParser");this.outputParser=this.prompt.outputParser}}_selectMemoryInputs(e){const t=super._selectMemoryInputs(e);for(const n of this.llm.callKeys)n in e&&delete t[n];return t}async _getFinalOutput(e,t,n){let a;return this.outputParser?a=await this.outputParser.parseResultWithPrompt(e,t,n==null?void 0:n.getChild()):a=e[0].text,a}call(e,t){return super.call(e,t)}async _call(e,t){const n={...e},a={...this.llmKwargs};for(const o of this.llm.callKeys)o in e&&(a[o]=e[o],delete n[o]);const s=await this.prompt.formatPromptValue(n),{generations:i}=await this.llm.generatePrompt([s],a,t==null?void 0:t.getChild());return{[this.outputKey]:await this._getFinalOutput(i[0],s,t)}}async predict(e,t){return(await this.call(e,t))[this.outputKey]}_chainType(){return"llm"}static async deserialize(e){const{llm:t,prompt:n}=e;if(!t)throw new Error("LLMChain must have llm");if(!n)throw new Error("LLMChain must have prompt");return new dn({llm:await Oo.deserialize(t),prompt:await jo.deserialize(n)})}serialize(){return{_type:`${this._chainType()}_chain`,llm:this.llm.serialize(),prompt:this.prompt.serialize()}}}const Cp=Object.freeze(Object.defineProperty({__proto__:null,LLMChain:dn},Symbol.toStringTag,{value:"Module"}));class Np extends ah{constructor(e){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","stores","message","in_memory"]}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.messages=e??[]}async getMessages(){return this.messages}async addMessage(e){this.messages.push(e)}async clear(){this.messages=[]}}class Lp extends up{constructor(e){super(),Object.defineProperty(this,"chatHistory",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnMessages",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.chatHistory=(e==null?void 0:e.chatHistory)??new Np,this.returnMessages=(e==null?void 0:e.returnMessages)??this.returnMessages,this.inputKey=(e==null?void 0:e.inputKey)??this.inputKey,this.outputKey=(e==null?void 0:e.outputKey)??this.outputKey}async saveContext(e,t){await this.chatHistory.addUserMessage(cp(e,this.inputKey)),await this.chatHistory.addAIChatMessage(lp(t,this.outputKey))}async clear(){await this.chatHistory.clear()}}class Co extends Lp{constructor(e){super({chatHistory:e==null?void 0:e.chatHistory,returnMessages:(e==null?void 0:e.returnMessages)??!1,inputKey:e==null?void 0:e.inputKey,outputKey:e==null?void 0:e.outputKey}),Object.defineProperty(this,"humanPrefix",{enumerable:!0,configurable:!0,writable:!0,value:"Human"}),Object.defineProperty(this,"aiPrefix",{enumerable:!0,configurable:!0,writable:!0,value:"AI"}),Object.defineProperty(this,"memoryKey",{enumerable:!0,configurable:!0,writable:!0,value:"history"}),this.humanPrefix=(e==null?void 0:e.humanPrefix)??this.humanPrefix,this.aiPrefix=(e==null?void 0:e.aiPrefix)??this.aiPrefix,this.memoryKey=(e==null?void 0:e.memoryKey)??this.memoryKey}get memoryKeys(){return[this.memoryKey]}async loadMemoryVariables(e){const t=await this.chatHistory.getMessages();return this.returnMessages?{[this.memoryKey]:t}:{[this.memoryKey]:ln(t,this.humanPrefix,this.aiPrefix)}}}const Dp=`The following is a friendly conversation between a human and an AI. The AI is talkative and provides lots of specific details from its context. If the AI does not know the answer to a question, it truthfully says it does not know.

Current conversation:
{history}
Human: {input}
AI:`;class Mp extends dn{constructor({prompt:e,outputKey:t,memory:n,...a}){super({prompt:e??new it({template:Dp,inputVariables:["history","input"]}),outputKey:t??"response",memory:n??new Co,...a})}}class Fp{constructor(e){if(Object.defineProperty(this,"chunkSize",{enumerable:!0,configurable:!0,writable:!0,value:1e3}),Object.defineProperty(this,"chunkOverlap",{enumerable:!0,configurable:!0,writable:!0,value:200}),Object.defineProperty(this,"keepSeparator",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.chunkSize=(e==null?void 0:e.chunkSize)??this.chunkSize,this.chunkOverlap=(e==null?void 0:e.chunkOverlap)??this.chunkOverlap,this.keepSeparator=(e==null?void 0:e.keepSeparator)??this.keepSeparator,this.chunkOverlap>=this.chunkSize)throw new Error("Cannot have chunkOverlap >= chunkSize")}splitOnSeparator(e,t){let n;if(t)if(this.keepSeparator){const a=t.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&");n=e.split(new RegExp(`(?=${a})`))}else n=e.split(t);else n=e.split("");return n.filter(a=>a!=="")}async createDocuments(e,t=[],n={}){const a=t.length>0?t:new Array(e.length).fill({}),{chunkHeader:s="",chunkOverlapHeader:i="(cont'd) ",appendChunkOverlapHeader:o=!1}=n,u=new Array;for(let c=0;c<e.length;c+=1){const l=e[c];let d=1,p=null;for(const v of await this.splitText(l)){let m=s,w=0;if(p){const T=l.indexOf(v),P=l.indexOf(p)+p.length;w=(l.slice(P,T).match(/\n/g)||[]).length,o&&(m+=i)}d+=w;const g=(v.match(/\n/g)||[]).length,x=a[c].loc&&typeof a[c].loc=="object"?{...a[c].loc}:{};x.lines={from:d,to:d+g};const I={...a[c],loc:x};m+=v,u.push(new Ro({pageContent:m,metadata:I})),d+=g,p=v}}return u}async splitDocuments(e,t={}){const n=e.filter(i=>i.pageContent!==void 0),a=n.map(i=>i.pageContent),s=n.map(i=>i.metadata);return this.createDocuments(a,s,t)}joinDocs(e,t){const n=e.join(t).trim();return n===""?null:n}mergeSplits(e,t){const n=[],a=[];let s=0;for(const o of e){const u=o.length;if(s+u+(a.length>0?t.length:0)>this.chunkSize&&(s>this.chunkSize&&console.warn(`Created a chunk of size ${s}, +
which is longer than the specified ${this.chunkSize}`),a.length>0)){const c=this.joinDocs(a,t);for(c!==null&&n.push(c);s>this.chunkOverlap||s+u>this.chunkSize&&s>0;)s-=a[0].length,a.shift()}a.push(o),s+=u}const i=this.joinDocs(a,t);return i!==null&&n.push(i),n}}class Ur extends Fp{constructor(e){super(e),Object.defineProperty(this,"separators",{enumerable:!0,configurable:!0,writable:!0,value:[`

`,`
`," ",""]}),this.separators=(e==null?void 0:e.separators)??this.separators,this.keepSeparator=(e==null?void 0:e.keepSeparator)??!0}async _splitText(e,t){const n=[];let a=t[t.length-1],s;for(let c=0;c<t.length;c+=1){const l=t[c];if(l===""){a=l;break}if(e.includes(l)){a=l,s=t.slice(c+1);break}}const i=this.splitOnSeparator(e,a);let o=[];const u=this.keepSeparator?"":a;for(const c of i)if(c.length<this.chunkSize)o.push(c);else{if(o.length){const l=this.mergeSplits(o,u);n.push(...l),o=[]}if(!s)n.push(c);else{const l=await this._splitText(c,s);n.push(...l)}}if(o.length){const c=this.mergeSplits(o,u);n.push(...c)}return n}async splitText(e){return this._splitText(e,this.separators)}static fromLanguage(e,t){return new Ur({...t,separators:Ur.getSeparatorsForLanguage(e)})}static getSeparatorsForLanguage(e){if(e==="cpp")return[`
class `,`
void `,`
int `,`
float `,`
double `,`
if `,`
for `,`
while `,`
switch `,`
case `,`

`,`
`," ",""];if(e==="go")return[`
func `,`
var `,`
const `,`
type `,`
if `,`
for `,`
switch `,`
case `,`

`,`
`," ",""];if(e==="java")return[`
class `,`
public `,`
protected `,`
private `,`
static `,`
if `,`
for `,`
while `,`
switch `,`
case `,`

`,`
`," ",""];if(e==="js")return[`
function `,`
const `,`
let `,`
var `,`
class `,`
if `,`
for `,`
while `,`
switch `,`
case `,`
default `,`

`,`
`," ",""];if(e==="php")return[`
function `,`
class `,`
if `,`
foreach `,`
while `,`
do `,`
switch `,`
case `,`

`,`
`," ",""];if(e==="proto")return[`
message `,`
service `,`
enum `,`
option `,`
import `,`
syntax `,`

`,`
`," ",""];if(e==="python")return[`
class `,`
def `,`
	def `,`

`,`
`," ",""];if(e==="rst")return[`
===
`,`
---
`,`
***
`,`
.. `,`

`,`
`," ",""];if(e==="ruby")return[`
def `,`
class `,`
if `,`
unless `,`
while `,`
for `,`
do `,`
begin `,`
rescue `,`

`,`
`," ",""];if(e==="rust")return[`
fn `,`
const `,`
let `,`
if `,`
while `,`
for `,`
loop `,`
match `,`
const `,`

`,`
`," ",""];if(e==="scala")return[`
class `,`
object `,`
def `,`
val `,`
var `,`
if `,`
for `,`
while `,`
match `,`
case `,`

`,`
`," ",""];if(e==="swift")return[`
func `,`
class `,`
struct `,`
enum `,`
if `,`
for `,`
while `,`
do `,`
switch `,`
case `,`

`,`
`," ",""];if(e==="markdown")return[`
## `,`
### `,`
#### `,`
##### `,`
###### `,"```\n\n",`

***

`,`

---

`,`

___

`,`

`,`
`," ",""];if(e==="latex")return[`
\\chapter{`,`
\\section{`,`
\\subsection{`,`
\\subsubsection{`,`
\\begin{enumerate}`,`
\\begin{itemize}`,`
\\begin{description}`,`
\\begin{list}`,`
\\begin{quote}`,`
\\begin{quotation}`,`
\\begin{verse}`,`
\\begin{verbatim}`,`
\\begin{align}`,"$$","$",`

`,`
`," ",""];if(e==="html")return["<body>","<div>","<p>","<br>","<li>","<h1>","<h2>","<h3>","<h4>","<h5>","<h6>","<span>","<table>","<tr>","<td>","<th>","<ul>","<ol>","<header>","<footer>","<nav>","<head>","<style>","<script>","<meta>","<title>"," ",""];if(e==="sol")return[`
pragma `,`
using `,`
contract `,`
interface `,`
library `,`
constructor `,`
type `,`
function `,`
event `,`
modifier `,`
error `,`
struct `,`
enum `,`
if `,`
for `,`
while `,`
do while `,`
assembly `,`

`,`
`," ",""];throw new Error(`Language ${e} is not supported.`)}}var re;(function(r){r.assertEqual=a=>a;function e(a){}r.assertIs=e;function t(a){throw new Error}r.assertNever=t,r.arrayToEnum=a=>{const s={};for(const i of a)s[i]=i;return s},r.getValidEnumValues=a=>{const s=r.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),i={};for(const o of s)i[o]=a[o];return r.objectValues(i)},r.objectValues=a=>r.objectKeys(a).map(function(s){return a[s]}),r.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&s.push(i);return s},r.find=(a,s)=>{for(const i of a)if(s(i))return i},r.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,s=" | "){return a.map(i=>typeof i=="string"?`'${i}'`:i).join(s)}r.joinValues=n,r.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(re||(re={}));var Vr;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(Vr||(Vr={}));const $=re.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ye=r=>{switch(typeof r){case"undefined":return $.undefined;case"string":return $.string;case"number":return isNaN(r)?$.nan:$.number;case"boolean":return $.boolean;case"function":return $.function;case"bigint":return $.bigint;case"symbol":return $.symbol;case"object":return Array.isArray(r)?$.array:r===null?$.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?$.promise:typeof Map<"u"&&r instanceof Map?$.map:typeof Set<"u"&&r instanceof Set?$.set:typeof Date<"u"&&r instanceof Date?$.date:$.object;default:return $.unknown}},L=re.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),No=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:");class Re extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(s){return s.message},n={_errors:[]},a=s=>{for(const i of s.issues)if(i.code==="invalid_union")i.unionErrors.map(a);else if(i.code==="invalid_return_type")a(i.returnTypeError);else if(i.code==="invalid_arguments")a(i.argumentsError);else if(i.path.length===0)n._errors.push(t(i));else{let o=n,u=0;for(;u<i.path.length;){const c=i.path[u];u===i.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(t(i))):o[c]=o[c]||{_errors:[]},o=o[c],u++}}};return a(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,re.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},n=[];for(const a of this.issues)a.path.length>0?(t[a.path[0]]=t[a.path[0]]||[],t[a.path[0]].push(e(a))):n.push(e(a));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}Re.create=r=>new Re(r);const Rt=(r,e)=>{let t;switch(r.code){case L.invalid_type:r.received===$.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case L.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,re.jsonStringifyReplacer)}`;break;case L.unrecognized_keys:t=`Unrecognized key(s) in object: ${re.joinValues(r.keys,", ")}`;break;case L.invalid_union:t="Invalid input";break;case L.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${re.joinValues(r.options)}`;break;case L.invalid_enum_value:t=`Invalid enum value. Expected ${re.joinValues(r.options)}, received '${r.received}'`;break;case L.invalid_arguments:t="Invalid function arguments";break;case L.invalid_return_type:t="Invalid function return type";break;case L.invalid_date:t="Invalid date";break;case L.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:re.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case L.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case L.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case L.custom:t="Invalid input";break;case L.invalid_intersection_types:t="Intersection results could not be merged";break;case L.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case L.not_finite:t="Number must be finite";break;default:t=e.defaultError,re.assertNever(r)}return{message:t}};let Lo=Rt;function Do(r){Lo=r}function ur(){return Lo}const cr=r=>{const{data:e,path:t,errorMaps:n,issueData:a}=r,s=[...t,...a.path||[]],i={...a,path:s};let o="";const u=n.filter(c=>!!c).slice().reverse();for(const c of u)o=c(i,{data:e,defaultError:o}).message;return{...a,path:s,message:a.message||o}},Mo=[];function U(r,e){const t=cr({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ur(),Rt].filter(n=>!!n)});r.common.issues.push(t)}class me{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const a of t){if(a.status==="aborted")return J;a.status==="dirty"&&e.dirty(),n.push(a.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const a of t)n.push({key:await a.key,value:await a.value});return me.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const a of t){const{key:s,value:i}=a;if(s.status==="aborted"||i.status==="aborted")return J;s.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),(typeof i.value<"u"||a.alwaysSet)&&(n[s.value]=i.value)}return{status:e.value,value:n}}}const J=Object.freeze({status:"aborted"}),Fa=r=>({status:"dirty",value:r}),be=r=>({status:"valid",value:r}),zr=r=>r.status==="aborted",qr=r=>r.status==="dirty",lr=r=>r.status==="valid",dr=r=>typeof Promise<"u"&&r instanceof Promise;var q;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(q||(q={}));class qe{constructor(e,t,n,a){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Ks=(r,e)=>{if(lr(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Re(r.common.issues);return this._error=t,this._error}}};function X(r){if(!r)return{};const{errorMap:e,invalid_type_error:t,required_error:n,description:a}=r;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(i,o)=>i.code!=="invalid_type"?{message:o.defaultError}:typeof o.data>"u"?{message:n??o.defaultError}:{message:t??o.defaultError},description:a}}class G{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Ye(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Ye(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new me,ctx:{common:e.parent.common,data:e.data,parsedType:Ye(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(dr(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const a={common:{issues:[],async:(n=t==null?void 0:t.async)!==null&&n!==void 0?n:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ye(e)},s=this._parseSync({data:e,path:a.path,parent:a});return Ks(a,s)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ye(e)},a=this._parse({data:e,path:n.path,parent:n}),s=await(dr(a)?a:Promise.resolve(a));return Ks(n,s)}refine(e,t){const n=a=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(a):t;return this._refinement((a,s)=>{const i=e(a),o=()=>s.addIssue({code:L.custom,...n(a)});return typeof Promise<"u"&&i instanceof Promise?i.then(u=>u?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(e,t){return this._refinement((n,a)=>e(n)?!0:(a.addIssue(typeof t=="function"?t(n,a):t),!1))}_refinement(e){return new Te({schema:this,typeName:H.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Ve.create(this,this._def)}nullable(){return dt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ce.create(this,this._def)}promise(){return wt.create(this,this._def)}or(e){return Dt.create([this,e],this._def)}and(e){return Mt.create(this,e,this._def)}transform(e){return new Te({...X(this._def),schema:this,typeName:H.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Vt({...X(this._def),innerType:this,defaultValue:t,typeName:H.ZodDefault})}brand(){return new Ba({typeName:H.ZodBranded,type:this,...X(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new mr({...X(this._def),innerType:this,catchValue:t,typeName:H.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return qt.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Bp=/^c[^\s-]{8,}$/i,$p=/^[a-z][a-z0-9]*$/,Up=/[0-9A-HJKMNP-TV-Z]{26}/,Vp=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,zp=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,qp=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,Zp=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Kp=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Hp=r=>r.precision?r.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}Z$`):r.precision===0?r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Yp(r,e){return!!((e==="v4"||!e)&&Zp.test(r)||(e==="v6"||!e)&&Kp.test(r))}class Ie extends G{constructor(){super(...arguments),this._regex=(e,t,n)=>this.refinement(a=>e.test(a),{validation:t,code:L.invalid_string,...q.errToObj(n)}),this.nonempty=e=>this.min(1,q.errToObj(e)),this.trim=()=>new Ie({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new Ie({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new Ie({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==$.string){const s=this._getOrReturnCtx(e);return U(s,{code:L.invalid_type,expected:$.string,received:s.parsedType}),J}const n=new me;let a;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(a=this._getOrReturnCtx(e,a),U(a,{code:L.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(a=this._getOrReturnCtx(e,a),U(a,{code:L.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const i=e.data.length>s.value,o=e.data.length<s.value;(i||o)&&(a=this._getOrReturnCtx(e,a),i?U(a,{code:L.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&U(a,{code:L.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")zp.test(e.data)||(a=this._getOrReturnCtx(e,a),U(a,{validation:"email",code:L.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")qp.test(e.data)||(a=this._getOrReturnCtx(e,a),U(a,{validation:"emoji",code:L.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")Vp.test(e.data)||(a=this._getOrReturnCtx(e,a),U(a,{validation:"uuid",code:L.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")Bp.test(e.data)||(a=this._getOrReturnCtx(e,a),U(a,{validation:"cuid",code:L.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")$p.test(e.data)||(a=this._getOrReturnCtx(e,a),U(a,{validation:"cuid2",code:L.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")Up.test(e.data)||(a=this._getOrReturnCtx(e,a),U(a,{validation:"ulid",code:L.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),U(a,{validation:"url",code:L.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),U(a,{validation:"regex",code:L.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(a=this._getOrReturnCtx(e,a),U(a,{code:L.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(a=this._getOrReturnCtx(e,a),U(a,{code:L.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(a=this._getOrReturnCtx(e,a),U(a,{code:L.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?Hp(s).test(e.data)||(a=this._getOrReturnCtx(e,a),U(a,{code:L.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="ip"?Yp(e.data,s.version)||(a=this._getOrReturnCtx(e,a),U(a,{validation:"ip",code:L.invalid_string,message:s.message}),n.dirty()):re.assertNever(s);return{status:n.value,value:e.data}}_addCheck(e){return new Ie({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...q.errToObj(e)})}url(e){return this._addCheck({kind:"url",...q.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...q.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...q.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...q.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...q.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...q.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...q.errToObj(e)})}datetime(e){var t;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,...q.errToObj(e==null?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...q.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...q.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...q.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...q.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...q.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...q.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...q.errToObj(t)})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Ie.create=r=>{var e;return new Ie({checks:[],typeName:H.ZodString,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1,...X(r)})};function Jp(r,e){const t=(r.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,a=t>n?t:n,s=parseInt(r.toFixed(a).replace(".","")),i=parseInt(e.toFixed(a).replace(".",""));return s%i/Math.pow(10,a)}class Ge extends G{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==$.number){const s=this._getOrReturnCtx(e);return U(s,{code:L.invalid_type,expected:$.number,received:s.parsedType}),J}let n;const a=new me;for(const s of this._def.checks)s.kind==="int"?re.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),U(n,{code:L.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),U(n,{code:L.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),U(n,{code:L.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="multipleOf"?Jp(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),U(n,{code:L.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),U(n,{code:L.not_finite,message:s.message}),a.dirty()):re.assertNever(s);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,q.toString(t))}gt(e,t){return this.setLimit("min",e,!1,q.toString(t))}lte(e,t){return this.setLimit("max",e,!0,q.toString(t))}lt(e,t){return this.setLimit("max",e,!1,q.toString(t))}setLimit(e,t,n,a){return new Ge({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:q.toString(a)}]})}_addCheck(e){return new Ge({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:q.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:q.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:q.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:q.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:q.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:q.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:q.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:q.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:q.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&re.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Ge.create=r=>new Ge({checks:[],typeName:H.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...X(r)});class Qe extends G{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==$.bigint){const s=this._getOrReturnCtx(e);return U(s,{code:L.invalid_type,expected:$.bigint,received:s.parsedType}),J}let n;const a=new me;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),U(n,{code:L.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),U(n,{code:L.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),U(n,{code:L.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):re.assertNever(s);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,q.toString(t))}gt(e,t){return this.setLimit("min",e,!1,q.toString(t))}lte(e,t){return this.setLimit("max",e,!0,q.toString(t))}lt(e,t){return this.setLimit("max",e,!1,q.toString(t))}setLimit(e,t,n,a){return new Qe({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:q.toString(a)}]})}_addCheck(e){return new Qe({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:q.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:q.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:q.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:q.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:q.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Qe.create=r=>{var e;return new Qe({checks:[],typeName:H.ZodBigInt,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1,...X(r)})};class Ct extends G{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==$.boolean){const n=this._getOrReturnCtx(e);return U(n,{code:L.invalid_type,expected:$.boolean,received:n.parsedType}),J}return be(e.data)}}Ct.create=r=>new Ct({typeName:H.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...X(r)});class ct extends G{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==$.date){const s=this._getOrReturnCtx(e);return U(s,{code:L.invalid_type,expected:$.date,received:s.parsedType}),J}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return U(s,{code:L.invalid_date}),J}const n=new me;let a;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(a=this._getOrReturnCtx(e,a),U(a,{code:L.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(a=this._getOrReturnCtx(e,a),U(a,{code:L.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):re.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ct({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:q.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:q.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}ct.create=r=>new ct({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:H.ZodDate,...X(r)});class hr extends G{_parse(e){if(this._getType(e)!==$.symbol){const n=this._getOrReturnCtx(e);return U(n,{code:L.invalid_type,expected:$.symbol,received:n.parsedType}),J}return be(e.data)}}hr.create=r=>new hr({typeName:H.ZodSymbol,...X(r)});class Nt extends G{_parse(e){if(this._getType(e)!==$.undefined){const n=this._getOrReturnCtx(e);return U(n,{code:L.invalid_type,expected:$.undefined,received:n.parsedType}),J}return be(e.data)}}Nt.create=r=>new Nt({typeName:H.ZodUndefined,...X(r)});class Lt extends G{_parse(e){if(this._getType(e)!==$.null){const n=this._getOrReturnCtx(e);return U(n,{code:L.invalid_type,expected:$.null,received:n.parsedType}),J}return be(e.data)}}Lt.create=r=>new Lt({typeName:H.ZodNull,...X(r)});class vt extends G{constructor(){super(...arguments),this._any=!0}_parse(e){return be(e.data)}}vt.create=r=>new vt({typeName:H.ZodAny,...X(r)});class ut extends G{constructor(){super(...arguments),this._unknown=!0}_parse(e){return be(e.data)}}ut.create=r=>new ut({typeName:H.ZodUnknown,...X(r)});class Ze extends G{_parse(e){const t=this._getOrReturnCtx(e);return U(t,{code:L.invalid_type,expected:$.never,received:t.parsedType}),J}}Ze.create=r=>new Ze({typeName:H.ZodNever,...X(r)});class pr extends G{_parse(e){if(this._getType(e)!==$.undefined){const n=this._getOrReturnCtx(e);return U(n,{code:L.invalid_type,expected:$.void,received:n.parsedType}),J}return be(e.data)}}pr.create=r=>new pr({typeName:H.ZodVoid,...X(r)});class Ce extends G{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),a=this._def;if(t.parsedType!==$.array)return U(t,{code:L.invalid_type,expected:$.array,received:t.parsedType}),J;if(a.exactLength!==null){const i=t.data.length>a.exactLength.value,o=t.data.length<a.exactLength.value;(i||o)&&(U(t,{code:i?L.too_big:L.too_small,minimum:o?a.exactLength.value:void 0,maximum:i?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&t.data.length<a.minLength.value&&(U(t,{code:L.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&t.data.length>a.maxLength.value&&(U(t,{code:L.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((i,o)=>a.type._parseAsync(new qe(t,i,t.path,o)))).then(i=>me.mergeArray(n,i));const s=[...t.data].map((i,o)=>a.type._parseSync(new qe(t,i,t.path,o)));return me.mergeArray(n,s)}get element(){return this._def.type}min(e,t){return new Ce({...this._def,minLength:{value:e,message:q.toString(t)}})}max(e,t){return new Ce({...this._def,maxLength:{value:e,message:q.toString(t)}})}length(e,t){return new Ce({...this._def,exactLength:{value:e,message:q.toString(t)}})}nonempty(e){return this.min(1,e)}}Ce.create=(r,e)=>new Ce({type:r,minLength:null,maxLength:null,exactLength:null,typeName:H.ZodArray,...X(e)});function It(r){if(r instanceof ie){const e={};for(const t in r.shape){const n=r.shape[t];e[t]=Ve.create(It(n))}return new ie({...r._def,shape:()=>e})}else return r instanceof Ce?new Ce({...r._def,type:It(r.element)}):r instanceof Ve?Ve.create(It(r.unwrap())):r instanceof dt?dt.create(It(r.unwrap())):r instanceof Me?Me.create(r.items.map(e=>It(e))):r}class ie extends G{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=re.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==$.object){const c=this._getOrReturnCtx(e);return U(c,{code:L.invalid_type,expected:$.object,received:c.parsedType}),J}const{status:n,ctx:a}=this._processInputParams(e),{shape:s,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof Ze&&this._def.unknownKeys==="strip"))for(const c in a.data)i.includes(c)||o.push(c);const u=[];for(const c of i){const l=s[c],d=a.data[c];u.push({key:{status:"valid",value:c},value:l._parse(new qe(a,d,a.path,c)),alwaysSet:c in a.data})}if(this._def.catchall instanceof Ze){const c=this._def.unknownKeys;if(c==="passthrough")for(const l of o)u.push({key:{status:"valid",value:l},value:{status:"valid",value:a.data[l]}});else if(c==="strict")o.length>0&&(U(a,{code:L.unrecognized_keys,keys:o}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const l of o){const d=a.data[l];u.push({key:{status:"valid",value:l},value:c._parse(new qe(a,d,a.path,l)),alwaysSet:l in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const c=[];for(const l of u){const d=await l.key;c.push({key:d,value:await l.value,alwaysSet:l.alwaysSet})}return c}).then(c=>me.mergeObjectSync(n,c)):me.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return q.errToObj,new ie({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,n)=>{var a,s,i,o;const u=(i=(s=(a=this._def).errorMap)===null||s===void 0?void 0:s.call(a,t,n).message)!==null&&i!==void 0?i:n.defaultError;return t.code==="unrecognized_keys"?{message:(o=q.errToObj(e).message)!==null&&o!==void 0?o:u}:{message:u}}}:{}})}strip(){return new ie({...this._def,unknownKeys:"strip"})}passthrough(){return new ie({...this._def,unknownKeys:"passthrough"})}extend(e){return new ie({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ie({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:H.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ie({...this._def,catchall:e})}pick(e){const t={};return re.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])}),new ie({...this._def,shape:()=>t})}omit(e){const t={};return re.objectKeys(this.shape).forEach(n=>{e[n]||(t[n]=this.shape[n])}),new ie({...this._def,shape:()=>t})}deepPartial(){return It(this)}partial(e){const t={};return re.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];e&&!e[n]?t[n]=a:t[n]=a.optional()}),new ie({...this._def,shape:()=>t})}required(e){const t={};return re.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])t[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Ve;)s=s._def.innerType;t[n]=s}}),new ie({...this._def,shape:()=>t})}keyof(){return Fo(re.objectKeys(this.shape))}}ie.create=(r,e)=>new ie({shape:()=>r,unknownKeys:"strip",catchall:Ze.create(),typeName:H.ZodObject,...X(e)});ie.strictCreate=(r,e)=>new ie({shape:()=>r,unknownKeys:"strict",catchall:Ze.create(),typeName:H.ZodObject,...X(e)});ie.lazycreate=(r,e)=>new ie({shape:r,unknownKeys:"strip",catchall:Ze.create(),typeName:H.ZodObject,...X(e)});class Dt extends G{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;function a(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return t.common.issues.push(...o.ctx.common.issues),o.result;const i=s.map(o=>new Re(o.ctx.common.issues));return U(t,{code:L.invalid_union,unionErrors:i}),J}if(t.common.async)return Promise.all(n.map(async s=>{const i={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:i}),ctx:i}})).then(a);{let s;const i=[];for(const u of n){const c={...t,common:{...t.common,issues:[]},parent:null},l=u._parseSync({data:t.data,path:t.path,parent:c});if(l.status==="valid")return l;l.status==="dirty"&&!s&&(s={result:l,ctx:c}),c.common.issues.length&&i.push(c.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;const o=i.map(u=>new Re(u));return U(t,{code:L.invalid_union,unionErrors:o}),J}}get options(){return this._def.options}}Dt.create=(r,e)=>new Dt({options:r,typeName:H.ZodUnion,...X(e)});const Fr=r=>r instanceof Bt?Fr(r.schema):r instanceof Te?Fr(r.innerType()):r instanceof $t?[r.value]:r instanceof Xe?r.options:r instanceof Ut?Object.keys(r.enum):r instanceof Vt?Fr(r._def.innerType):r instanceof Nt?[void 0]:r instanceof Lt?[null]:null;class Ar extends G{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==$.object)return U(t,{code:L.invalid_type,expected:$.object,received:t.parsedType}),J;const n=this.discriminator,a=t.data[n],s=this.optionsMap.get(a);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(U(t,{code:L.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),J)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const a=new Map;for(const s of t){const i=Fr(s.shape[e]);if(!i)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of i){if(a.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);a.set(o,s)}}return new Ar({typeName:H.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:a,...X(n)})}}function ha(r,e){const t=Ye(r),n=Ye(e);if(r===e)return{valid:!0,data:r};if(t===$.object&&n===$.object){const a=re.objectKeys(e),s=re.objectKeys(r).filter(o=>a.indexOf(o)!==-1),i={...r,...e};for(const o of s){const u=ha(r[o],e[o]);if(!u.valid)return{valid:!1};i[o]=u.data}return{valid:!0,data:i}}else if(t===$.array&&n===$.array){if(r.length!==e.length)return{valid:!1};const a=[];for(let s=0;s<r.length;s++){const i=r[s],o=e[s],u=ha(i,o);if(!u.valid)return{valid:!1};a.push(u.data)}return{valid:!0,data:a}}else return t===$.date&&n===$.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}class Mt extends G{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),a=(s,i)=>{if(zr(s)||zr(i))return J;const o=ha(s.value,i.value);return o.valid?((qr(s)||qr(i))&&t.dirty(),{status:t.value,value:o.data}):(U(n,{code:L.invalid_intersection_types}),J)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,i])=>a(s,i)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Mt.create=(r,e,t)=>new Mt({left:r,right:e,typeName:H.ZodIntersection,...X(t)});class Me extends G{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==$.array)return U(n,{code:L.invalid_type,expected:$.array,received:n.parsedType}),J;if(n.data.length<this._def.items.length)return U(n,{code:L.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),J;!this._def.rest&&n.data.length>this._def.items.length&&(U(n,{code:L.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...n.data].map((i,o)=>{const u=this._def.items[o]||this._def.rest;return u?u._parse(new qe(n,i,n.path,o)):null}).filter(i=>!!i);return n.common.async?Promise.all(s).then(i=>me.mergeArray(t,i)):me.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new Me({...this._def,rest:e})}}Me.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Me({items:r,typeName:H.ZodTuple,rest:null,...X(e)})};class Ft extends G{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==$.object)return U(n,{code:L.invalid_type,expected:$.object,received:n.parsedType}),J;const a=[],s=this._def.keyType,i=this._def.valueType;for(const o in n.data)a.push({key:s._parse(new qe(n,o,n.path,o)),value:i._parse(new qe(n,n.data[o],n.path,o))});return n.common.async?me.mergeObjectAsync(t,a):me.mergeObjectSync(t,a)}get element(){return this._def.valueType}static create(e,t,n){return t instanceof G?new Ft({keyType:e,valueType:t,typeName:H.ZodRecord,...X(n)}):new Ft({keyType:Ie.create(),valueType:e,typeName:H.ZodRecord,...X(t)})}}class fr extends G{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==$.map)return U(n,{code:L.invalid_type,expected:$.map,received:n.parsedType}),J;const a=this._def.keyType,s=this._def.valueType,i=[...n.data.entries()].map(([o,u],c)=>({key:a._parse(new qe(n,o,n.path,[c,"key"])),value:s._parse(new qe(n,u,n.path,[c,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const u of i){const c=await u.key,l=await u.value;if(c.status==="aborted"||l.status==="aborted")return J;(c.status==="dirty"||l.status==="dirty")&&t.dirty(),o.set(c.value,l.value)}return{status:t.value,value:o}})}else{const o=new Map;for(const u of i){const c=u.key,l=u.value;if(c.status==="aborted"||l.status==="aborted")return J;(c.status==="dirty"||l.status==="dirty")&&t.dirty(),o.set(c.value,l.value)}return{status:t.value,value:o}}}}fr.create=(r,e,t)=>new fr({valueType:e,keyType:r,typeName:H.ZodMap,...X(t)});class lt extends G{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==$.set)return U(n,{code:L.invalid_type,expected:$.set,received:n.parsedType}),J;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(U(n,{code:L.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),t.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(U(n,{code:L.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),t.dirty());const s=this._def.valueType;function i(u){const c=new Set;for(const l of u){if(l.status==="aborted")return J;l.status==="dirty"&&t.dirty(),c.add(l.value)}return{status:t.value,value:c}}const o=[...n.data.values()].map((u,c)=>s._parse(new qe(n,u,n.path,c)));return n.common.async?Promise.all(o).then(u=>i(u)):i(o)}min(e,t){return new lt({...this._def,minSize:{value:e,message:q.toString(t)}})}max(e,t){return new lt({...this._def,maxSize:{value:e,message:q.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}lt.create=(r,e)=>new lt({valueType:r,minSize:null,maxSize:null,typeName:H.ZodSet,...X(e)});class bt extends G{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==$.function)return U(t,{code:L.invalid_type,expected:$.function,received:t.parsedType}),J;function n(o,u){return cr({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ur(),Rt].filter(c=>!!c),issueData:{code:L.invalid_arguments,argumentsError:u}})}function a(o,u){return cr({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ur(),Rt].filter(c=>!!c),issueData:{code:L.invalid_return_type,returnTypeError:u}})}const s={errorMap:t.common.contextualErrorMap},i=t.data;return this._def.returns instanceof wt?be(async(...o)=>{const u=new Re([]),c=await this._def.args.parseAsync(o,s).catch(p=>{throw u.addIssue(n(o,p)),u}),l=await i(...c);return await this._def.returns._def.type.parseAsync(l,s).catch(p=>{throw u.addIssue(a(l,p)),u})}):be((...o)=>{const u=this._def.args.safeParse(o,s);if(!u.success)throw new Re([n(o,u.error)]);const c=i(...u.data),l=this._def.returns.safeParse(c,s);if(!l.success)throw new Re([a(c,l.error)]);return l.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new bt({...this._def,args:Me.create(e).rest(ut.create())})}returns(e){return new bt({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new bt({args:e||Me.create([]).rest(ut.create()),returns:t||ut.create(),typeName:H.ZodFunction,...X(n)})}}class Bt extends G{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Bt.create=(r,e)=>new Bt({getter:r,typeName:H.ZodLazy,...X(e)});class $t extends G{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return U(t,{received:t.data,code:L.invalid_literal,expected:this._def.value}),J}return{status:"valid",value:e.data}}get value(){return this._def.value}}$t.create=(r,e)=>new $t({value:r,typeName:H.ZodLiteral,...X(e)});function Fo(r,e){return new Xe({values:r,typeName:H.ZodEnum,...X(e)})}class Xe extends G{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),n=this._def.values;return U(t,{expected:re.joinValues(n),received:t.parsedType,code:L.invalid_type}),J}if(this._def.values.indexOf(e.data)===-1){const t=this._getOrReturnCtx(e),n=this._def.values;return U(t,{received:t.data,code:L.invalid_enum_value,options:n}),J}return be(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return Xe.create(e)}exclude(e){return Xe.create(this.options.filter(t=>!e.includes(t)))}}Xe.create=Fo;class Ut extends G{_parse(e){const t=re.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==$.string&&n.parsedType!==$.number){const a=re.objectValues(t);return U(n,{expected:re.joinValues(a),received:n.parsedType,code:L.invalid_type}),J}if(t.indexOf(e.data)===-1){const a=re.objectValues(t);return U(n,{received:n.data,code:L.invalid_enum_value,options:a}),J}return be(e.data)}get enum(){return this._def.values}}Ut.create=(r,e)=>new Ut({values:r,typeName:H.ZodNativeEnum,...X(e)});class wt extends G{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==$.promise&&t.common.async===!1)return U(t,{code:L.invalid_type,expected:$.promise,received:t.parsedType}),J;const n=t.parsedType===$.promise?t.data:Promise.resolve(t.data);return be(n.then(a=>this._def.type.parseAsync(a,{path:t.path,errorMap:t.common.contextualErrorMap})))}}wt.create=(r,e)=>new wt({type:r,typeName:H.ZodPromise,...X(e)});class Te extends G{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===H.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),a=this._def.effect||null;if(a.type==="preprocess"){const i=a.transform(n.data);return n.common.async?Promise.resolve(i).then(o=>this._def.schema._parseAsync({data:o,path:n.path,parent:n})):this._def.schema._parseSync({data:i,path:n.path,parent:n})}const s={addIssue:i=>{U(n,i),i.fatal?t.abort():t.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="refinement"){const i=o=>{const u=a.refinement(o,s);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?J:(o.status==="dirty"&&t.dirty(),i(o.value),{status:t.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?J:(o.status==="dirty"&&t.dirty(),i(o.value).then(()=>({status:t.value,value:o.value}))))}if(a.type==="transform")if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!lr(i))return i;const o=a.transform(i.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>lr(i)?Promise.resolve(a.transform(i.value,s)).then(o=>({status:t.value,value:o})):i);re.assertNever(a)}}Te.create=(r,e,t)=>new Te({schema:r,typeName:H.ZodEffects,effect:e,...X(t)});Te.createWithPreprocess=(r,e,t)=>new Te({schema:e,effect:{type:"preprocess",transform:r},typeName:H.ZodEffects,...X(t)});class Ve extends G{_parse(e){return this._getType(e)===$.undefined?be(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ve.create=(r,e)=>new Ve({innerType:r,typeName:H.ZodOptional,...X(e)});class dt extends G{_parse(e){return this._getType(e)===$.null?be(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}dt.create=(r,e)=>new dt({innerType:r,typeName:H.ZodNullable,...X(e)});class Vt extends G{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===$.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Vt.create=(r,e)=>new Vt({innerType:r,typeName:H.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...X(e)});class mr extends G{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return dr(a)?a.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Re(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Re(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}mr.create=(r,e)=>new mr({innerType:r,typeName:H.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...X(e)});class yr extends G{_parse(e){if(this._getType(e)!==$.nan){const n=this._getOrReturnCtx(e);return U(n,{code:L.invalid_type,expected:$.nan,received:n.parsedType}),J}return{status:"valid",value:e.data}}}yr.create=r=>new yr({typeName:H.ZodNaN,...X(r)});const Bo=Symbol("zod_brand");class Ba extends G{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class qt extends G{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?J:s.status==="dirty"?(t.dirty(),Fa(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?J:a.status==="dirty"?(t.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(e,t){return new qt({in:e,out:t,typeName:H.ZodPipeline})}}const $a=(r,e={},t)=>r?vt.create().superRefine((n,a)=>{var s,i;if(!r(n)){const o=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,u=(i=(s=o.fatal)!==null&&s!==void 0?s:t)!==null&&i!==void 0?i:!0,c=typeof o=="string"?{message:o}:o;a.addIssue({code:"custom",...c,fatal:u})}}):vt.create(),$o={object:ie.lazycreate};var H;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline"})(H||(H={}));const Uo=(r,e={message:`Input not instance of ${r.name}`})=>$a(t=>t instanceof r,e),Ua=Ie.create,Va=Ge.create,Vo=yr.create,zo=Qe.create,za=Ct.create,qo=ct.create,Zo=hr.create,Ko=Nt.create,Ho=Lt.create,Yo=vt.create,Jo=ut.create,Wo=Ze.create,Go=pr.create,Qo=Ce.create,Xo=ie.create,eu=ie.strictCreate,tu=Dt.create,ru=Ar.create,nu=Mt.create,au=Me.create,su=Ft.create,iu=fr.create,ou=lt.create,uu=bt.create,cu=Bt.create,lu=$t.create,du=Xe.create,hu=Ut.create,pu=wt.create,Zr=Te.create,fu=Ve.create,mu=dt.create,yu=Te.createWithPreprocess,gu=qt.create,bu=()=>Ua().optional(),_u=()=>Va().optional(),vu=()=>za().optional(),wu={string:r=>Ie.create({...r,coerce:!0}),number:r=>Ge.create({...r,coerce:!0}),boolean:r=>Ct.create({...r,coerce:!0}),bigint:r=>Qe.create({...r,coerce:!0}),date:r=>ct.create({...r,coerce:!0})},Ou=J;var Hs=Object.freeze({__proto__:null,defaultErrorMap:Rt,setErrorMap:Do,getErrorMap:ur,makeIssue:cr,EMPTY_PATH:Mo,addIssueToContext:U,ParseStatus:me,INVALID:J,DIRTY:Fa,OK:be,isAborted:zr,isDirty:qr,isValid:lr,isAsync:dr,get util(){return re},get objectUtil(){return Vr},ZodParsedType:$,getParsedType:Ye,ZodType:G,ZodString:Ie,ZodNumber:Ge,ZodBigInt:Qe,ZodBoolean:Ct,ZodDate:ct,ZodSymbol:hr,ZodUndefined:Nt,ZodNull:Lt,ZodAny:vt,ZodUnknown:ut,ZodNever:Ze,ZodVoid:pr,ZodArray:Ce,ZodObject:ie,ZodUnion:Dt,ZodDiscriminatedUnion:Ar,ZodIntersection:Mt,ZodTuple:Me,ZodRecord:Ft,ZodMap:fr,ZodSet:lt,ZodFunction:bt,ZodLazy:Bt,ZodLiteral:$t,ZodEnum:Xe,ZodNativeEnum:Ut,ZodPromise:wt,ZodEffects:Te,ZodTransformer:Te,ZodOptional:Ve,ZodNullable:dt,ZodDefault:Vt,ZodCatch:mr,ZodNaN:yr,BRAND:Bo,ZodBranded:Ba,ZodPipeline:qt,custom:$a,Schema:G,ZodSchema:G,late:$o,get ZodFirstPartyTypeKind(){return H},coerce:wu,any:Yo,array:Qo,bigint:zo,boolean:za,date:qo,discriminatedUnion:ru,effect:Zr,enum:du,function:uu,instanceof:Uo,intersection:nu,lazy:cu,literal:lu,map:iu,nan:Vo,nativeEnum:hu,never:Wo,null:Ho,nullable:mu,number:Va,object:Xo,oboolean:vu,onumber:_u,optional:fu,ostring:bu,pipeline:gu,preprocess:yu,promise:pu,record:su,set:ou,strictObject:eu,string:Ua,symbol:Zo,transformer:Zr,tuple:au,undefined:Ko,union:tu,unknown:Jo,void:Go,NEVER:Ou,ZodIssueCode:L,quotelessJson:No,ZodError:Re});const Wp=Object.freeze(Object.defineProperty({__proto__:null,BRAND:Bo,DIRTY:Fa,EMPTY_PATH:Mo,INVALID:J,NEVER:Ou,OK:be,ParseStatus:me,Schema:G,ZodAny:vt,ZodArray:Ce,ZodBigInt:Qe,ZodBoolean:Ct,ZodBranded:Ba,ZodCatch:mr,ZodDate:ct,ZodDefault:Vt,ZodDiscriminatedUnion:Ar,ZodEffects:Te,ZodEnum:Xe,ZodError:Re,get ZodFirstPartyTypeKind(){return H},ZodFunction:bt,ZodIntersection:Mt,ZodIssueCode:L,ZodLazy:Bt,ZodLiteral:$t,ZodMap:fr,ZodNaN:yr,ZodNativeEnum:Ut,ZodNever:Ze,ZodNull:Lt,ZodNullable:dt,ZodNumber:Ge,ZodObject:ie,ZodOptional:Ve,ZodParsedType:$,ZodPipeline:qt,ZodPromise:wt,ZodRecord:Ft,ZodSchema:G,ZodSet:lt,ZodString:Ie,ZodSymbol:hr,ZodTransformer:Te,ZodTuple:Me,ZodType:G,ZodUndefined:Nt,ZodUnion:Dt,ZodUnknown:ut,ZodVoid:pr,addIssueToContext:U,any:Yo,array:Qo,bigint:zo,boolean:za,coerce:wu,custom:$a,date:qo,default:Hs,defaultErrorMap:Rt,discriminatedUnion:ru,effect:Zr,enum:du,function:uu,getErrorMap:ur,getParsedType:Ye,instanceof:Uo,intersection:nu,isAborted:zr,isAsync:dr,isDirty:qr,isValid:lr,late:$o,lazy:cu,literal:lu,makeIssue:cr,map:iu,nan:Vo,nativeEnum:hu,never:Wo,null:Ho,nullable:mu,number:Va,object:Xo,get objectUtil(){return Vr},oboolean:vu,onumber:_u,optional:fu,ostring:bu,pipeline:gu,preprocess:yu,promise:pu,quotelessJson:No,record:su,set:ou,setErrorMap:Do,strictObject:eu,string:Ua,symbol:Zo,transformer:Zr,tuple:au,undefined:Ko,union:tu,unknown:Jo,get util(){return re},void:Go,z:Hs},Symbol.toStringTag,{value:"Module"}));var Gp={},hn={},Kt={};const qa=sl(Wp);var pn={};Object.defineProperty(pn,"__esModule",{value:!0});pn.parseAnyDef=void 0;function Qp(){return{}}pn.parseAnyDef=Qp;var Ht={},Fe={};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.setResponseValueAndErrors=Fe.addErrorMessage=void 0;function Au(r,e,t,n){n!=null&&n.errorMessages&&t&&(r.errorMessage=Object.assign(Object.assign({},r.errorMessage),{[e]:t}))}Fe.addErrorMessage=Au;function Xp(r,e,t,n,a){r[e]=t,Au(r,e,n,a)}Fe.setResponseValueAndErrors=Xp;var Ys;function ef(){if(Ys)return Ht;Ys=1,Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.parseArrayDef=void 0;const r=qa,e=Fe,t=ye();function n(a,s){var i,o;const u={type:"array"};return((o=(i=a.type)===null||i===void 0?void 0:i._def)===null||o===void 0?void 0:o.typeName)!==r.ZodFirstPartyTypeKind.ZodAny&&(u.items=(0,t.parseDef)(a.type._def,Object.assign(Object.assign({},s),{currentPath:[...s.currentPath,"items"]}))),a.minLength&&(0,e.setResponseValueAndErrors)(u,"minItems",a.minLength.value,a.minLength.message,s),a.maxLength&&(0,e.setResponseValueAndErrors)(u,"maxItems",a.maxLength.value,a.maxLength.message,s),u}return Ht.parseArrayDef=n,Ht}var fn={};Object.defineProperty(fn,"__esModule",{value:!0});fn.parseBigintDef=void 0;const ft=Fe;function tf(r,e){const t={type:"integer",format:"int64"};if(!r.checks)return t;for(const n of r.checks)switch(n.kind){case"min":e.target==="jsonSchema7"?n.inclusive?(0,ft.setResponseValueAndErrors)(t,"minimum",n.value,n.message,e):(0,ft.setResponseValueAndErrors)(t,"exclusiveMinimum",n.value,n.message,e):(n.inclusive||(t.exclusiveMinimum=!0),(0,ft.setResponseValueAndErrors)(t,"minimum",n.value,n.message,e));break;case"max":e.target==="jsonSchema7"?n.inclusive?(0,ft.setResponseValueAndErrors)(t,"maximum",n.value,n.message,e):(0,ft.setResponseValueAndErrors)(t,"exclusiveMaximum",n.value,n.message,e):(n.inclusive||(t.exclusiveMaximum=!0),(0,ft.setResponseValueAndErrors)(t,"maximum",n.value,n.message,e));break;case"multipleOf":(0,ft.setResponseValueAndErrors)(t,"multipleOf",n.value,n.message,e);break}return t}fn.parseBigintDef=tf;var mn={};Object.defineProperty(mn,"__esModule",{value:!0});mn.parseBooleanDef=void 0;function rf(){return{type:"boolean"}}mn.parseBooleanDef=rf;var Yt={},Js;function nf(){if(Js)return Yt;Js=1,Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.parseBrandedDef=void 0;const r=ye();function e(t,n){return(0,r.parseDef)(t.type._def,n)}return Yt.parseBrandedDef=e,Yt}var Jt={},Ws;function af(){if(Ws)return Jt;Ws=1,Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.parseCatchDef=void 0;const r=ye(),e=(t,n)=>(0,r.parseDef)(t.innerType._def,n);return Jt.parseCatchDef=e,Jt}var yn={};Object.defineProperty(yn,"__esModule",{value:!0});yn.parseDateDef=void 0;const Gs=Fe;function sf(r,e){return e.dateStrategy=="integer"?of(r,e):{type:"string",format:"date-time"}}yn.parseDateDef=sf;const of=(r,e)=>{const t={type:"integer",format:"unix-time"};for(const n of r.checks)switch(n.kind){case"min":e.target==="jsonSchema7"&&(0,Gs.setResponseValueAndErrors)(t,"minimum",n.value,n.message,e);break;case"max":e.target==="jsonSchema7"&&(0,Gs.setResponseValueAndErrors)(t,"maximum",n.value,n.message,e);break}return t};var Wt={},Qs;function uf(){if(Qs)return Wt;Qs=1,Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.parseDefaultDef=void 0;const r=ye();function e(t,n){return Object.assign(Object.assign({},(0,r.parseDef)(t.innerType._def,n)),{default:t.defaultValue()})}return Wt.parseDefaultDef=e,Wt}var Gt={},Xs;function cf(){if(Xs)return Gt;Xs=1,Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.parseEffectsDef=void 0;const r=ye();function e(t,n){return n.effectStrategy==="input"?(0,r.parseDef)(t.schema._def,n):{}}return Gt.parseEffectsDef=e,Gt}var gn={};Object.defineProperty(gn,"__esModule",{value:!0});gn.parseEnumDef=void 0;function lf(r){return{type:"string",enum:r.values}}gn.parseEnumDef=lf;var Qt={},ei;function df(){if(ei)return Qt;ei=1;var r=Ue&&Ue.__rest||function(a,s){var i={};for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&s.indexOf(o)<0&&(i[o]=a[o]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,o=Object.getOwnPropertySymbols(a);u<o.length;u++)s.indexOf(o[u])<0&&Object.prototype.propertyIsEnumerable.call(a,o[u])&&(i[o[u]]=a[o[u]]);return i};Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.parseIntersectionDef=void 0;const e=ye(),t=a=>"type"in a&&a.type==="string"?!1:"allOf"in a;function n(a,s){const i=[(0,e.parseDef)(a.left._def,Object.assign(Object.assign({},s),{currentPath:[...s.currentPath,"allOf","0"]})),(0,e.parseDef)(a.right._def,Object.assign(Object.assign({},s),{currentPath:[...s.currentPath,"allOf","1"]}))].filter(c=>!!c);let o=s.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const u=[];return i.forEach(c=>{if(t(c))u.push(...c.allOf),c.unevaluatedProperties===void 0&&(o=void 0);else{let l=c;"additionalProperties"in c&&c.additionalProperties===!1?l=r(c,["additionalProperties"]):o=void 0,u.push(l)}}),u.length?Object.assign({allOf:u},o):void 0}return Qt.parseIntersectionDef=n,Qt}var bn={};Object.defineProperty(bn,"__esModule",{value:!0});bn.parseLiteralDef=void 0;function hf(r,e){const t=typeof r.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(r.value)?"array":"object"}:e.target==="openApi3"?{type:t==="bigint"?"integer":t,enum:[r.value]}:{type:t==="bigint"?"integer":t,const:r.value}}bn.parseLiteralDef=hf;var Xt={},ti;function pf(){if(ti)return Xt;ti=1,Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.parseMapDef=void 0;const r=ye();function e(t,n){const a=(0,r.parseDef)(t.keyType._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"items","items","0"]}))||{},s=(0,r.parseDef)(t.valueType._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"items","items","1"]}))||{};return{type:"array",maxItems:125,items:{type:"array",items:[a,s],minItems:2,maxItems:2}}}return Xt.parseMapDef=e,Xt}var _n={};Object.defineProperty(_n,"__esModule",{value:!0});_n.parseNativeEnumDef=void 0;function ff(r){const e=r.values,n=Object.keys(r.values).filter(s=>typeof e[e[s]]!="number").map(s=>e[s]),a=Array.from(new Set(n.map(s=>typeof s)));return{type:a.length===1?a[0]==="string"?"string":"number":["string","number"],enum:n}}_n.parseNativeEnumDef=ff;var vn={};Object.defineProperty(vn,"__esModule",{value:!0});vn.parseNeverDef=void 0;function mf(){return{not:{}}}vn.parseNeverDef=mf;var wn={};Object.defineProperty(wn,"__esModule",{value:!0});wn.parseNullDef=void 0;function yf(r){return r.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}wn.parseNullDef=yf;var er={},ta={},ri;function Eu(){return ri||(ri=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.parseUnionDef=r.primitiveMappings=void 0;const e=ye();r.primitiveMappings={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function t(a,s){if(s.target==="openApi3")return n(a,s);const i=a.options instanceof Map?Array.from(a.options.values()):a.options;if(i.every(o=>o._def.typeName in r.primitiveMappings&&(!o._def.checks||!o._def.checks.length))){const o=i.reduce((u,c)=>{const l=r.primitiveMappings[c._def.typeName];return l&&!u.includes(l)?[...u,l]:u},[]);return{type:o.length>1?o:o[0]}}else if(i.every(o=>o._def.typeName==="ZodLiteral"&&!o.description)){const o=i.reduce((u,c)=>{const l=typeof c._def.value;switch(l){case"string":case"number":case"boolean":return[...u,l];case"bigint":return[...u,"integer"];case"object":if(c._def.value===null)return[...u,"null"];case"symbol":case"undefined":case"function":default:return u}},[]);if(o.length===i.length){const u=o.filter((c,l,d)=>d.indexOf(c)===l);return{type:u.length>1?u:u[0],enum:i.reduce((c,l)=>c.includes(l._def.value)?c:[...c,l._def.value],[])}}}else if(i.every(o=>o._def.typeName==="ZodEnum"))return{type:"string",enum:i.reduce((o,u)=>[...o,...u._def.values.filter(c=>!o.includes(c))],[])};return n(a,s)}r.parseUnionDef=t;const n=(a,s)=>{const i=(a.options instanceof Map?Array.from(a.options.values()):a.options).map((o,u)=>(0,e.parseDef)(o._def,Object.assign(Object.assign({},s),{currentPath:[...s.currentPath,"anyOf",`${u}`]}))).filter(o=>!!o&&(!s.strictUnions||typeof o=="object"&&Object.keys(o).length>0));return i.length?{anyOf:i}:void 0}}(ta)),ta}var ni;function gf(){if(ni)return er;ni=1,Object.defineProperty(er,"__esModule",{value:!0}),er.parseNullableDef=void 0;const r=ye(),e=Eu();function t(n,a){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(n.innerType._def.typeName)&&(!n.innerType._def.checks||!n.innerType._def.checks.length))return a.target==="openApi3"?{type:e.primitiveMappings[n.innerType._def.typeName],nullable:!0}:{type:[e.primitiveMappings[n.innerType._def.typeName],"null"]};if(a.target==="openApi3"){const i=(0,r.parseDef)(n.innerType._def,Object.assign(Object.assign({},a),{currentPath:[...a.currentPath]}));return i&&Object.assign(Object.assign({},i),{nullable:!0})}const s=(0,r.parseDef)(n.innerType._def,Object.assign(Object.assign({},a),{currentPath:[...a.currentPath,"anyOf","0"]}));return s&&{anyOf:[s,{type:"null"}]}}return er.parseNullableDef=t,er}var On={};Object.defineProperty(On,"__esModule",{value:!0});On.parseNumberDef=void 0;const nt=Fe;function bf(r,e){const t={type:"number"};if(!r.checks)return t;for(const n of r.checks)switch(n.kind){case"int":t.type="integer",(0,nt.addErrorMessage)(t,"type",n.message,e);break;case"min":e.target==="jsonSchema7"?n.inclusive?(0,nt.setResponseValueAndErrors)(t,"minimum",n.value,n.message,e):(0,nt.setResponseValueAndErrors)(t,"exclusiveMinimum",n.value,n.message,e):(n.inclusive||(t.exclusiveMinimum=!0),(0,nt.setResponseValueAndErrors)(t,"minimum",n.value,n.message,e));break;case"max":e.target==="jsonSchema7"?n.inclusive?(0,nt.setResponseValueAndErrors)(t,"maximum",n.value,n.message,e):(0,nt.setResponseValueAndErrors)(t,"exclusiveMaximum",n.value,n.message,e):(n.inclusive||(t.exclusiveMaximum=!0),(0,nt.setResponseValueAndErrors)(t,"maximum",n.value,n.message,e));break;case"multipleOf":(0,nt.setResponseValueAndErrors)(t,"multipleOf",n.value,n.message,e);break}return t}On.parseNumberDef=bf;var mt={},ai;function _f(){if(ai)return mt;ai=1,Object.defineProperty(mt,"__esModule",{value:!0}),mt.parseObjectDef=mt.parseObjectDefX=void 0;const r=ye();function e(n,a){var s,i;Object.keys(n.shape()).reduce((u,c)=>{let l=n.shape()[c];const d=l.isOptional();d||(l=Object.assign({},l._def.innerSchema));const p=(0,r.parseDef)(l._def,Object.assign(Object.assign({},a),{currentPath:[...a.currentPath,"properties",c],propertyPath:[...a.currentPath,"properties",c]}));return p!==void 0&&(u.properties[c]=p,d||(u.required||(u.required=[]),u.required.push(c))),u},{type:"object",properties:{},additionalProperties:n.catchall._def.typeName==="ZodNever"?n.unknownKeys==="passthrough":(s=(0,r.parseDef)(n.catchall._def,Object.assign(Object.assign({},a),{currentPath:[...a.currentPath,"additionalProperties"]})))!==null&&s!==void 0?s:!0});const o=Object.assign(Object.assign({type:"object"},Object.entries(n.shape()).reduce((u,[c,l])=>{if(l===void 0||l._def===void 0)return u;const d=(0,r.parseDef)(l._def,Object.assign(Object.assign({},a),{currentPath:[...a.currentPath,"properties",c],propertyPath:[...a.currentPath,"properties",c]}));return d===void 0?u:{properties:Object.assign(Object.assign({},u.properties),{[c]:d}),required:l.isOptional()?u.required:[...u.required,c]}},{properties:{},required:[]})),{additionalProperties:n.catchall._def.typeName==="ZodNever"?n.unknownKeys==="passthrough":(i=(0,r.parseDef)(n.catchall._def,Object.assign(Object.assign({},a),{currentPath:[...a.currentPath,"additionalProperties"]})))!==null&&i!==void 0?i:!0});return o.required.length||delete o.required,o}mt.parseObjectDefX=e;function t(n,a){var s;const i=Object.assign(Object.assign({type:"object"},Object.entries(n.shape()).reduce((o,[u,c])=>{if(c===void 0||c._def===void 0)return o;const l=(0,r.parseDef)(c._def,Object.assign(Object.assign({},a),{currentPath:[...a.currentPath,"properties",u],propertyPath:[...a.currentPath,"properties",u]}));return l===void 0?o:{properties:Object.assign(Object.assign({},o.properties),{[u]:l}),required:c.isOptional()?o.required:[...o.required,u]}},{properties:{},required:[]})),{additionalProperties:n.catchall._def.typeName==="ZodNever"?n.unknownKeys==="passthrough":(s=(0,r.parseDef)(n.catchall._def,Object.assign(Object.assign({},a),{currentPath:[...a.currentPath,"additionalProperties"]})))!==null&&s!==void 0?s:!0});return i.required.length||delete i.required,i}return mt.parseObjectDef=t,mt}var tr={},si;function vf(){if(si)return tr;si=1,Object.defineProperty(tr,"__esModule",{value:!0}),tr.parseOptionalDef=void 0;const r=ye(),e=(t,n)=>{var a;if(n.currentPath.toString()===((a=n.propertyPath)===null||a===void 0?void 0:a.toString()))return(0,r.parseDef)(t.innerType._def,n);const s=(0,r.parseDef)(t.innerType._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"anyOf","1"]}));return s?{anyOf:[{not:{}},s]}:{}};return tr.parseOptionalDef=e,tr}var rr={},ii;function wf(){if(ii)return rr;ii=1,Object.defineProperty(rr,"__esModule",{value:!0}),rr.parsePipelineDef=void 0;const r=ye(),e=(t,n)=>{if(n.pipeStrategy==="input")return(0,r.parseDef)(t.in._def,n);const a=(0,r.parseDef)(t.in._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"allOf","0"]})),s=(0,r.parseDef)(t.out._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"allOf",a?"1":"0"]}));return{allOf:[a,s].filter(i=>i!==void 0)}};return rr.parsePipelineDef=e,rr}var nr={},oi;function Of(){if(oi)return nr;oi=1,Object.defineProperty(nr,"__esModule",{value:!0}),nr.parsePromiseDef=void 0;const r=ye();function e(t,n){return(0,r.parseDef)(t.type._def,n)}return nr.parsePromiseDef=e,nr}var ar={},Za={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.parseStringDef=r.emojiPattern=r.ulidPattern=r.cuid2Pattern=r.cuidPattern=r.emailPattern=void 0;const e=Fe;r.emailPattern='^(([^<>()[\\]\\\\.,;:\\s@\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\"]+)*)|(\\".+\\"))@((\\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\])|(\\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\\.[A-Za-z]{2,})+))$',r.cuidPattern="^c[^\\s-]{8,}$",r.cuid2Pattern="^[a-z][a-z0-9]*$",r.ulidPattern="/[0-9A-HJKMNP-TV-Z]{26}/",r.emojiPattern="/^(p{Extended_Pictographic}|p{Emoji_Component})+$/u";function t(i,o){const u={type:"string"};if(i.checks)for(const c of i.checks)switch(c.kind){case"min":(0,e.setResponseValueAndErrors)(u,"minLength",typeof u.minLength=="number"?Math.max(u.minLength,c.value):c.value,c.message,o);break;case"max":(0,e.setResponseValueAndErrors)(u,"maxLength",typeof u.maxLength=="number"?Math.min(u.maxLength,c.value):c.value,c.message,o);break;case"email":switch(o.emailStrategy){case"format:email":a(u,"email",c.message,o);break;case"format:idn-email":a(u,"idn-email",c.message,o);break;case"pattern:zod":s(u,r.emailPattern,c.message,o);break}break;case"url":a(u,"uri",c.message,o);break;case"uuid":a(u,"uuid",c.message,o);break;case"regex":s(u,c.regex.source,c.message,o);break;case"cuid":s(u,r.cuidPattern,c.message,o);break;case"cuid2":s(u,r.cuid2Pattern,c.message,o);break;case"startsWith":s(u,"^"+n(c.value),c.message,o);break;case"endsWith":s(u,n(c.value)+"$",c.message,o);break;case"datetime":a(u,"date-time",c.message,o);break;case"length":(0,e.setResponseValueAndErrors)(u,"minLength",typeof u.minLength=="number"?Math.max(u.minLength,c.value):c.value,c.message,o),(0,e.setResponseValueAndErrors)(u,"maxLength",typeof u.maxLength=="number"?Math.min(u.maxLength,c.value):c.value,c.message,o);break;case"includes":{s(u,n(c.value),c.message,o);break}case"ip":{c.version!=="v6"&&a(u,"ipv4",c.message,o),c.version!=="v4"&&a(u,"ipv6",c.message,o);break}case"emoji":s(u,r.emojiPattern,c.message,o);break;case"ulid":{s(u,r.ulidPattern,c.message,o);break}}return u}r.parseStringDef=t;const n=i=>Array.from(i).map(o=>/[a-zA-Z0-9]/.test(o)?o:`\\${o}`).join(""),a=(i,o,u,c)=>{var l;i.format||!((l=i.anyOf)===null||l===void 0)&&l.some(d=>d.format)?(i.anyOf||(i.anyOf=[]),i.format&&(i.anyOf.push(Object.assign({format:i.format},i.errorMessage&&c.errorMessages&&{errorMessage:{format:i.errorMessage.format}})),delete i.format,i.errorMessage&&(delete i.errorMessage.format,Object.keys(i.errorMessage).length===0&&delete i.errorMessage)),i.anyOf.push(Object.assign({format:o},u&&c.errorMessages&&{errorMessage:{format:u}}))):(0,e.setResponseValueAndErrors)(i,"format",o,u,c)},s=(i,o,u,c)=>{var l;i.pattern||!((l=i.allOf)===null||l===void 0)&&l.some(d=>d.pattern)?(i.allOf||(i.allOf=[]),i.pattern&&(i.allOf.push(Object.assign({pattern:i.pattern},i.errorMessage&&c.errorMessages&&{errorMessage:{pattern:i.errorMessage.pattern}})),delete i.pattern,i.errorMessage&&(delete i.errorMessage.pattern,Object.keys(i.errorMessage).length===0&&delete i.errorMessage)),i.allOf.push(Object.assign({pattern:o},u&&c.errorMessages&&{errorMessage:{pattern:u}}))):(0,e.setResponseValueAndErrors)(i,"pattern",o,u,c)}})(Za);var ui;function Af(){if(ui)return ar;ui=1,Object.defineProperty(ar,"__esModule",{value:!0}),ar.parseRecordDef=void 0;const r=qa,e=ye(),t=Za;function n(a,s){var i,o,u,c,l;if(s.target==="openApi3"&&((i=a.keyType)===null||i===void 0?void 0:i._def.typeName)===r.ZodFirstPartyTypeKind.ZodEnum)return{type:"object",required:a.keyType._def.values,properties:a.keyType._def.values.reduce((p,v)=>{var m;return Object.assign(Object.assign({},p),{[v]:(m=(0,e.parseDef)(a.valueType._def,Object.assign(Object.assign({},s),{currentPath:[...s.currentPath,"properties",v]})))!==null&&m!==void 0?m:{}})},{}),additionalProperties:!1};const d={type:"object",additionalProperties:(o=(0,e.parseDef)(a.valueType._def,Object.assign(Object.assign({},s),{currentPath:[...s.currentPath,"additionalProperties"]})))!==null&&o!==void 0?o:{}};if(s.target==="openApi3")return d;if(((u=a.keyType)===null||u===void 0?void 0:u._def.typeName)===r.ZodFirstPartyTypeKind.ZodString&&(!((c=a.keyType._def.checks)===null||c===void 0)&&c.length)){const p=Object.entries((0,t.parseStringDef)(a.keyType._def,s)).reduce((v,[m,w])=>m==="type"?v:Object.assign(Object.assign({},v),{[m]:w}),{});return Object.assign(Object.assign({},d),{propertyNames:p})}else if(((l=a.keyType)===null||l===void 0?void 0:l._def.typeName)===r.ZodFirstPartyTypeKind.ZodEnum)return Object.assign(Object.assign({},d),{propertyNames:{enum:a.keyType._def.values}});return d}return ar.parseRecordDef=n,ar}var sr={},ci;function Ef(){if(ci)return sr;ci=1,Object.defineProperty(sr,"__esModule",{value:!0}),sr.parseSetDef=void 0;const r=Fe,e=ye();function t(n,a){const i={type:"array",uniqueItems:!0,items:(0,e.parseDef)(n.valueType._def,Object.assign(Object.assign({},a),{currentPath:[...a.currentPath,"items"]}))};return n.minSize&&(0,r.setResponseValueAndErrors)(i,"minItems",n.minSize.value,n.minSize.message,a),n.maxSize&&(0,r.setResponseValueAndErrors)(i,"maxItems",n.maxSize.value,n.maxSize.message,a),i}return sr.parseSetDef=t,sr}var ir={},li;function Pf(){if(li)return ir;li=1,Object.defineProperty(ir,"__esModule",{value:!0}),ir.parseTupleDef=void 0;const r=ye();function e(t,n){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((a,s)=>(0,r.parseDef)(a._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"items",`${s}`]}))).reduce((a,s)=>s===void 0?a:[...a,s],[]),additionalItems:(0,r.parseDef)(t.rest._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"additionalItems"]}))}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((a,s)=>(0,r.parseDef)(a._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"items",`${s}`]}))).reduce((a,s)=>s===void 0?a:[...a,s],[])}}return ir.parseTupleDef=e,ir}var An={};Object.defineProperty(An,"__esModule",{value:!0});An.parseUndefinedDef=void 0;function xf(){return{not:{}}}An.parseUndefinedDef=xf;var En={};Object.defineProperty(En,"__esModule",{value:!0});En.parseUnknownDef=void 0;function Tf(){return{}}En.parseUnknownDef=Tf;var di;function ye(){if(di)return Kt;di=1,Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.parseDef=void 0;const r=qa,e=pn,t=ef(),n=fn,a=mn,s=nf(),i=af(),o=yn,u=uf(),c=cf(),l=gn,d=df(),p=bn,v=pf(),m=_n,w=vn,g=wn,x=gf(),I=On,T=_f(),P=vf(),N=wf(),A=Of(),j=Af(),y=Ef(),_=Za,f=Pf(),E=An,S=Eu(),K=En;function V(M,Z,z=!1){const Pe=Z.seen.get(M);if(Pe&&!z){const Ot=Y(Pe,Z);if(Ot!==void 0)return Ot}const _e={def:M,path:Z.currentPath,jsonSchema:void 0};Z.seen.set(M,_e);const pt=W(M,M.typeName,Z);return pt&&se(M,Z,pt),_e.jsonSchema=pt,pt}Kt.parseDef=V;const Y=(M,Z)=>{switch(Z.$refStrategy){case"root":return{$ref:M.path.length===0?"":M.path.length===1?`${M.path[0]}/`:M.path.join("/")};case"relative":return{$ref:D(Z.currentPath,M.path)};case"none":return M.path.length<Z.currentPath.length&&M.path.every((z,Pe)=>Z.currentPath[Pe]===z)?(console.warn(`Recursive reference detected at ${Z.currentPath.join("/")}! Defaulting to any`),{}):void 0;case"seen":return M.path.length<Z.currentPath.length&&M.path.every((z,Pe)=>Z.currentPath[Pe]===z)?(console.warn(`Recursive reference detected at ${Z.currentPath.join("/")}! Defaulting to any`),{}):M.jsonSchema}},D=(M,Z)=>{let z=0;for(;z<M.length&&z<Z.length&&M[z]===Z[z];z++);return[(M.length-z).toString(),...Z.slice(z)].join("/")},W=(M,Z,z)=>{switch(Z){case r.ZodFirstPartyTypeKind.ZodString:return(0,_.parseStringDef)(M,z);case r.ZodFirstPartyTypeKind.ZodNumber:return(0,I.parseNumberDef)(M,z);case r.ZodFirstPartyTypeKind.ZodObject:return(0,T.parseObjectDef)(M,z);case r.ZodFirstPartyTypeKind.ZodBigInt:return(0,n.parseBigintDef)(M,z);case r.ZodFirstPartyTypeKind.ZodBoolean:return(0,a.parseBooleanDef)();case r.ZodFirstPartyTypeKind.ZodDate:return(0,o.parseDateDef)(M,z);case r.ZodFirstPartyTypeKind.ZodUndefined:return(0,E.parseUndefinedDef)();case r.ZodFirstPartyTypeKind.ZodNull:return(0,g.parseNullDef)(z);case r.ZodFirstPartyTypeKind.ZodArray:return(0,t.parseArrayDef)(M,z);case r.ZodFirstPartyTypeKind.ZodUnion:case r.ZodFirstPartyTypeKind.ZodDiscriminatedUnion:return(0,S.parseUnionDef)(M,z);case r.ZodFirstPartyTypeKind.ZodIntersection:return(0,d.parseIntersectionDef)(M,z);case r.ZodFirstPartyTypeKind.ZodTuple:return(0,f.parseTupleDef)(M,z);case r.ZodFirstPartyTypeKind.ZodRecord:return(0,j.parseRecordDef)(M,z);case r.ZodFirstPartyTypeKind.ZodLiteral:return(0,p.parseLiteralDef)(M,z);case r.ZodFirstPartyTypeKind.ZodEnum:return(0,l.parseEnumDef)(M);case r.ZodFirstPartyTypeKind.ZodNativeEnum:return(0,m.parseNativeEnumDef)(M);case r.ZodFirstPartyTypeKind.ZodNullable:return(0,x.parseNullableDef)(M,z);case r.ZodFirstPartyTypeKind.ZodOptional:return(0,P.parseOptionalDef)(M,z);case r.ZodFirstPartyTypeKind.ZodMap:return(0,v.parseMapDef)(M,z);case r.ZodFirstPartyTypeKind.ZodSet:return(0,y.parseSetDef)(M,z);case r.ZodFirstPartyTypeKind.ZodLazy:return V(M.getter()._def,z);case r.ZodFirstPartyTypeKind.ZodPromise:return(0,A.parsePromiseDef)(M,z);case r.ZodFirstPartyTypeKind.ZodNaN:case r.ZodFirstPartyTypeKind.ZodNever:return(0,w.parseNeverDef)();case r.ZodFirstPartyTypeKind.ZodEffects:return(0,c.parseEffectsDef)(M,z);case r.ZodFirstPartyTypeKind.ZodAny:return(0,e.parseAnyDef)();case r.ZodFirstPartyTypeKind.ZodUnknown:return(0,K.parseUnknownDef)();case r.ZodFirstPartyTypeKind.ZodDefault:return(0,u.parseDefaultDef)(M,z);case r.ZodFirstPartyTypeKind.ZodBranded:return(0,s.parseBrandedDef)(M,z);case r.ZodFirstPartyTypeKind.ZodCatch:return(0,i.parseCatchDef)(M,z);case r.ZodFirstPartyTypeKind.ZodPipeline:return(0,N.parsePipelineDef)(M,z);case r.ZodFirstPartyTypeKind.ZodFunction:case r.ZodFirstPartyTypeKind.ZodVoid:case r.ZodFirstPartyTypeKind.ZodSymbol:return;default:return(Pe=>{})()}},se=(M,Z,z)=>(M.description&&(z.description=M.description,Z.markdownDescription&&(z.markdownDescription=M.description)),z);return Kt}var Pn={},Pu={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.getDefaultOptions=r.defaultOptions=void 0,r.defaultOptions={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"string",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,emailStrategy:"format:email"};const e=t=>typeof t=="string"?Object.assign(Object.assign({},r.defaultOptions),{name:t}):Object.assign(Object.assign({},r.defaultOptions),t);r.getDefaultOptions=e})(Pu);Object.defineProperty(Pn,"__esModule",{value:!0});Pn.getRefs=void 0;const Sf=Pu,jf=r=>{const e=(0,Sf.getDefaultOptions)(r),t=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return Object.assign(Object.assign({},e),{currentPath:t,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([n,a])=>[a._def,{def:a._def,path:[...e.basePath,e.definitionPath,n],jsonSchema:void 0}]))})};Pn.getRefs=jf;Object.defineProperty(hn,"__esModule",{value:!0});hn.zodToJsonSchema=void 0;const hi=ye(),If=Pn,kf=(r,e)=>{var t;const n=(0,If.getRefs)(e),a=typeof e=="object"&&e.definitions?Object.entries(e.definitions).reduce((u,[c,l])=>{var d;return Object.assign(Object.assign({},u),{[c]:(d=(0,hi.parseDef)(l._def,Object.assign(Object.assign({},n),{currentPath:[...n.basePath,n.definitionPath,c]}),!0))!==null&&d!==void 0?d:{}})},{}):void 0,s=typeof e=="string"?e:e==null?void 0:e.name,i=(t=(0,hi.parseDef)(r._def,s===void 0?n:Object.assign(Object.assign({},n),{currentPath:[...n.basePath,n.definitionPath,s]}),!1))!==null&&t!==void 0?t:{},o=s===void 0?a?Object.assign(Object.assign({},i),{[n.definitionPath]:a}):i:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,s].join("/"),[n.definitionPath]:Object.assign(Object.assign({},a),{[s]:i})};return n.target==="jsonSchema7"?o.$schema="http://json-schema.org/draft-07/schema#":n.target==="jsonSchema2019-09"&&(o.$schema="https://json-schema.org/draft/2019-09/schema#"),o};hn.zodToJsonSchema=kf;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.zodToJsonSchema=void 0;const e=hn;Object.defineProperty(r,"zodToJsonSchema",{enumerable:!0,get:function(){return e.zodToJsonSchema}}),r.default=e.zodToJsonSchema})(Gp);/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function xu(r){return typeof r>"u"||r===null}function Rf(r){return typeof r=="object"&&r!==null}function Cf(r){return Array.isArray(r)?r:xu(r)?[]:[r]}function Nf(r,e){var t,n,a,s;if(e)for(s=Object.keys(e),t=0,n=s.length;t<n;t+=1)a=s[t],r[a]=e[a];return r}function Lf(r,e){var t="",n;for(n=0;n<e;n+=1)t+=r;return t}function Df(r){return r===0&&Number.NEGATIVE_INFINITY===1/r}var Mf=xu,Ff=Rf,Bf=Cf,$f=Lf,Uf=Df,Vf=Nf,Ka={isNothing:Mf,isObject:Ff,toArray:Bf,repeat:$f,isNegativeZero:Uf,extend:Vf};function Tu(r,e){var t="",n=r.reason||"(unknown reason)";return r.mark?(r.mark.name&&(t+='in "'+r.mark.name+'" '),t+="("+(r.mark.line+1)+":"+(r.mark.column+1)+")",!e&&r.mark.snippet&&(t+=`

`+r.mark.snippet),n+" "+t):n}function gr(r,e){Error.call(this),this.name="YAMLException",this.reason=r,this.mark=e,this.message=Tu(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}gr.prototype=Object.create(Error.prototype);gr.prototype.constructor=gr;gr.prototype.toString=function(e){return this.name+": "+Tu(this,e)};var gt=gr,zf=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],qf=["scalar","sequence","mapping"];function Zf(r){var e={};return r!==null&&Object.keys(r).forEach(function(t){r[t].forEach(function(n){e[String(n)]=t})}),e}function Kf(r,e){if(e=e||{},Object.keys(e).forEach(function(t){if(zf.indexOf(t)===-1)throw new gt('Unknown option "'+t+'" is met in definition of "'+r+'" YAML type.')}),this.options=e,this.tag=r,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(t){return t},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=Zf(e.styleAliases||null),qf.indexOf(this.kind)===-1)throw new gt('Unknown kind "'+this.kind+'" is specified for "'+r+'" YAML type.')}var ge=Kf;function pi(r,e){var t=[];return r[e].forEach(function(n){var a=t.length;t.forEach(function(s,i){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(a=i)}),t[a]=n}),t}function Hf(){var r={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,t;function n(a){a.multi?(r.multi[a.kind].push(a),r.multi.fallback.push(a)):r[a.kind][a.tag]=r.fallback[a.tag]=a}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(n);return r}function pa(r){return this.extend(r)}pa.prototype.extend=function(e){var t=[],n=[];if(e instanceof ge)n.push(e);else if(Array.isArray(e))n=n.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit));else throw new gt("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.forEach(function(s){if(!(s instanceof ge))throw new gt("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new gt("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new gt("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof ge))throw new gt("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var a=Object.create(pa.prototype);return a.implicit=(this.implicit||[]).concat(t),a.explicit=(this.explicit||[]).concat(n),a.compiledImplicit=pi(a,"implicit"),a.compiledExplicit=pi(a,"explicit"),a.compiledTypeMap=Hf(a.compiledImplicit,a.compiledExplicit),a};var Yf=pa,Jf=new ge("tag:yaml.org,2002:str",{kind:"scalar",construct:function(r){return r!==null?r:""}}),Wf=new ge("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(r){return r!==null?r:[]}}),Gf=new ge("tag:yaml.org,2002:map",{kind:"mapping",construct:function(r){return r!==null?r:{}}}),Qf=new Yf({explicit:[Jf,Wf,Gf]});function Xf(r){if(r===null)return!0;var e=r.length;return e===1&&r==="~"||e===4&&(r==="null"||r==="Null"||r==="NULL")}function em(){return null}function tm(r){return r===null}var rm=new ge("tag:yaml.org,2002:null",{kind:"scalar",resolve:Xf,construct:em,predicate:tm,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function nm(r){if(r===null)return!1;var e=r.length;return e===4&&(r==="true"||r==="True"||r==="TRUE")||e===5&&(r==="false"||r==="False"||r==="FALSE")}function am(r){return r==="true"||r==="True"||r==="TRUE"}function sm(r){return Object.prototype.toString.call(r)==="[object Boolean]"}var im=new ge("tag:yaml.org,2002:bool",{kind:"scalar",resolve:nm,construct:am,predicate:sm,represent:{lowercase:function(r){return r?"true":"false"},uppercase:function(r){return r?"TRUE":"FALSE"},camelcase:function(r){return r?"True":"False"}},defaultStyle:"lowercase"});function om(r){return 48<=r&&r<=57||65<=r&&r<=70||97<=r&&r<=102}function um(r){return 48<=r&&r<=55}function cm(r){return 48<=r&&r<=57}function lm(r){if(r===null)return!1;var e=r.length,t=0,n=!1,a;if(!e)return!1;if(a=r[t],(a==="-"||a==="+")&&(a=r[++t]),a==="0"){if(t+1===e)return!0;if(a=r[++t],a==="b"){for(t++;t<e;t++)if(a=r[t],a!=="_"){if(a!=="0"&&a!=="1")return!1;n=!0}return n&&a!=="_"}if(a==="x"){for(t++;t<e;t++)if(a=r[t],a!=="_"){if(!om(r.charCodeAt(t)))return!1;n=!0}return n&&a!=="_"}if(a==="o"){for(t++;t<e;t++)if(a=r[t],a!=="_"){if(!um(r.charCodeAt(t)))return!1;n=!0}return n&&a!=="_"}}if(a==="_")return!1;for(;t<e;t++)if(a=r[t],a!=="_"){if(!cm(r.charCodeAt(t)))return!1;n=!0}return!(!n||a==="_")}function dm(r){var e=r,t=1,n;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),n=e[0],(n==="-"||n==="+")&&(n==="-"&&(t=-1),e=e.slice(1),n=e[0]),e==="0")return 0;if(n==="0"){if(e[1]==="b")return t*parseInt(e.slice(2),2);if(e[1]==="x")return t*parseInt(e.slice(2),16);if(e[1]==="o")return t*parseInt(e.slice(2),8)}return t*parseInt(e,10)}function hm(r){return Object.prototype.toString.call(r)==="[object Number]"&&r%1===0&&!Ka.isNegativeZero(r)}var pm=new ge("tag:yaml.org,2002:int",{kind:"scalar",resolve:lm,construct:dm,predicate:hm,represent:{binary:function(r){return r>=0?"0b"+r.toString(2):"-0b"+r.toString(2).slice(1)},octal:function(r){return r>=0?"0o"+r.toString(8):"-0o"+r.toString(8).slice(1)},decimal:function(r){return r.toString(10)},hexadecimal:function(r){return r>=0?"0x"+r.toString(16).toUpperCase():"-0x"+r.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),fm=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function mm(r){return!(r===null||!fm.test(r)||r[r.length-1]==="_")}function ym(r){var e,t;return e=r.replace(/_/g,"").toLowerCase(),t=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?t===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:t*parseFloat(e,10)}var gm=/^[-+]?[0-9]+e/;function bm(r,e){var t;if(isNaN(r))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===r)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===r)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Ka.isNegativeZero(r))return"-0.0";return t=r.toString(10),gm.test(t)?t.replace("e",".e"):t}function _m(r){return Object.prototype.toString.call(r)==="[object Number]"&&(r%1!==0||Ka.isNegativeZero(r))}var vm=new ge("tag:yaml.org,2002:float",{kind:"scalar",resolve:mm,construct:ym,predicate:_m,represent:bm,defaultStyle:"lowercase"}),wm=Qf.extend({implicit:[rm,im,pm,vm]}),Om=wm,Su=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),ju=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Am(r){return r===null?!1:Su.exec(r)!==null||ju.exec(r)!==null}function Em(r){var e,t,n,a,s,i,o,u=0,c=null,l,d,p;if(e=Su.exec(r),e===null&&(e=ju.exec(r)),e===null)throw new Error("Date resolve error");if(t=+e[1],n=+e[2]-1,a=+e[3],!e[4])return new Date(Date.UTC(t,n,a));if(s=+e[4],i=+e[5],o=+e[6],e[7]){for(u=e[7].slice(0,3);u.length<3;)u+="0";u=+u}return e[9]&&(l=+e[10],d=+(e[11]||0),c=(l*60+d)*6e4,e[9]==="-"&&(c=-c)),p=new Date(Date.UTC(t,n,a,s,i,o,u)),c&&p.setTime(p.getTime()-c),p}function Pm(r){return r.toISOString()}var xm=new ge("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Am,construct:Em,instanceOf:Date,represent:Pm});function Tm(r){return r==="<<"||r===null}var Sm=new ge("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Tm}),Ha=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function jm(r){if(r===null)return!1;var e,t,n=0,a=r.length,s=Ha;for(t=0;t<a;t++)if(e=s.indexOf(r.charAt(t)),!(e>64)){if(e<0)return!1;n+=6}return n%8===0}function Im(r){var e,t,n=r.replace(/[\r\n=]/g,""),a=n.length,s=Ha,i=0,o=[];for(e=0;e<a;e++)e%4===0&&e&&(o.push(i>>16&255),o.push(i>>8&255),o.push(i&255)),i=i<<6|s.indexOf(n.charAt(e));return t=a%4*6,t===0?(o.push(i>>16&255),o.push(i>>8&255),o.push(i&255)):t===18?(o.push(i>>10&255),o.push(i>>2&255)):t===12&&o.push(i>>4&255),new Uint8Array(o)}function km(r){var e="",t=0,n,a,s=r.length,i=Ha;for(n=0;n<s;n++)n%3===0&&n&&(e+=i[t>>18&63],e+=i[t>>12&63],e+=i[t>>6&63],e+=i[t&63]),t=(t<<8)+r[n];return a=s%3,a===0?(e+=i[t>>18&63],e+=i[t>>12&63],e+=i[t>>6&63],e+=i[t&63]):a===2?(e+=i[t>>10&63],e+=i[t>>4&63],e+=i[t<<2&63],e+=i[64]):a===1&&(e+=i[t>>2&63],e+=i[t<<4&63],e+=i[64],e+=i[64]),e}function Rm(r){return Object.prototype.toString.call(r)==="[object Uint8Array]"}var Cm=new ge("tag:yaml.org,2002:binary",{kind:"scalar",resolve:jm,construct:Im,predicate:Rm,represent:km}),Nm=Object.prototype.hasOwnProperty,Lm=Object.prototype.toString;function Dm(r){if(r===null)return!0;var e=[],t,n,a,s,i,o=r;for(t=0,n=o.length;t<n;t+=1){if(a=o[t],i=!1,Lm.call(a)!=="[object Object]")return!1;for(s in a)if(Nm.call(a,s))if(!i)i=!0;else return!1;if(!i)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}function Mm(r){return r!==null?r:[]}var Fm=new ge("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Dm,construct:Mm}),Bm=Object.prototype.toString;function $m(r){if(r===null)return!0;var e,t,n,a,s,i=r;for(s=new Array(i.length),e=0,t=i.length;e<t;e+=1){if(n=i[e],Bm.call(n)!=="[object Object]"||(a=Object.keys(n),a.length!==1))return!1;s[e]=[a[0],n[a[0]]]}return!0}function Um(r){if(r===null)return[];var e,t,n,a,s,i=r;for(s=new Array(i.length),e=0,t=i.length;e<t;e+=1)n=i[e],a=Object.keys(n),s[e]=[a[0],n[a[0]]];return s}var Vm=new ge("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:$m,construct:Um}),zm=Object.prototype.hasOwnProperty;function qm(r){if(r===null)return!0;var e,t=r;for(e in t)if(zm.call(t,e)&&t[e]!==null)return!1;return!0}function Zm(r){return r!==null?r:{}}var Km=new ge("tag:yaml.org,2002:set",{kind:"mapping",resolve:qm,construct:Zm});Om.extend({implicit:[xm,Sm],explicit:[Cm,Fm,Vm,Km]});function fi(r){return r===48?"\0":r===97?"\x07":r===98?"\b":r===116||r===9?"	":r===110?`
`:r===118?"\v":r===102?"\f":r===114?"\r":r===101?"\x1B":r===32?" ":r===34?'"':r===47?"/":r===92?"\\":r===78?"":r===95?"":r===76?"\u2028":r===80?"\u2029":""}var Hm=new Array(256),Ym=new Array(256);for(var jt=0;jt<256;jt++)Hm[jt]=fi(jt)?1:0,Ym[jt]=fi(jt);class Jm{async loadAndSplit(e=new Ur){const t=await this.load();return e.splitDocuments(t)}}class Kr extends Jm{constructor(e,t){super(),Object.defineProperty(this,"webPath",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"selector",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textDecoder",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{timeout:n,selector:a,textDecoder:s,...i}=t??{};this.timeout=n??1e4,this.caller=new ka(i),this.selector=a??"body",this.textDecoder=s}static async _scrape(e,t,n,a){const{load:s}=await Kr.imports(),i=await t.call(fetch,e,{signal:n?AbortSignal.timeout(n):void 0}),o=(a==null?void 0:a.decode(await i.arrayBuffer()))??await i.text();return s(o)}async scrape(){return Kr._scrape(this.webPath,this.caller,this.timeout,this.textDecoder)}async load(){const t=(await this.scrape())(this.selector).text(),n={source:this.webPath};return[new Ro({pageContent:t,metadata:n})]}static async imports(){try{const{load:e}=await Oe(()=>import("./chunks/index.be372a83.js"),["assets/chunks/index.be372a83.js","assets/chatbot.md.6631503b.js","assets/chunks/framework.65f1bd78.js"]);return{load:e}}catch(e){throw console.error(e),new Error("Please install cheerio as a dependency with, e.g. `yarn add cheerio`")}}}const Wm={class:"flex h-screen"},Gm={class:"text-white w-1/4"},Qm={class:"fixed w-1/4 p-4 h-full"},Xm=Q("a",{href:"/",target:"_blank"},[Q("img",{src:Fu,alt:""})],-1),ey=Q("h1",{class:"mb-5 mt-10 font-bold text-2xl"},"Configuracion:",-1),ty=Q("label",{class:"font-bold",for:""},"OpenAI Key:",-1),ry={class:"py-2"},ny=Q("h1",{class:"mb-5 mt-10 font-bold text-2xl text-center mr-8"},"ChatBots:",-1),ay={class:"py-2 gap-5 grid grid-cols-2 mr-8 font-bold"},sy={class:"flex flex-col flex-grow"},iy=fa("",1),oy={class:"flex-grow flex flex-col"},uy={key:0,class:"h-full flex justify-center items-center"},cy=fa("",1),ly=[cy],dy={class:"px-28"},hy={class:"flex justify-end gap-2 pb-5"},py={class:"bg-gray-50 flex items-center px-2 rounded-md text-black",style:{"max-width":"800px"}},fy=Q("div",{class:"flex items-start"},[Q("img",{class:"bg-gray-200 rounded-full p-1",src:mi,width:"50",alt:""})],-1),my={class:"flex gap-2 pb-5"},yy=Q("div",{class:"flex items-start"},[Q("img",{class:"bg-gray-200 rounded-full p-1",src:br,width:"50",alt:""})],-1),gy={class:"flex items-center"},by={class:"flex bg-gray-50 p-2 rounded-md text-black",style:{"max-width":"800px"}},_y={key:0,class:"flex gap-2"},vy=Q("img",{src:br,width:"50",alt:""},null,-1),wy=Q("div",{class:"bg-gray-100 flex items-center px-2 rounded-md text-black"}," Inserte token, yo no hablo gratis ",-1),Oy=[vy,wy],Ay={key:1,class:"pt-5 pb-36"},Ey={class:"px-28"},Py={class:"flex justify-end gap-2 pb-5"},xy={class:"bg-gray-50 flex items-center px-2 rounded-md text-black",style:{"max-width":"815px"}},Ty=Q("div",{class:"flex items-start"},[Q("img",{class:"bg-gray-200 rounded-full p-1",src:mi,width:"50",alt:""})],-1),Sy=fa("",1),jy={key:0,class:"flex gap-2"},Iy=Q("img",{src:br,width:"50",alt:""},null,-1),ky=Q("div",{class:"bg-gray-100 flex items-center px-2 rounded-md text-black"}," Inserte token, yo no hablo gratis ",-1),Ry=[Iy,ky],Cy={class:"flex items-center bg-orange-500 py-5 px-28 fixed bottom-0 right-0 w-3/4"},Ny=Q("input",{id:"prompt",placeholder:"Escribe tu mensaje",class:"w-full bg-gray-200 p-3 rounded-md text-black",type:"text"},null,-1),Ly=`Name {name} 
 Role{role}
 Task:Virtual assistant specialized in PlaceToPay's products and implementation assistance, which is part of Evertec. Currently only accounts access to Microsite documentation
introduction to microsites: {introduction}
 how does microsites work?: {how_do_work}
 before starting: {before_starting}
 future updates of microsites: {updates}
 Condition1 You can only answer questions related to your Role 
 Condition2 Be a very objective assistant who always wants to help 
 Condition3 If you do not have information to answer a question you must indicate that you do not have this information 
 Condition4 You are not allowed to give wrong information 
 Condition5 You must answer in {language}. User says:`,Dy={__name:"ChatBot",setup(r){let e=ne("introduction.html"),t=ne("about-it.html"),n=ne("before-starting.html"),a=ne("team.html"),s=ne("initial-settings.html"),i=ne("create-microsites.html"),o=ne("creation-advices.html"),u=ne(""),c=ne(""),l=ne(""),d=ne(""),p=ne(""),v=ne(""),m=ne("");async function w(Y,D){try{console.log("pagina 1:"+u.value),console.log("pagina 2:"+c.value),console.log("pagina 3:"+l.value),console.log("pagina 4:"+d.value),console.log("pagina 5:"+p.value),console.log("pagina 6:"+v.value),console.log("pagina 7:"+m.value);const se=await new Kr(`https://juanf0509.github.io/${Y}`).load(),M="Contents for current page",Z="__VP_HASH_MAP__",z=se[0].pageContent.indexOf(M),Pe=se[0].pageContent.indexOf(Z);if(z!==-1&&Pe!==-1){const _e=se[0].pageContent.substring(z,Pe+Z.length).replace(/Contents for current page/g,"").replace(/__VP_HASH_MAP__/g,"");switch(D){case 1:u.value=_e;break;case 2:c.value=_e;break;case 3:l.value=_e;break;case 4:d.value=_e;break;case 5:p.value=_e;break;case 6:v.value=_e;break;case 7:m.value=_e;break;default:console.log("Nmero invlido.")}}else console.log("No se encontraron las palabras de inicio y fin.")}catch(W){console.log("Error al cargar el contenido:",W)}}const g=ne(""),x=new Co,I=new it({template:Ly,inputVariables:["name","role","language","introduction","how_do_work","before_starting","updates"]});ne("");let T=ne({message:[]}),P=ne(1);ne(null);let N=ne(!1),A=ne(""),j=ne(""),y="";async function _(){y=g.value;const Y=new Ma({model_name:"gpt-3.5-turbo-16k-0613",openAIApiKey:y,temperature:0,maxTokens:256,streaming:!0}),D=new Mp({llm:Y,memory:x});j.value=await I.format({name:"Implementation bot",role:"PlacetoPay's virtual assistant",language:"Spanish",how_do_work:c.value,introduction:u.value,before_starting:l.value,updates:d.value}),N.value===!0&&(j.value=document.getElementById("prompt").value),A.value=j.value;try{S.value=!0,E.value=document.getElementById("prompt").value,f.value=!0;const W=await D.call({input:A.value},[{handleLLMNewToken(se){process.stdout.write(se)}}]);console.log(W),T.value.message.push({user:{message_id:P.value++,mySelf:!0,text:E.value},bot:{message_id:P.value++,mySelf:!1,text:W.response}}),document.getElementById("prompt").value="",N.value=!0}catch(W){K.value=!0,console.error(W)}finally{f.value=!1}}const f=ne(!1);let E=ne(""),S=ne(!1),K=ne(!1);const V=new _t.Configuration({apiKey:y});return new _t.OpenAIApi(V),ne(""),Ru(async()=>{w(e.value,1),w(t.value,2),w(n.value,3),w(a.value,4),w(s.value,5),w(i.value,6),w(o.value,7)}),ne(""),ne(""),(Y,D)=>(at(),st("div",Wm,[Q("div",Gm,[Q("div",Qm,[Xm,ey,ty,Cu(Q("input",{"onUpdate:modelValue":D[0]||(D[0]=W=>g.value=W),id:"api_key",class:"bg-gray-100 text-black rounded-md p-2",placeholder:"OPENAI API KEY",type:"text"},null,512),[[Nu,g.value]]),Q("div",ry,[Q("button",{class:"bg-red-300 p-2 rounded-md",onClick:D[1]||(D[1]=W=>w("introduction.html",1))},"Cheerio")]),ny,Q("div",ay,[Q("button",{class:"bg-orange-400 p-2 rounded-md",onClick:D[2]||(D[2]=W=>w("introduction.html",1))},"Asistente "),Q("button",{class:"bg-red-400 p-2 rounded-md",onClick:D[3]||(D[3]=W=>w("introduction.html",1))},"Integraciones "),Q("button",{class:"bg-green-400 p-2 rounded-md col-span-2",onClick:D[4]||(D[4]=W=>w("introduction.html",1))},"Gente y cultura ")])])]),Q("div",sy,[iy,Q("div",oy,[Q("div",{id:"mensajes",class:Wa(["flex-grow duration-300",Et(S)?"bg-gray-300":"bg-settings"])},[Et(S)?Er("",!0):(at(),st("div",uy,ly)),Q("div",{class:Wa(["pt-5",f.value?"":"pb-36"])},[(at(!0),st(Lu,null,Du(Et(T).message,W=>(at(),st("div",null,[Q("div",dy,[Q("div",hy,[Q("div",py,Tn(W.user.text),1),fy]),Q("div",my,[yy,Q("div",gy,[Q("div",by,Tn(W.bot.text),1)])])])]))),256)),Et(K)?(at(),st("div",_y,Oy)):Er("",!0)],2),f.value===!0?(at(),st("div",Ay,[Q("div",null,[Q("div",Ey,[Q("div",Py,[Q("div",xy,Tn(Et(E)),1),Ty]),Sy])]),Et(K)?(at(),st("div",jy,Ry)):Er("",!0)])):Er("",!0)],2),Q("div",Cy,[Ny,Q("button",{onClick:D[5]||(D[5]=W=>_()),class:"bg-gray-400 px-10 ml-2 rounded-md p-3"},"Enviar")])])])]))}},Zy=JSON.parse('{"title":"","description":"","frontmatter":{"layout":false},"headers":[],"relativePath":"chatbot.md","filePath":"chatbot.md"}'),My={name:"chatbot.md"},Ky=Object.assign(My,{setup(r){return(e,t)=>(at(),st("div",null,[Mu(Dy)]))}});export{io as A,Ep as B,ot as C,so as H,dn as L,it as P,ao as R,Vy as S,Zy as __pageData,Oo as a,ae as b,Sp as c,vo as d,Ky as default,So as e,$r as f,Xr as g,_t as h,Ta as i,zy as j,jp as k,jo as l,nh as m,ze as n,To as p,ko as r,Gp as z};
